add_namespace = Sudan
add_namespace = SudanNews
add_namespace = SouthSudan
add_namespace = SouthSudanNews
add_namespace = Darfur
add_namespace = DarfurNews

#Conflict in the Blue Nile
country_event = {
	id = Sudan.1
	title = Sudan.1.t
	desc = Sudan.1.d
	picture = GFX_african_demonstration

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 222
			owns_state = 422
		}
	}

	option = {
		name = Sudan.1.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.1.a executed"
		if = {
			limit = { owns_state = 222 }
			SSU = { transfer_state = 222 }
		}
		if = {
			limit = { owns_state = 1183 }
			SSU = { transfer_state = 1183 }
		}
		if = {
			limit = { owns_state = 927 }
			SSU = { transfer_state = 927 }
		}
		if = {
			limit = { owns_state = 923 }
			SSU = { transfer_state = 923 }
		}
	}
	option = {
		name = Sudan.1.b
		log = "[GetDateText]: [THIS.GetName]: Sudan.1.b executed"
		start_civil_war = {
			ideology = neutrality
			size = 0.2
			states = {
				222 1183 927
			}
			hidden_effect = {
				set_temp_variable = { rul_party_temp = 13 }
				change_ruling_party_effect = yes
				if = {
					limit = { has_war_with = DAR }
					country_event = { id = Sudan.2 hours = 12 }
				}
				load_oob = "SRF_rebels"
				PREV = {
					SUD_abdelaziz_al_hilu = {
						set_nationality = PREV.PREV
						add_corps_commander_role = {
							traits = { infantry_officer trickster }
							skill = 2
							attack_skill = 1
							defense_skill = 1
							planning_skill = 4
							logistics_skill = 1
						}
						add_advisor_role = {
							activate = yes
							advisor = {
								slot = army_chief
								idea_token = abdelaziz_al_hilu
								traits = {
									army_chief_reform_1
								}
								cost = 100
							}
						}
					}
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_cosmetic_tag = SUD_SPLMN
		}
		hidden_effect = {
			if = {
				limit = {
					any_other_country = {
						original_tag = SUD
						has_war_with = DAR
					}
				}
				DAR = {
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
			}
		}
		set_global_flag = Sudan_Conflict_In_Blue_Nile
		hidden_effect = { news_event = { id = SudanNews.2 hours = 6 } }
	}

}

#Alliance with Darfur?
country_event = {
	id = Sudan.2
	title = Sudan.2.t
	desc = Sudan.2.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = Sudan.2.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.2.a executed"
		ai_chance = { base = 80 }
		DAR = { country_event = { id = Sudan.3 hours = 6 } }
		custom_effect_tooltip = Sudan.2.a.tt
		effect_tooltip = {
			set_cosmetic_tag = SUD_SRF
			set_autonomy = {
				target = DAR
				autonomous_state = autonomy_autonomous_state
				end_wars = no
				end_civil_wars = no
			}
		}
	}
	option = {
		name = Sudan.2.b
		ai_chance = { base = 20 }
		log = "[GetDateText]: [THIS.GetName]: Sudan.2.b executed"
	}

}

#Alliance with SPLMN-A?
country_event = {
	id = Sudan.3
	title = Sudan.3.t
	desc = Sudan.3.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = Sudan.3.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.3.a executed"
		ai_chance = {
			base = 70
			modifier = {
				factor = 0.5
				OR = {
					owns_state = 223
					owns_state = 1183
				}
			}
		}
		effect_tooltip = {
			FROM = {
				set_cosmetic_tag = SUD_SRF
				set_autonomy = {
					target = DAR
					autonomous_state = autonomy_autonomous_state
					end_wars = no
					end_civil_wars = no
				}
			}
		}
		FROM = { country_event = { id = Sudan.4 hours = 6 } }
	}
	option = {
		name = Sudan.3.b
		log = "[GetDateText]: [THIS.GetName]: Sudan.3.b executed"
		ai_chance = {
			base = 30
			modifier = {
				factor = 2
				OR = {
					owns_state = 223
					owns_state = 1183
				}
			}
		}
		FROM = { country_event = { id = Sudan.5 hours = 6 } }
	}

}

#Dafuri rebels agree to an alliance
country_event = {
	id = Sudan.4
	title = Sudan.4.t
	desc = Sudan.4.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = Sudan.4.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.4.a executed"
		set_cosmetic_tag = SUD_SRF
		if = {
			limit = { has_global_flag = GAME_RULE_allow_colored_puppets }
			set_autonomy = {
				target = SSU
				autonomous_state = autonomy_autonomous_state_colored
				end_wars = no
				end_civil_wars = no
			}
		}
		else = {
			set_autonomy = {
				target = SSU
				autonomous_state = autonomy_autonomous_state
				end_wars = no
				end_civil_wars = no
			}
		}
		SUD = { country_event = { id = Sudan.6 hours = 6 } }
	}

}

#Dafuri rebels rejecet alliance
country_event = {
	id = Sudan.5
	title = Sudan.5.t
	desc = Sudan.5.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = Sudan.5.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.5.a executed"
	}

}

#SPLM-N and Darfur ally each other
country_event = {
	id = Sudan.6
	title = Sudan.6.t
	desc = Sudan.6.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = Sudan.6.a
		log = "[GetDateText]: [THIS.GetName]: Sudan.6.a executed"
	}

}

#Conflict in the Blue Nile is over
news_event = {

	id = SudanNews.1
	title = SudanNews.1.t
	desc = SudanNews.1.d
	picture = GFX_news_sudan_civil_war

	major = yes

	is_triggered_only = yes

	option = {
		name = SudanNews.1.a
		log = "[GetDateText]: [This.GetName]: SudanNews.1.a executed"
	}

}

#Conflict in the Blue Nile begins
news_event = {

	id = SudanNews.2
	title = SudanNews.2.t
	desc = SudanNews.2.d
	picture = GFX_news_sudan_civil_war

	major = yes

	is_triggered_only = yes

	option = {
		name = SudanNews.2.a
		log = "[GetDateText]: [This.GetName]: SudanNews.2.a executed"
	}

}

#South Sudanese Independence Referendum
country_event = {
	id = SouthSudan.1
	title = SouthSudan.1.t
	desc = SouthSudan.1.d
	picture = GFX_speech_african

	is_triggered_only = yes

	trigger = {
		is_subject = yes
	}

	immediate = {
		set_variable = { referendum_independence = 100 }
		set_variable = { referendum_part_of_sudan = 0 }
		#Find Sudanese influence
		set_temp_variable = { influence_of_sudan = 0 }
		if = {
			limit = {
				check_variable = { influence_array^0 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^0 }
		}
		if = {
			limit = {
				check_variable = { influence_array^1 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^1 }
		}
		if = {
			limit = {
				check_variable = { influence_array^2 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^2 }
		}
		if = {
			limit = {
				check_variable = { influence_array^3 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^3 }
		}
		if = {
			limit = {
				check_variable = { influence_array^4 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^4 }
		}
		if = {
			limit = {
				check_variable = { influence_array^5 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^5 }
		}
		if = {
			limit = {
				check_variable = { influence_array^6 = SUD.id }
			}
			add_to_temp_variable = { influence_of_sudan = influence_array_val^6 }
		}
		#If influence is at least 20%, multiply it by 0.75 and use that as the base value for not wanting to be independent
		#Otherwise chance of not-independence stays 0
		if = {
			limit = {
				check_variable = { influence_of_sudan > 19.999 }
			}
			multiply_temp_variable = { influence_of_sudan = 0.75 }
			add_to_variable = { referendum_part_of_sudan = influence_of_sudan }
		}
		subtract_from_variable = { referendum_independence = referendum_part_of_sudan }
	}

	option = {
		name = SouthSudan.1.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.1.a executed"
		random_list = {
			referendum_independence = {
				SUD = {
					set_autonomy = {
						target = SSU
						autonomous_state = autonomy_free
						end_wars = yes
						end_civil_wars = no
					}
					country_event = { id = SouthSudan.12 }
				}
				country_event = { id = SouthSudan.16 hours = 6 }
			}
			referendum_part_of_sudan = {
				SUD = {
					if = {
						limit = { has_global_flag = GAME_RULE_allow_colored_puppets }
						set_autonomy = {
							target = SSU
							autonomous_state = autonomy_autonomous_state_colored
							end_wars = no
							end_civil_wars = no
						}
					}
					else = {
						set_autonomy = {
							target = SSU
							autonomous_state = autonomy_autonomous_state
							end_wars = no
							end_civil_wars = no
						}
					}
					country_event = { id = SouthSudan.13 }
				}
			}
		}
		clear_variable = referendum_independence
		clear_variable = referendum_part_of_sudan
		set_global_flag = South_Sudan_referendum_held
		hidden_effect = { country_event = { id = Sudan.1 days = 150 random_days = 60 } }
		hidden_effect = { news_event = { id = SouthSudanNews.4 hours = 6 } }
	}

}

#Eastern Front activates
country_event = {
	id = SouthSudan.2
	title = SouthSudan.2.t
	desc = SouthSudan.2.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.2.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.2.a executed"
	}

}

#Sudanese rebels in the Blue Nile
country_event = {
	id = SouthSudan.3
	title = SouthSudan.3.t
	desc = SouthSudan.3.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.3.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.3.a executed"
	}

}

#South Sudan requests increased support
country_event = {
	id = SouthSudan.4
	title = SouthSudan.4.t
	desc = SouthSudan.4.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.4.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.4.a executed"
		ai_chance = {
			base = 100
		}
		set_temp_variable = { influence_target = FROM }
		set_temp_variable = { percent_change = 10 }
		set_temp_variable = { tag_index = ROOT }
		change_influence_percentage = yes
		transfer_units_fraction = {
			target = FROM
			size = 0.1
			army_ratio = 0.1
			navy_ratio = 0
			air_ratio = 0
			keep_unit_leaders_trigger = { always = yes }
		}
		FROM = { country_event = { id = SouthSudan.5 hours = 6 } }
	}
	option = {
		name = SouthSudan.4.b
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.4.b executed"
		ai_chance = {
			base = 0
		}
		FROM = { country_event = { id = SouthSudan.6 hours = 6 } }
	}

}

#Uganda acccepts
country_event = {
	id = SouthSudan.5
	title = SouthSudan.5.t
	desc = SouthSudan.5.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.5.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.5.a executed"
	}

}

#Uganda rejects
country_event = {
	id = SouthSudan.6
	title = SouthSudan.6.t
	desc = SouthSudan.6.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.6.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.6.a executed"
	}

}

#South Sudan offers Ilemi
country_event = {
	id = SouthSudan.7
	title = SouthSudan.7.t
	desc = SouthSudan.7.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.7.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.7.a executed"
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				check_variable = { interest_rate > 8 }
			}
		}
		set_temp_variable = { influence_target = FROM }
		set_temp_variable = { percent_change = 10 }
		set_temp_variable = { tag_index = ROOT }
		change_influence_percentage = yes
		effect_tooltip = {
			transfer_state = 925
			add_state_core = 925
			925 = {
				remove_core_of = SSU
				remove_claim_by = SUD
			}
			926 = {
				remove_claim_by = SSU
				remove_claim_by = SUD
			}
		}
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
		effect_tooltip = {
			FROM = {
				227 = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
		FROM = { country_event = { id = SouthSudan.8 hours = 6 } }
	}
	option = {
		name = SouthSudan.7.b
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.7.b executed"
		ai_chance = {
			base = 20
		}
		FROM = { country_event = { id = SouthSudan.9 hours = 6 } }
	}

}

#Kenya acccepts
country_event = {
	id = SouthSudan.8
	title = SouthSudan.8.t
	desc = SouthSudan.8.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.8.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.8.a executed"
		KEN = {
			transfer_state = 925
			add_state_core = 925
		}
		925 = {
			remove_core_of = SSU
			remove_claim_by = SUD
		}
		926 = {
			remove_claim_by = SSU
			remove_claim_by = SUD
		}
		227 = {
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
	}

}

#Kenya rejects
country_event = {
	id = SouthSudan.9
	title = SouthSudan.9.t
	desc = SouthSudan.9.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.9.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.9.a executed"
	}

}

#Sudan gets volunteers from Congo
country_event = {
	id = SouthSudan.10
	title = SouthSudan.10.t
	desc = SouthSudan.10.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	option = {
		name = SouthSudan.10.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.10.a executed"
	}

}

#Preparing for the South Sudanese independence referendum
country_event = {
	id = SouthSudan.11
	title = SouthSudan.11.t
	desc = SouthSudan.11.d
	picture = GFX_speech_african

	is_triggered_only = yes

	option = {
		name = SouthSudan.11.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.11.a executed"
		custom_effect_tooltip = SouthSudan.11.tooltip
	}

}

#South Sudan declares independence
country_event = {
	id = SouthSudan.12
	title = SouthSudan.12.t
	desc = SouthSudan.12.d
	picture = GFX_speech_african

	is_triggered_only = yes

	option = {
		name = SouthSudan.12.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.12.a executed"
		effect_tooltip = {
			set_autonomy = {
				target = SSU
				autonomous_state = autonomy_free
				end_wars = no
				end_civil_wars = no
			}
		}
	}

}

#South Sudan becomes autonomous
country_event = {
	id = SouthSudan.13
	title = SouthSudan.13.t
	desc = SouthSudan.13.d
	picture = GFX_speech_african

	is_triggered_only = yes

	option = {
		name = SouthSudan.13.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.13.a executed"
		effect_tooltip = {
			set_autonomy = {
				target = SSU
				autonomous_state = autonomy_autonomous_state
				end_wars = no
				end_civil_wars = no
			}
		}
	}

}

#John Garang dies
country_event = {
	id = SouthSudan.14
	title = SouthSudan.14.t
	desc = SouthSudan.14.d
	picture = GFX_speech_african

	is_triggered_only = yes

	trigger = {
		has_country_leader = {
			name = "John Garang"
			ruling_only = yes
		}
		UGA = {
			has_country_leader = {
				name = "Yoweri Museveni"
				ruling_only = yes
			}
		}
	}

	option = {
		name = SouthSudan.14.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.14.a executed"
		effect_tooltip = {
			kill_country_leader = yes
		}
		set_ruling_leader = yes
		set_leader = yes
		set_variable = { current_term = 0 }
	}

}

#South Sudanese civil war
country_event = {
	id = SouthSudan.15
	title = SouthSudan.15.t
	desc = SouthSudan.15.d
	picture = GFX_african_demonstration

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		original_tag = SSU
		has_civil_war = no
		OR = {
			has_global_flag = South_Sudan_referendum_held
			NOT = { country_exists = SUD }
		}
	}

	option = {
		name = SouthSudan.15.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.15.a executed"
		random = {
			chance = 40
			start_civil_war = {
				ideology = neutrality
				size = 0.7
				hidden_effect = {
					set_temp_variable = { rul_party_temp = 13 }
					change_ruling_party_effect = yes
				}
			}
			set_global_flag = South_Sudanese_Civil_War
			custom_effect_tooltip = SouthSudan.15.a.tt
			hidden_effect = { news_event = { id = SouthSudanNews.5 hours = 6 } }
		}
	}
	option = {
		name = SouthSudan.15.b
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.15.b executed"
		random = {
			chance = 70
			start_civil_war = {
				ideology = neutrality
				size = 0.3
				hidden_effect = {
					set_temp_variable = { rul_party_temp = 13 }
					change_ruling_party_effect = yes
				}
			}
			set_global_flag = South_Sudanese_Civil_War
			custom_effect_tooltip = SouthSudan.15.b.tt
			hidden_effect = { news_event = { id = SouthSudanNews.5 hours = 6 } }
		}
	}

}


#Choosing a name for South Sudan
country_event = {
	id = SouthSudan.16
	title = SouthSudan.16.t
	desc = SouthSudan.16.d
	picture = GFX_speech_african

	is_triggered_only = yes

	option = {
		name = SouthSudan.16.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.16.a executed"
		ai_chance = { base = 70 }
		set_cosmetic_tag = SSU
	}
	option = {
		name = SouthSudan.16.b
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.16.b executed"
		ai_chance = { base = 10 }
		clr_country_flag = dynamic_flag
		clr_country_flag = dynamic_rebel_flag
		set_cosmetic_tag = SSU_AZANIA
	}
	option = {
		name = SouthSudan.16.c
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.16.c executed"
		ai_chance = { base = 10 }
		clr_country_flag = dynamic_flag
		clr_country_flag = dynamic_rebel_flag
		set_cosmetic_tag = SSU_NILE
	}
	option = {
		name = SouthSudan.16.dd
		log = "[GetDateText]: [THIS.GetName]: SouthSudan.16.dd executed"
		ai_chance = { base = 10 }
		clr_country_flag = dynamic_flag
		clr_country_flag = dynamic_rebel_flag
		set_cosmetic_tag = SSU_KUSH
	}

}

news_event = {
	id = SouthSudanNews.1
	title = SouthSudanNews.1.t
	desc = SouthSudanNews.1.d
	picture = GFX_news_south_sudan_civil_war

	major = yes

	is_triggered_only = yes

	option = {
		name = SouthSudanNews.1.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudanNews.1.a executed"
	}

}

# Peace in South Sudan
news_event = {
	id = SouthSudanNews.2
	title = SouthSudan.2.t
	desc = SouthSudan.2.d
	picture = GFX_news_sudan_civil_war

	is_triggered_only = yes

	major = yes

	option = {
		name = SouthSudanNews.2.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudanNews.2.a executed"
	}
}

# One side wins Second Sudanese civil war
news_event = {
	id = SouthSudanNews.3
	title = {
		text = SouthSudanNews.3.t.SUD
		trigger = { FROM = { original_tag = SUD } }
	}
	title = {
		text = SouthSudanNews.3.t.SSU
		trigger = { FROM = { original_tag = SSU } }
	}
	desc = {
		text = SouthSudanNews.3.d.SUD
		trigger = { FROM = { original_tag = SUD } }
	}
	desc = {
		text = SouthSudanNews.3.d.SSU
		trigger = { FROM = { original_tag = SSU } }
	}
	picture = GFX_news_sudan_civil_war

	is_triggered_only = yes

	major = yes

	option = {
		name = SouthSudanNews.3.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudanNews.3.a executed"
	}
}

# One side wins Second Sudanese civil war
news_event = {
	id = SouthSudanNews.4
	title = {
		text = SouthSudanNews.4.t.independence
		trigger = { FROM = { is_subject = no } }
	}
	title = {
		text = SouthSudanNews.4.t.autonomy
		trigger = { FROM = { is_subject = yes } }
	}
	desc = {
		text = SouthSudanNews.4.d.independence
		trigger = { FROM = { is_subject = no } }
	}
	desc = {
		text = SouthSudanNews.4.d.autonomy
		trigger = { FROM = { is_subject = yes } }
	}
	picture = GFX_african_meeting2

	is_triggered_only = yes

	major = yes

	option = {
		name = SouthSudanNews.4.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudanNews.4.a executed"
	}
}

#South Sudanese civil war
news_event = {
	id = SouthSudanNews.5
	title = SouthSudanNews.5.t
	desc = SouthSudanNews.5.d
	picture = GFX_news_south_sudan_civil_war

	major = yes

	is_triggered_only = yes

	option = {
		name = SouthSudanNews.5.a
		log = "[GetDateText]: [THIS.GetName]: SouthSudanNews.5.a executed"
	}

}

#Darfur rises up (hidden event)
country_event = {
	id = Darfur.1

	hidden = yes
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		NOT = { has_global_flag = war_in_darfur }
		NOT = { country_exists = DAR }
		is_in_array = { ruling_party = 12 }
		controls_province = 10739
		controls_province = 11069
		controls_province = 11075
	}

	mean_time_to_happen = {
		modifier = {
			factor = 0.5
			has_elections = yes
		}
		modifier = {
			factor = 2
			surrender_progress > 0.25
		}
		modifier = {
			factor = 2
			core_resistance = {
				occupied_country_tag = DAR
				value > 70
			}
		}
		modifier = {
			factor = 2
			core_resistance = {
				occupied_country_tag = DAR
				value > 90
			}
		}
		modifier = {
			factor = 0
			has_global_flag = war_in_darfur
		}
	}

	option = {
		log = "[GetDateText]: [THIS.GetName]: Darfur.1.a executed"
		# First uprising happens randomly in three possible places
		random_list = {
			10 = {
				country_event = { id = Darfur.2 }	#Golo uprising
			}
			10 = {
				country_event = { id = Darfur.3 }	#Tine uprising
			}
			10 = {
				country_event = { id = Darfur.4 }	#El-Fasher uprising
			}
		}
		hidden_effect = { news_event = { id = DarfurNews.1 hours = 6 } }
		set_global_flag = war_in_darfur
	}
}

# Uprising in Golo
country_event = {
	id = Darfur.2
	title = Darfur.2.t
	desc = Darfur.2.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	immediate = {
		#If Darfur doesn't exist, this is the first uprising -> setup war
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = DAR } }
				614 = { transfer_state_to = DAR }
				224 = { set_state_owner_to = DAR }
				DAR = {
					clr_country_flag = dynamic_flag
					clr_country_flag = dynamic_rebel_flag
					set_cosmetic_tag = DAR_DLF
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
				add_named_threat = {
					threat = 5
					name = war_in_darfur_threat
				}
			}
			DAR = {
				load_oob = "DAR_Golo_uprising"
				set_province_controller = 11069
				224 = {
					add_victory_points = {
						province = 11069
						value = 9
					}
				}
			}
		}
	}

	option = {
		name = Darfur.2.a
		log = "[GetDateText]: [THIS.GetName]: Darfur.2.a executed"
		set_country_flag = SUD_golo_uprising
		hidden_effect = {
			random_list = {
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_tine_uprising
					}
					country_event = { id = Darfur.3 days = 20 random_days = 20 }
				}
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_el_fasher_uprising
					}
					country_event = { id = Darfur.4 days = 20 random_days = 20 }
				}
			}
		}
	}

}

#Uprising in Tine
country_event = {
	id = Darfur.3
	title = Darfur.3.t
	desc = Darfur.3.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	immediate = {
		#If Darfur doesn't exist, this is the first uprising -> setup war
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = DAR } }
				614 = { transfer_state_to = DAR }
				224 = { set_state_owner_to = DAR }
				DAR = {
					clr_country_flag = dynamic_flag
					clr_country_flag = dynamic_rebel_flag
					set_cosmetic_tag = DAR_DLF
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
				add_named_threat = {
					threat = 5
					name = war_in_darfur_threat
				}
			}
			DAR = {
				load_oob = "DAR_Tine_uprising"
				set_province_controller = 11075
				224 = {
					add_victory_points = {
						province = 11075
						value = 9
					}
				}
			}
		}
	}

	option = {
		name = Darfur.3.a
		log = "[GetDateText]: [THIS.GetName]: Darfur.3.a executed"
		set_country_flag = SUD_tine_uprising
		send_equipment = {
			equipment = Inf_equipment
			amount = 1500
			target = DAR
		}
		hidden_effect = {
			random_list = {
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_golo_uprising
					}
					country_event = { id = Darfur.2 days = 20 random_days = 20 }
				}
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_el_fasher_uprising
					}
					country_event = { id = Darfur.4 days = 20 random_days = 20 }
				}
			}
		}
	}

}

# Uprising in El Fasher
country_event = {
	id = Darfur.4
	title = Darfur.4.t
	desc = Darfur.4.d
	picture = GFX_african_rebels

	is_triggered_only = yes

	immediate = {
		#If Darfur doesn't exist, this is the first uprising -> setup war
		hidden_effect = {
			if = {
				limit = { NOT = { country_exists = DAR } }
				614 = { transfer_state_to = DAR }
				224 = { set_state_owner_to = DAR }
				DAR = {
					clr_country_flag = dynamic_flag
					clr_country_flag = dynamic_rebel_flag
					set_cosmetic_tag = DAR_DLF
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
				add_named_threat = {
					threat = 5
					name = war_in_darfur_threat
				}
			}
			DAR = {
				load_oob = "DAR_El_Fasher_uprising"
				set_province_controller = 10739
				224 = {
					add_victory_points = {
						province = 10739
						value = 4
					}
				}
			}
		}
	}

	option = {
		name = Darfur.4.a
		log = "[GetDateText]: [THIS.GetName]: Darfur.4.a executed"
		add_timed_idea = {
			idea = SUD_humiliated_army
			days = 180
		}
		set_country_flag = SUD_el_fasher_uprising
		hidden_effect = {
			random_list = {
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_golo_uprising
					}
					country_event = { id = Darfur.2 days = 20 random_days = 20 }
				}
				10 = {
					modifier = {
						factor = 0
						has_country_flag = SUD_tine_uprising
					}
					country_event = { id = Darfur.3 days = 20 random_days = 20 }
				}
			}
		}
	}

}

#War in Darfur
news_event = {
	id = DarfurNews.1
	title = DarfurNews.1.t
	desc = DarfurNews.1.d
	picture = GFX_news_sudan_civil_war

	is_triggered_only = yes

	major = yes

	option = {
		name = DarfurNews.1.a
		log = "[GetDateText]: [THIS.GetName]: DarfurNews.1.a executed"
	}
}

#War in Darfur ends - Autonomy
news_event = {
	id = DarfurNews.2
	title = DarfurNews.2.t
	desc = DarfurNews.2.d
	picture = GFX_news_sudan_civil_war

	is_triggered_only = yes

	major = yes

	option = {
		name = DarfurNews.2.a
		log = "[GetDateText]: [THIS.GetName]: DarfurNews.2.a executed"
	}
}

#War in Darfur ends - Independence
news_event = {
	id = DarfurNews.3
	title = DarfurNews.3.t
	desc = DarfurNews.3.d
	picture = GFX_news_sudan_civil_war

	is_triggered_only = yes

	major = yes

	option = {
		name = DarfurNews.3.a
		log = "[GetDateText]: [THIS.GetName]: DarfurNews.3.a executed"
	}
}