add_namespace = korea
add_namespace = korea_north
add_namespace = kim_jong_il_death


### China Demands Our Withdrawal from the Korean Peninsula
country_event = {
	id = korea.1

	title = korea.1.t
	desc = korea.1.d
	picture = GFX_CHI_generic

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = korea.1.a #This demand is ludicrous!
		add_political_power = 25
		ai_chance = {
			factor = 40
		}
		log = "[GetDateText]: [This.GetName]: korea.1.a executed"
	}

	option = {
		name = korea.1.b #It is better for us to concede...
		diplomatic_relation = {
			country = KOR
			relation = guarantee
			active = no
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				USA = {
					OR = {
						AND = {
							check_variable = { influence_array^0 = CHI }
							check_variable = { influence_array_val^0 > 24.999 }
						}
						AND = {
							check_variable = { influence_array^1 = CHI }
							check_variable = { influence_array_val^1 > 24.999 }
						}
						AND = {
							check_variable = { influence_array^2 = CHI }
							check_variable = { influence_array_val^2 > 24.999 }
						}
					}
				}
			}
			modifier = {
				factor = 2
				USA = {
					OR = {
						AND = {
							check_variable = { influence_array^0 = CHI }
							check_variable = { influence_array_val^0 > 39.999 }
						}
						AND = {
							check_variable = { influence_array^1 = CHI }
							check_variable = { influence_array_val^1 > 39.999 }
						}
					}
				}
			}
			modifier = {
				factor = 40
				CHI = { has_completed_focus = CHI_End_US_Hegemony }
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.1.b executed"
	}
}

### China is encouraging us to start economic reforms
country_event = {
	id = korea.2

	title = korea.2.t
	desc = korea.2.d
	picture = GFX_united_states_dollar

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = korea.2.a #Now is not the time for reform.
		CHI = {
			add_opinion_modifier = {
				target = NKO
				modifier = diplomatic_distance
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
				has_country_leader = {
					name = "Kim Jong-Un"
					ruling_only = yes
				}
			}
			modifier = {
				factor = 2
				communism > 0.9
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.2.a executed"
	}

	option = {
		name = korea.2.b #Initiate minor reforms.
		swap_ideas = {
			remove_idea = Planned_Economy
			add_idea = Socialist_Market_Economy_planned_2
		}
		add_stability = -0.02
		every_country = { news_event = { id = korea.3 } }
		ai_chance = {
			factor = 60
			modifier = {
				factor = 2
				NKO = {
					OR = {
						AND = {
							check_variable = { influence_array^0 = KOR }
							check_variable = { influence_array_val^0 > 24.999 }
						}
						AND = {
							check_variable = { influence_array^1 = KOR }
							check_variable = { influence_array_val^1 > 24.999 }
						}
						AND = {
							check_variable = { influence_array^2 = KOR }
							check_variable = { influence_array_val^2 > 24.999 }
						}
					}
				}
			}
			modifier = {
				factor = 2
				communism < 0.8
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.2.b executed"
	}

	option = {
		name = korea.2.c #Initiate moderate reforms.
		swap_ideas = {
			remove_idea = Planned_Economy
			add_idea = Socialist_Market_Economy
		}
		add_stability = -0.05
		every_country = { news_event = { id = korea.3 } }
		ai_chance = {
			factor = 40
			modifier = {
				factor = 3
				NKO = {
					OR = {
						AND = {
							check_variable = { influence_array^0 = KOR }
							check_variable = { influence_array_val^0 > 39.999 }
						}
						AND = {
							check_variable = { influence_array^1 = KOR }
							check_variable = { influence_array_val^1 > 39.999 }
						}
					}
				}
			}
			modifier = {
				factor = 2
				communism < 0.6
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.2.c executed"
	}

	option = {
		name = korea.2.e #Initiate major reforms.
		swap_ideas = {
			remove_idea = Planned_Economy
			add_idea = Socialist_Market_Economy_free_2
		}
		add_stability = -0.1
		every_country = { news_event = { id = korea.3 } }
		ai_chance = {
			factor = 20
			modifier = {
				factor = 4
				NKO = {
					check_variable = { influence_array^0 = KOR }
					check_variable = { influence_array_val^0 > 49.999 }
				}
			}
			modifier = {
				factor = 2
				communism < 0.4
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.2.e executed"
	}
}

### [NKO.GetLeader] has announced fresh economic reforms
news_event = {
	id = korea.3

	title = korea.3.t
	desc = korea.3.d
	picture = GFX_trade_agreement

	is_triggered_only = yes

	option = {
		name = korea.3.a #Encouraging news!
		log = "[GetDateText]: [This.GetName]: korea.3.a executed"
	}
}

### The Chinese-North Korean Split
news_event = {
	id = korea.4

	title = korea.4.t
	desc = korea.4.d
	picture = GFX_news_press_conference

	is_triggered_only = yes

	option = {
		name = korea.4.a #Only [CHI.GetLeader] knows where this going...
		log = "[GetDateText]: [This.GetName]: korea.4.a executed"
	}
}

#Peace Talks in Beijing
country_event = {
	id = korea.5

	title = korea.5.t
	desc = {
		trigger = { original_tag = KOR }
		text = korea.5.d
	}
	desc = {
		trigger = { original_tag = NKO }
		text = korea.5.d_NKO
	}
	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.5.a #Our country will never be whole again unless we take a few risks...
		set_country_flag = compromise_offered
		if = {
			limit = {
				NKO = { has_country_flag = compromise_offered }
				KOR = { has_country_flag = compromise_offered }
			}
			NKO = {
				remove_ideas = NKO_nuclear_tests
				remove_ideas = Massive_International_Sanctions
				remove_opinion_modifier = {
					target = KOR
					modifier = imminent_danger_to_national_security
				}
				add_opinion_modifier = {
					target = KOR
					modifier = peace_talks
				}
			}
			KOR = {
				remove_ideas = KOR_joint_us_exercises
				remove_opinion_modifier = {
					target = NKO
					modifier = imminent_danger_to_national_security
				}
				add_opinion_modifier = {
					target = NKO
					modifier = peace_talks
				}
			}
			every_country = {
				news_event = { days = 2 id = korea.7 }
			}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_the_military_opinion  = yes
		log = "[GetDateText]: [This.GetName]: korea.5.a executed"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					AND = {
						check_variable = { influence_array^0 = CHI }
						check_variable = { influence_array_val^0 > 19.999 }
					}
					AND = {
						check_variable = { influence_array^1 = CHI }
						check_variable = { influence_array_val^1 > 19.999 }
					}
					AND = {
						check_variable = { influence_array^2 = CHI }
						check_variable = { influence_array_val^2 > 19.999 }
					}
					AND = {
						check_variable = { influence_array^3 = CHI }
						check_variable = { influence_array_val^3 > 19.999 }
					}
				}
			}
			modifier = {
				factor = 2
				OR = {
					AND = {
						check_variable = { influence_array^0 = CHI }
						check_variable = { influence_array_val^0 > 29.999 }
					}
					AND = {
						check_variable = { influence_array^1 = CHI }
						check_variable = { influence_array_val^1 > 29.999 }
					}
					AND = {
						check_variable = { influence_array^2 = CHI }
						check_variable = { influence_array_val^2 > 29.999 }
					}
				}
			}
			modifier = {
				factor = 2
				OR = {
					AND = {
						check_variable = { influence_array^0 = CHI }
						check_variable = { influence_array_val^0 > 39.999 }
					}
					AND = {
						check_variable = { influence_array^1 = CHI }
						check_variable = { influence_array_val^1 > 39.999 }
					}
				}
			}
			modifier = {
				factor = 2
				check_variable = { influence_array^0 = CHI }
				check_variable = { influence_array_val^0 > 49.999 }
			}
			modifier = {
				factor = 2
				original_tag = KOR
				has_opinion = {
					target = NKO
					value > -50
				}
			}
			modifier = {
				factor = 2
				original_tag = NKO
				has_opinion = {
					target = KOR
					value > -50
				}
			}
			modifier = {
				factor = 8
				is_puppet_of = CHI
			}
			modifier = {
				factor = 2
				original_tag = KOR
				NKO = { NOT = { has_idea = Planned_Economy } }
			}
		}
	}

	option = {
		name = korea.5.b #Some risks are too big too take.
		log = "[GetDateText]: [This.GetName]: korea.5.b executed"
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				original_tag = KOR
				OR = {
					is_in_array = { ruling_party = 1 }
					has_government = nationalist
				}
			}
			modifier = {
				factor = 2
				threat > 0.3
			}
		}
	}
}

### Korean Peace Talks Held in Beijing
news_event = {
	id = korea.6

	title = korea.6.t
	desc = korea.6.d
	picture = GFX_news_press_conference

	is_triggered_only = yes

	option = {
		name = korea.6.a #Can the two sides reach a compromise?
		log = "[GetDateText]: [This.GetName]: korea.6.a executed"
	}
}

### [CHI.GetLeader] Voices Support for Korean Reunification
news_event = {
	id = korea.7

	title = korea.7.t
	desc = korea.7.d
	picture = GFX_trade_agreement

	is_triggered_only = yes

	option = {
		name = korea.7.a #Is change in the air?
		log = "[GetDateText]: [This.GetName]: korea.7.a executed"
	}
}

### Radical Leftist Movement Gains Popularity in South Korea
news_event = {
	id = korea.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event korea.8" }

	title = korea.8.t
	desc = korea.8.d
	picture = GFX_news_election_rally

	is_triggered_only = yes

	option = {
		name = korea.8.a #Something is afoot in the ROK...
		log = "[GetDateText]: [This.GetName]: korea.8.a executed"
	}
}

country_event = {
	id = korea.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event korea.9" }

	title = korea.9.t
	desc = korea.9.d
	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.9.a #We will join their struggle!
		log = "[GetDateText]: [This.GetName]: korea.9.a executed"
		add_political_power = 100
		add_war_support = 0.1
		KOR = {
			create_faction = JUCHE_FACTION
			add_to_faction = NKO
		}
		hidden_effect = {
			every_other_country = {
				limit = {
					has_guaranteed = NKO
				}
				diplomatic_relation = {
					country = NKO
					relation = guarantee
					active = no
				}
				set_country_flag = guaranteed_NKO
			}
		}
		random_country_with_original_tag = {
			original_tag_to_check = KOR
			limit = { NOT = { has_government = communism }}
			declare_war_on = {
				target = NKO
				type = annex_everything
			}
		}
		hidden_effect = {
			every_other_country = {
				limit = {
					has_country_flag = guaranteed_NKO
				}
				clr_country_flag = guaranteed_NKO
				diplomatic_relation = {
					country = NKO
					relation = guarantee
					active = yes
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.9.b #We will watch from the sidelines.
		log = "[GetDateText]: [This.GetName]: korea.9.b executed"
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = korea.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event korea.10" }

	title = korea.10.t
	desc = korea.10.d
	picture = GFX_politics_talks

	is_triggered_only = yes

	option = {
		name = korea.10.a #We will stand by our allies!
		log = "[GetDateText]: [This.GetName]: korea.10.a executed"

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.10.b #This is not worth the lives of our troops.
		log = "[GetDateText]: [This.GetName]: korea.10.b executed"
		CHI = {
			diplomatic_relation = {
				country = NKO
				relation = guarantee
				active = no
			}
		}
		every_country = {
			news_event = {
				id = korea.14
				days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = korea.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event korea.11" }

	title = korea.11.t #Korean Arms Companies Offer Products
	desc = korea.11.d
	picture = GFX_politics_talks

	is_triggered_only = yes

	option = {
		name = korea.11.a #Purchase Korean Tanks
		log = "[GetDateText]: [This.GetName]: korea.11.a executed"
		set_temp_variable = { treasury_change = -5 }
		modify_treasury_effect = yes
		KOR = {
			set_temp_variable = { treasury_change = 3.75 }
			modify_treasury_effect = yes
		}
		if = {
			limit = { has_dlc = "No Step Back" }

			if = {
				limit = { has_tech = mbt_tech_2 }

				add_equipment_to_stockpile = {
					type = mbt_hull_2
					amount = 45
					producer = KOR
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = mbt_hull_1
					amount = 45
					producer = KOR
				}
			}
		}
		else_if = {
			limit = {
				KOR = { has_tech = MBT_5 }
			}
			add_equipment_to_stockpile = {
				type = MBT_5
				amount = 45
				producer = KOR
			}
		}
		else = {
			add_equipment_to_stockpile = {
				type = MBT_3
				amount = 45
				producer = KOR
			}
		}
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = KOR.id }
		set_temp_variable = { influence_target = THIS.id }
		change_influence_percentage = yes
		KOR = {
			country_event = {
				id = korea.12
				days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.11.b #Purchase Korean Self-Propelled Artillery
		log = "[GetDateText]: [This.GetName]: korea.11.b executed"
		set_temp_variable = { treasury_change = -3 }
		modify_treasury_effect = yes
		KOR = {
			set_temp_variable = { treasury_change = 2.25 }
			modify_treasury_effect = yes
		}
		add_equipment_to_stockpile = {
			type = SP_arty_2
			amount = 50
			producer = KOR
		}
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = KOR.id }
		set_temp_variable = { influence_target = THIS.id }
		change_influence_percentage = yes
		KOR = {
			country_event = {
				id = korea.12
				days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.11.c #Purchase Korean Trainer Jets
		log = "[GetDateText]: [This.GetName]: korea.11.c executed"
		trigger = {
			KOR = { has_tech = L_Strike_fighter2 }
		}
		set_temp_variable = { treasury_change = -2 }
		modify_treasury_effect = yes
		KOR = {
			set_temp_variable = { treasury_change = 1.5 }
			modify_treasury_effect = yes
		}
		add_equipment_to_stockpile = {
			type = L_Strike_fighter2
			amount = 24
			producer = KOR
		}
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = KOR.id }
		set_temp_variable = { influence_target = THIS.id }
		change_influence_percentage = yes
		KOR = {
			country_event = {
				id = korea.12
				days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.11.e #Purchase Korean Rifles
		log = "[GetDateText]: [This.GetName]: korea.11.e executed"
		set_temp_variable = { treasury_change = -0.5 }
		modify_treasury_effect = yes
		KOR = {
			set_temp_variable = { treasury_change = 0.375 }
			modify_treasury_effect = yes
		}
		if = {
			limit = {
				KOR = { has_tech = MBT_5 }
			}
			add_equipment_to_stockpile = {
				type = infantry_weapons5
				amount = 1000
				producer = KOR
			}
		}
		else = {
			add_equipment_to_stockpile = {
				type = infantry_weapons3
				amount = 1000
				producer = KOR
			}
		}
		set_temp_variable = { percent_change = 2 }
		set_temp_variable = { tag_index = KOR.id }
		set_temp_variable = { influence_target = THIS.id }
		change_influence_percentage = yes
		KOR = {
			country_event = {
				id = korea.12
				days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = korea.11.f #Refuse Offer
		log = "[GetDateText]: [This.GetName]: korea.11.f executed"
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = korea.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event korea.12" }

	title = korea.12.t #[FROM.GetNameDef] Agrees to Arms Deal!
	desc = korea.12.d
	picture = GFX_politics_talks

	is_triggered_only = yes

	option = {
		name = korea.12.a #Our international standing grows!
		log = "[GetDateText]: [This.GetName]: korea.12.a executed"
	}
}

#Beijing and Seoul Jointly Criticize Japanese WW2 Actions
news_event = {
	id = korea.13

	title = korea.13.t
	desc = korea.13.d
	picture = GFX_news_press_conference

	is_triggered_only = yes

	option = {
		name = korea.13.a #We will never forget what they did.
		log = "[GetDateText]: [This.GetName]: korea.13.a executed"
		trigger = {
			OR = {
				original_tag = CHI
				original_tag = KOR
				original_tag = NKO
			}
		}
	}

	option = {
		name = korea.13.b #Their criticism is tiresome...
		log = "[GetDateText]: [This.GetName]: korea.13.b executed"
		trigger = {
			original_tag = JAP
		}
	}

	option = {
		name = korea.13.c #The past casts a long shadow...
		log = "[GetDateText]: [This.GetName]: korea.13.b executed"
		trigger = {
			NOT = {
				original_tag = JAP
				original_tag = CHI
				original_tag = KOR
				original_tag = NKO
			}
		}
	}
}

#China Annuls Defense Treaty with North Korea
news_event = {
	id = korea.14

	title = korea.14.t
	desc = korea.14.d
	picture = GFX_news_press_conference

	is_triggered_only = yes

	option = {
		name = korea.14.a #Our efforts have paid off.
		log = "[GetDateText]: [This.GetName]: korea.14.a executed"
		trigger = {
			original_tag = KOR
		}
	}

	option = {
		name = korea.14.b #We have tolerated Pyongyang for too long.
		log = "[GetDateText]: [This.GetName]: korea.14.b executed"
		trigger = {
			original_tag = NKO
		}
	}

	option = {
		name = korea.14.c #Is war on the horizon?
		log = "[GetDateText]: [This.GetName]: korea.14.c executed"
		trigger = {
			NOT = {
				original_tag = CHI
				original_tag = KOR
			}
		}
	}
}

#[KOR.GetLeader] Demands Japanese Reparations
news_event = {
	id = korea.15

	title = korea.15.t
	desc = korea.15.d
	picture = GFX_japanese_nationalism2

	is_triggered_only = yes

	option = {
		name = korea.15.a #One day we will have justice.
		log = "[GetDateText]: [This.GetName]: korea.14.a executed"
		trigger = {
			original_tag = KOR
		}
	}

	option = {
		name = korea.15.b #Their demands are absurd!
		log = "[GetDateText]: [This.GetName]: korea.14.b executed"
		trigger = {
			original_tag = JAP
		}
	}

	option = {
		name = korea.15.c #Can their disagreement be resolved?
		log = "[GetDateText]: [This.GetName]: korea.15.c executed"
		trigger = {
			NOT = {
				original_tag = JAP
				original_tag = KOR
			}
		}
	}
}

country_event = {
	id = korea.16
	title = korea.16.t
	desc = korea.16.d
	picture = GFX_afghanistan_war

	trigger = {
		original_tag = KOR
		has_war_with = NKO
		has_idea = KOR_wartime_control
		NOT = { is_in_faction_with = USA }
		USA = { has_war_with = NKO }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = korea.16.a #We must transfer control
		log = "[GetDateText]: [This.GetName]: korea.16.a executed"
		if = {
			limit = { USA = { has_idea = NATO_member } }
			NATO_join = yes
		}
		else = {
			USA = {
				create_faction = USA_ROK
				add_to_faction = KOR
			}
		}
	}
}

country_event = {
	id = korea.17
	title = korea.17.t
	desc = korea.17.d
	picture = GFX_afghanistan_war

	trigger = {
		original_tag = KOR
		KOR = { is_in_faction_with = USA }
		NOT = { has_war_with = NKO }
		NOT = { has_country_flag = has_joined_NATO_by_event }
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = korea.17.a #Peace at last.
		log = "[GetDateText]: [This.GetName]: korea.17.a executed"
		if = {
			limit = { has_idea = NATO_member }
			NATO_leave = yes
		}
		else = {
			USA = { leave_faction = yes }
			leave_faction = yes
		}
		USA = {
			give_guarantee = KOR
		}
	}
}

#National Assembly Elections Loom as Parties Begin Campaigning
country_event = {
	id = korea.18

	title = korea.18.t
	desc = korea.18.d
	picture = GFX_politics_speak

	is_triggered_only = yes

	option = {
		name = korea.18.a #Let's hope for a majority!
		hidden_effect = {
			country_event = {
				days = 27
				id = korea.20 #check result
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.18.a executed"
	}
}

#hidden event checking for elections
country_event = {
	id = korea.19

	hidden = yes

	is_triggered_only = yes

	option = {
		name = korea.19.a
		if = {
			limit = {
				has_elections = yes
			}
			country_event = {
				days = 1
				id = korea.18 #The elections are coming!
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.19.a executed"
	}
}

#hidden event checking result
country_event = {
	id = korea.20

	hidden = yes

	is_triggered_only = yes
	immediate = {
		log = "[GetDateText]: [This.GetName]: korea.20 executed"
		random_list = {
			33 = {
				set_country_flag = KOR_lib_victory
				modifier = {
					factor = 2
					check_variable = { party_pop_array^3 > party_pop_array^1 }
				}
				modifier = {
					factor = 0.5
					check_variable = { party_pop_array^3 < party_pop_array^1 }
				}
				modifier = {
					factor = 2
					check_variable = { party_pop_array^3 > 0.5 }
				}
				modifier = {
					factor = 1.5
					check_variable = { party_pop_array^3 > 0.75 }
				}
			}
			33 = {
				set_country_flag = KOR_con_victory
				modifier = {
					factor = 2
					check_variable = { party_pop_array^3 < party_pop_array^1 }
				}
				modifier = {
					factor = 0.5
					check_variable = { party_pop_array^3 > party_pop_array^1 }
				}
				modifier = {
					factor = 2
					check_variable = { 0.5 < party_pop_array^1 }
				}
				modifier = {
					factor = 1.5
					check_variable = { 0.75 < party_pop_array^1 }
				}
			}
			33 = {
				set_country_flag = KOR_no_victory
				modifier = {
					factor = 2
					check_variable = { party_pop_array^3 = party_pop_array^1 }
				}
				modifier = {
					factor = 2
					has_idea = KOR_multi_party_system
				}
				modifier = {
					factor = 0.5
					has_idea = KOR_two_party_system
				}
			}
		}
		country_event = {
			id = korea.21
			days = 1
		}
	}
}

#The results are in!
country_event = {
	id = korea.21

	title = korea.21.t

	desc = {
		text = korea.21.d_no
		trigger = {
			has_country_flag = KOR_no_victory
		}
	}

	desc = {
		text = korea.21.d_con_loss
		trigger = {
			has_country_flag = KOR_lib_victory
			KOR_has_conservative_government = yes
		}
	}

	desc = {
		text = korea.21.d_lib_loss
		trigger = {
			has_country_flag = KOR_con_victory
			KOR_has_liberal_government = yes
		}
	}

	desc = {
		text = korea.21.d_con_win
		trigger = {
			has_country_flag = KOR_con_victory
			KOR_has_conservative_government = yes
		}
	}

	desc = {
		text = korea.21.d_lib_win
		trigger = {
			has_country_flag = KOR_lib_victory
			KOR_has_liberal_government = yes
		}
	}

	picture = GFX_politics_speak

	is_triggered_only = yes

	option = {
		name = korea.21.a #As always, it was a hard-fought election.
		if = {
			limit = {
				has_country_flag = KOR_no_victory
			}
			add_timed_idea = {
				idea = KOR_national_assembly_deadlocked
				days = 1460
			}
		}
		else_if = {
			limit = {
				has_country_flag = KOR_con_victory
			}
			add_timed_idea = {
				idea = KOR_national_assembly_conservative
				days = 1460
			}
		}
		else_if = {
			limit = {
				has_country_flag = KOR_lib_victory
			}
			add_timed_idea = {
				idea = KOR_national_assembly_liberal
				days = 1460
			}
		}
		hidden_effect = {
			clr_country_flag = KOR_no_victory
			clr_country_flag = KOR_lib_victory
			clr_country_flag = KOR_con_victory
			country_event = {
				days = 1430
				id = korea.19 #check if elections are allowed for next election
			}
		}
		log = "[GetDateText]: [This.GetName]: korea.18.a executed"
	}
}

#Reunification Shocks Begin to Take Hold
country_event = {
	id = korea.22
	title = korea.22.t
	desc = korea.22.d

	mean_time_to_happen = {
		days = 2
	}

	picture = GFX_politics_protest

	fire_only_once = yes

	trigger = {
		OR = {
			original_tag = KOR
			original_tag = NKO
		}
		NOT = {
			has_war_with = KOR
			has_war_with = NKO
		}
		if = {
			limit = {
				original_tag = NKO
			}
			owns_state = 604
			owns_state = 605
			owns_state = 606
			owns_state = 607
			owns_state = 608
		}
		else_if = {
			limit = {
				original_tag = KOR
			}
			owns_state = 601
			owns_state = 602
			owns_state = 603
		}
	}

	option = {
		name = korea.22.a #Now begins the hard part...
		if = {
			limit = {
				NOT = {
					OR = {
						has_completed_focus = KOR_pave_the_way_for_reunification
						has_completed_focus = NKO_pave_the_way_for_reunification
						has_completed_focus = NKO_Democracy_in_the_North
						has_completed_focus = KOR_juche_in_the_south
					}
				}
			}
			add_ideas = KOR_reunification_shocks
			add_ideas = KOR_divided_military
			add_ideas = KOR_mass_migration
			add_ideas = KOR_fragmented_governance
			add_ideas = KOR_uneven_economy
			decrease_economic_growth = yes
			set_country_flag = korea_peninsula_reunited
		}
		log = "[GetDateText]: [This.GetName]: korea.22.a executed"
	}
}

#Our Response to the South's Overture
country_event = {
	id = korea.23
	title = korea.23.t
	desc = korea.23.d

	picture = GFX_KOR_generic

	is_triggered_only = yes

	option = {
		name = korea.23.a #We will agree to a treaty
		log = "[GetDateText]: [This.GetName]: korea.23.a executed"
		every_country = {
			news_event = {
				days = 1
				id = korea.24
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_war_with = KOR
			}
			modifier = {
				factor = 0
				KOR = {
					check_variable = { reunification_chance < 1 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 0 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 1 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 2 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 3 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 4 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 5 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 6 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 7 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 8 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 9 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 10 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 11 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 12 }
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > -51
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > -26
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > -1
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
	}

	option = {
		name = korea.23.b #There will never be peace between us!
		log = "[GetDateText]: [This.GetName]: korea.23.b executed"
		every_country = {
			news_event = {
				days = 1
				id = korea.25
			}
		}
		KOR = { set_country_flag = KOR_peace_talks_failed }
		ai_chance = {
			factor = 5
		}
	}
}

#Korean Peace Agreement Signed
news_event = {
	id = korea.24
	title = korea.24.t
	desc = korea.24.d

	picture = GFX_trade_agreement

	is_triggered_only = yes

	option = {
		name = korea.24.a #A bright future lies before the peninsula!
		if = {
			limit = {
				original_tag = KOR
			}
			remove_opinion_modifier = {
				target = NKO
				modifier = NKO_KOR_Koren_War_Ceasefire
			}
			add_war_support = -0.05
			support_for_reunification_2 = yes
			liberal_policy_effect = yes
		}
		if = {
			limit = {
				original_tag = NKO
			}
			remove_opinion_modifier = {
				target = KOR
				modifier = NKO_KOR_Koren_War_Ceasefire
			}
			add_war_support = -0.05
			set_temp_variable = { temp_opinion = -5 }
			change_the_military_opinion = yes
			change_communist_cadres_opinion = yes
		}
		log = "[GetDateText]: [This.GetName]: korea.24.a executed"
	}
}

#Inter-Korean Discussions Break Down
news_event = {
	id = korea.25
	title = korea.25.t
	desc = korea.25.d

	picture = GFX_news_press_conference

	is_triggered_only = yes

	option = {
		name = korea.25.a #Peace remains elusive...
		if = {
			limit = {
				original_tag = KOR
				has_completed_focus = KOR_offer_talks
			}
			unlock_decision_tooltip = KOR_restart_peace_talks
		}
		log = "[GetDateText]: [This.GetName]: korea.25.a executed"
	}
}

#South Korea proposes reunification
country_event = {
	id = korea.26
	title = korea.26.t
	desc = {
		text = korea.26.d
		trigger = {
			KOR = { has_country_flag = KOR_proposed_south_reunification }
		}
	}
	desc = {
		text = korea.26.d1
		trigger = {
			KOR = { has_country_flag = KOR_proposed_unity_reunification }
		}
	}

	picture = GFX_KOR_generic

	is_triggered_only = yes

	option = {
		name = korea.26.a #Our country will be whole again!
		log = "[GetDateText]: [This.GetName]: korea.26.a executed"
		add_opinion_modifier = {
			target = KOR
			modifier = imminent_reunification
		}
		add_war_support = -0.05
		if = {
			limit = { KOR = { has_country_flag = KOR_proposed_south_reunification }}
			set_country_flag = NKO_agreed_KOR_led_reunification
		}
		else_if = {
			limit = { KOR = { has_country_flag = KOR_proposed_unity_reunification }}
			set_country_flag = NKO_agreed_neutral_reunification
		}
		KOR = {
			country_event = {
				days = 1
				id = korea.27
			}
		}
		set_temp_variable = { temp_opinion = -5 }
		change_the_military_opinion = yes
		change_communist_cadres_opinion = yes
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				has_war_with = KOR
			}
			modifier = {
				factor = 0
				KOR = {
					check_variable = { reunification_chance < 6 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 5 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 6 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 7 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 8 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 9 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 10 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 11 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { reunification_chance > 12 }
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > -1
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > 9
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > 24
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > 49
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > 74
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = KOR
					value > 99
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_government = communism
					has_government = nationalist
				}
			}
		}
	}

	option = {
		name = korea.26.b #Reunification can never take place on these terms...
		log = "[GetDateText]: [This.GetName]: korea.26.b executed"
		KOR = {
			country_event = {
				days = 1
				id = korea.28
			}
		}
		KOR = {
			set_country_flag = KOR_reunification_talks_failed
			clr_country_flag = KOR_proposed_south_reunification
			clr_country_flag = KOR_proposed_unity_reunification
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 2
				KOR = { has_country_flag = KOR_proposed_south_reunification }
			}
		}
	}
}

#The North has agreed on our terms for reunification!
country_event = {
	id = korea.27
	title = korea.27.t
	desc = korea.27.d
	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.27.a #Fantastic news!
		log = "[GetDateText]: [This.GetName]: korea.27.a executed"
		add_war_support = -0.05
		support_for_reunification_2 = yes
		add_opinion_modifier = {
			target = NKO
			modifier = imminent_reunification
		}
	}
}

#The North has refused our terms for reunification!
country_event = {
	id = korea.28
	title = korea.28.t
	desc = korea.28.d
	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.28.a #A sad day for the Korean people...
		log = "[GetDateText]: [This.GetName]: korea.28.a executed"
	}
}

#China wants handover of remains of personnel of the Chinese People's Volunteer Army from South Korea to China.
news_event = {
	id = korea.29
	title = korea.29.t
	desc = korea.29.d
	picture = GFX_political_deal

	trigger = { tag = KOR }

	is_triggered_only = yes

	option = {
		name = korea.29.a #Of course we will. We respect these soldiers.
		log = "[GetDateText]: [This.GetName]: korea.29.a executed"
	}
	option = {
		name = korea.29.b #They are the enemies of the invasion of our land! We can't accept it!
		log = "[GetDateText]: [This.GetName]: korea.29.b executed"
	}
}

#The First Collection
news_event = {
	id = korea.30
	title = korea.30.t
	desc = korea.30.d
	picture = GFX_chinese_soldiers_back_home2

	trigger = { tag = KOR }

	is_triggered_only = yes

	option = {
		name = korea.30.a
		log = "[GetDateText]: [This.GetName]: korea.30.a executed"
	}
}

#The Seventh Collection
news_event = {
	id = korea.31
	title = korea.31.t
	desc = korea.31.d
	picture = GFX_chinese_soldiers_back_home1

	trigger = {
		tag = KOR
		tag = CHI
	}

	is_triggered_only = yes

	option = {
		name = korea.30.a
		log = "[GetDateText]: [This.GetName]: korea.31.a executed"
	}
}

#The general Collection
news_event = {
	id = korea.32
	title = korea.32.t
	desc = korea.32.d
	picture = GFX_chinese_soldiers_back_home1

	trigger = {
		tag = KOR
		tag = CHI
	}

	is_triggered_only = yes

	option = {
		name = korea.32.a
		log = "[GetDateText]: [This.GetName]: korea.32.a executed"
	}
}

#Our Response to the North's Overture
country_event = {
	id = korea.33
	title = korea.33.t
	desc = korea.33.d

	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.23.a #We will agree to a treaty
		log = "[GetDateText]: [This.GetName]: korea.33.a executed"
		every_country = {
			news_event = {
				days = 1
				id = korea.24
			}
		}
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				has_war_with = NKO
			}
			modifier = {
				factor = 0
				KOR = {
					check_variable = { SFR < 50 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 50 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 60 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 70 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 80 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 90 }
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > -51
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > -26
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > -1
				}
			}
			modifier = {
				factor = 10
				has_government = communism
				NKO = { has_government = communism }
			}
		}
	}

	option = {
		name = korea.23.b #There will never be peace between us!
		log = "[GetDateText]: [This.GetName]: korea.23.b executed"
		every_country = {
			news_event = {
				days = 1
				id = korea.25
			}
		}
		NKO = { set_country_flag = NKO_peace_talks_failed }
		ai_chance = {
			factor = 2
		}
	}
}

#North Korea proposes reunification
country_event = {
	id = korea.34
	title = korea.34.t
	desc = {
		text = korea.34.d
		trigger = {
			NKO = { has_country_flag = NKO_proposed_north_reunification }
		}
	}
	desc = {
		text = korea.34.d1
		trigger = {
			NKO = { has_country_flag = NKO_proposed_unity_reunification }
		}
	}

	picture = GFX_politics_negotiations

	is_triggered_only = yes

	option = {
		name = korea.26.a #Our country will be whole again!
		log = "[GetDateText]: [This.GetName]: korea.34.a executed"
		add_war_support = -0.05
		support_for_reunification_2 = yes
		add_opinion_modifier = {
			target = NKO
			modifier = imminent_reunification
		}
		if = {
			limit = { NKO = { has_country_flag = NKO_proposed_north_reunification }}
			set_country_flag = KOR_agreed_NKO_led_reunification
		}
		else_if = {
			limit = { NKO = { has_country_flag = NKO_proposed_unity_reunification }}
			set_country_flag = KOR_agreed_neutral_reunification
		}
		NKO = {
			country_event = {
				days = 1
				id = korea.35
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_war_with = NKO
			}
			modifier = {
				factor = 0
				KOR = {
					check_variable = { SFR < 0.5 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 0.5 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 0.6 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 0.7 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 0.8 }
				}
			}
			modifier = {
				add = 1
				KOR = {
					check_variable = { SFR > 0.9 }
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > -1
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > 9
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > 24
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > 49
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > 74
				}
			}
			modifier = {
				add = 1
				has_opinion = {
					target = NKO
					value > 99
				}
			}
		}
	}

	option = {
		name = korea.26.b #Reunification can never take place on these terms...
		log = "[GetDateText]: [This.GetName]: korea.34.b executed"
		NKO = {
			country_event = {
				days = 1
				id = korea.36
			}
		}
		NKO = {
			set_country_flag = NKO_reunification_talks_failed
			clr_country_flag = NKO_proposed_north_reunification
			clr_country_flag = NKO_proposed_unity_reunification
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 3
				NKO = { has_country_flag = NKO_proposed_north_reunification }
			}
		}
	}
}

#The South has agreed on our terms for reunification!
country_event = {
	id = korea.35
	title = korea.35.t
	desc = korea.35.d
	picture = GFX_KOR_generic

	is_triggered_only = yes

	option = {
		name = korea.27.a #Fantastic news!
		log = "[GetDateText]: [This.GetName]: korea.35.a executed"
		add_opinion_modifier = {
			target = KOR
			modifier = imminent_reunification
		}
		add_war_support = -0.05
		set_temp_variable = { temp_opinion = -5 }
		change_the_military_opinion = yes
		change_communist_cadres_opinion = yes
	}
}

#The South has refused our terms for reunification!
country_event = {
	id = korea.36
	title = korea.36.t
	desc = korea.36.d
	picture = GFX_KOR_generic

	is_triggered_only = yes

	option = {
		name = korea.28.a #A sad day for the Korean people...
		log = "[GetDateText]: [This.GetName]: korea.36.a executed"
	}
}

	###North Korea###
country_event = {
	id = korea_north.1

	title = korea_north.1.t
	desc = korea_north.1.d
	picture = GFX_CHI_generic

	is_triggered_only = yes

	option = {
		name = korea_north.1.a #This demand is ludicrous!
		add_political_power = 25
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [This.GetName]: korea_north.1.a executed"
	}

	option = {
		name = korea_north.1.b #It is better for us to concede...
		diplomatic_relation = {
			country = KOR
			relation = guarantee
			active = no
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 20
				CHI = { has_completed_focus = CHI_End_US_Hegemony }
			}
			modifier = {
				factor = 10
				NKO = { has_completed_focus = NKO_Our_Pride_and_Joy }
			}
		}
		log = "[GetDateText]: [This.GetName]: korea_north.1.b executed"
	}
}
news_event = {
	id = korea_north.2
	title = korea_north.2.t
	desc = korea_north.2.d

	picture = GFX_trade_agreement

	is_triggered_only = yes

	option = {
		name = korea_north.2.a
		log = "[GetDateText]: [This.GetName]: korea_north.2.a executed"
	}
}

country_event = {
	id = korea_north.3 #North Korea 2009 Revaluation
	title = korea_north.3.t
	desc = korea_north.3.d

	picture = GFX_united_states_dollar

	is_triggered_only = yes

	option = {
		name = korea_north.3.a #25 to 1
		add_political_power = -300
		set_temp_variable = { treasury_change = -4 }
		modify_treasury_effect = yes
		hidden_effect = { country_event = { id = korea_north.4 days = 30 } }
		log = "[GetDateText]: [This.GetName]: korea_north.3.a executed"
	}

	option = {
		name = korea_north.3.b #100 to 1
		add_political_power = -10
		set_temp_variable = { treasury_change = 4 }
		modify_treasury_effect = yes
		hidden_effect = { country_event = { id = korea_north.5 days = 30 } }
		log = "[GetDateText]: [This.GetName]: korea_north.3.b executed"
	}
}

country_event = {
	id = korea_north.4 #Revaluation Success~~
	title = korea_north.4.t
	desc = korea_north.4.d

	picture = GFX_stock_market

	is_triggered_only = yes

	option = {
		name = korea_north.4.a
		complete_national_focus = NKO_Revaluation_Success
		set_country_flag = Revaluation_Success
		log = "[GetDateText]: [This.GetName]: korea_north.4.a executed"
	}
}

country_event = {
	id = korea_north.5 #Relieving conflicts
	title = korea_north.5.t
	desc = korea_north.5.d

	picture = GFX_politics_eye

	is_triggered_only = yes

	option = {
		name = korea_north.5.a #Maintain status quo
		hidden_effect = { country_event = { id = korea_north.6 days = 30 } }
		log = "[GetDateText]: [This.GetName]: korea_north.5.a executed"
	}
	option = {
		name = korea_north.5.b #Compromise
		add_political_power = -100
		hidden_effect = {
			random_list = {
				20 = { country_event = { id = korea_north.4 days = 20 } }
				80 = { country_event = { id = korea_north.6 days = 30 } }
			}
		}
		log = "[GetDateText]: [This.GetName]: korea_north.5.b executed"
	}
}

country_event = {
	id = korea_north.6 #Revaluation Failure...
	title = korea_north.6.t
	desc = korea_north.6.d

	picture = GFX_stock_market

	is_triggered_only = yes

	option = {
		name = korea_north.6.a
		add_stability = -0.10
		complete_national_focus = NKO_Revaluation_Failure
		set_country_flag = Revaluation_Failure
		log = "[GetDateText]: [This.GetName]: korea_north.6.a executed"
	}
}

country_event = {
	id = kim_jong_il_death.1
	title = kim_jong_il_death.1.t
	desc = kim_jong_il_death.1.d

	picture = GFX_political_deal

	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.1.a #Kim Jong-un
		set_country_flag = Kim_Jong_un_successor
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.1.a executed"
	}
	option = {
		name = kim_jong_il_death.1.b #Kim Jong-nam
		set_country_flag = Kim_Jong_Nam_successor
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.1.b executed"
	}
}

news_event = {
	id = kim_jong_il_death.2
	title = kim_jong_il_death.2.t
	desc = kim_jong_il_death.2.d

	picture = GFX_kim_jong_il_funeral
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.2.a
		if = {
			limit = {
				tag = NKO
			}
			set_country_flag = Kim_Jong_il_Death_tt
			kill_country_leader = yes
			create_country_leader = {
				name = "Funeral Committee"
				picture = "Kim_Jong_il_death.dds"
				expire = "2030.01.01"
				ideology = Communist-State
				traits = {
					Eternal_Leader
					Eternal_Leader_D
				}
			}
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = NKO_Kim_Jong_il_Death
		}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.2.a executed"
	}
}

country_event = {
	id = kim_jong_il_death.3
	title = kim_jong_il_death.3.t
	desc = kim_jong_il_death.3.d

	picture = GFX_handshake_black
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.3.a
		add_political_power = -300
		hidden_effect = {
			80 = {
				add_to_variable = {
					var = Kim_Jong_un
				   	value = 10
				}
				clamp_variable = {
					var = Kim_Jong_un
					min = 0
					max = 100
				}
				subtract_from_variable = {
		    		var = Kim_Jong_Nam
					value = 10
				}
				clamp_variable = {
					var = Kim_Jong_Nam
					min = 0
					max = 100
				}
			}
			20 = {
				add_to_variable = {
					var = Kim_Jong_Nam
				   	value = 15
				}
				clamp_variable = {
					var = Kim_Jong_Nam
					min = 0
					max = 100
				}
				subtract_from_variable = {
		    		var = Kim_Jong_un
					value = 15
				}
				clamp_variable = {
					var = Kim_Jong_un
					min = 0
					max = 100
				}
			}
		}
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.3.a executed"
	}
	option = {
		name = kim_jong_il_death.3.b
			hidden_effect = {
				random_list = {
					80 = {
						add_political_power = -100
						add_to_variable = {
							var = Kim_Jong_Nam
						   	value = 5
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
						subtract_from_variable = {
				    		var = Kim_Jong_un
							value = 5
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
					}
					20 = {
						add_political_power = -50
						add_to_variable = {
							var = Kim_Jong_un
						   	value = 15
						}
						clamp_variable = {
							var = Kim_Jong_un
							min = 0
							max = 100
						}
						subtract_from_variable = {
				    		var = Kim_Jong_Nam
							value = 15
						}
						clamp_variable = {
							var = Kim_Jong_Nam
							min = 0
							max = 100
						}
					}
				}
			}
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.3.b executed"
	}
}
news_event = {
	id = kim_jong_il_death.4 #Kim Jong-nam takes the power!
	title = kim_jong_il_death.4.t
	desc = kim_jong_il_death.4.d

	picture = GFX_nam_elected
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.4.a
		trigger = {
				OR = {
					has_idea = non_power
					has_idea = minor_power
					has_idea = regional_power
				}
		}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.4.a executed"
	}
	option = {
		name = kim_jong_il_death.4.b
		trigger = {
				OR = {
					has_idea = large_power
					has_idea = great_power
					has_idea = superpower
				}
			}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.4.b executed"
	}
}
news_event = {
	id = kim_jong_il_death.5 #Kim Jong-un takes the power!
	title = kim_jong_il_death.5.t
	desc = kim_jong_il_death.5.d

	picture = GFX_north_korean_officials
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.5.a
		trigger = {
				OR = {
					has_idea = non_power
					has_idea = minor_power
					has_idea = regional_power
				}
		}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.5.a executed"
	}
	option = {
		name = kim_jong_il_death.5.b
		trigger = {
				OR = {
					has_idea = large_power
					has_idea = great_power
					has_idea = superpower
				}
			}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.5.b executed"
	}
}
news_event = {
	id = kim_jong_il_death.6 #The Military take the power!
	title = kim_jong_il_death.6.t
	desc = kim_jong_il_death.6.d

	picture = GFX_anti_kim_coup
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.6.a
		trigger = {
			NOT = { tag = KOR }
				OR = {
					has_idea = non_power
					has_idea = minor_power
					has_idea = regional_power
				}
		}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.6.a executed"
	}
	option = {
		name = kim_jong_il_death.6.b
		trigger = {
			NOT = { tag = KOR }
				OR = {
					has_idea = large_power
					has_idea = great_power
					has_idea = superpower
				}
			}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.6.b executed"
	}
	option = {
		name = kim_jong_il_death.6.c
		trigger = {
			tag = KOR
			tag = USA
			tag = CHI
			tag = JAP
			tag = SOV
		}
		ai_chance = { factor = 100 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.6.c executed"
	}
}
country_event = {
	id = kim_jong_il_death.7 #Zhou Yongkang eavesdropped on Jang Song-thaek's visit to China to meet with Hu Jintao
	title = kim_jong_il_death.7.t
	desc = kim_jong_il_death.7.d

	picture = GFX_handshake_black
	is_triggered_only = yes

	option = {
		name = kim_jong_il_death.7.a
		ai_chance = { factor = 50 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.7.a executed" #Tell Kim Jong-un about this information.
	}
	option = {
		name = kim_jong_il_death.7.b
		add_political_power = -50
		ai_chance = { factor = 50 }
		log = "[GetDateText]: [This.GetName]: kim_jong_il_death.7.b executed" #Doing nothing. What does Kim Jong-un have to do with me?
	}
}