add_namespace = venezuela
add_namespace = venezuela_news
add_namespace = gca

# 2004 - The Recall Elections
# TODO: Setup historical event chains to give Venezuela some flavour uwu
country_event = {
	id = venezuela.1
	title = venezuela.1.t
	desc = venezuela.1.d
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		original_tag = VEN
		date < 2016.1.1
		emerging_anarchist_communism_in_power_or_coalition = yes
		has_country_leader = { name = "Hugo Chávez" ruling_only = yes }
		has_country_flag = VEN_2004_recall_referendum_engaged
	}

	# Schedule the Election
	option = {
		name = venezuela.1.a
		log = "[GetDateText]: [This.GetName]: venezuela.1.a executed"
		country_event = { id = venezuela.2 days = 15 }
	}

	# Denounce the Recall Election
	option = {
		name = venezuela.1.b
		log = "[GetDateText]: [This.GetName]: venezuela.1.a executed"

	}
}

# Recall Election Allowed Path
# Opposition Party Gains Ground
country_event = {
	id = venezuela.2
	title = venezuela.2.t
	desc = venezuela.2.d
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		original_tag = VEN
		date < 2016.1.1
		emerging_anarchist_communism_in_power_or_coalition = yes
		has_country_leader = { name = "Hugo Chávez" ruling_only = yes }
		has_country_flag = VEN_2004_recall_referendum_engaged
	}

	# SAD!
	option = {
		name = venezuela.2.a
		log = "[GetDateText]: [This.GetName]:venezuela.2.a executed"
	}

	# Slander the Opposition
	option = {
		name = venezuela.2.b
		log = "[GetDateText]: [This.GetName]:venezuela.2.b executed"
	}

	# Crackdown on the Opposition
	option = {
		name = venezuela.2.c
		log = "[GetDateText]: [This.GetName]:venezuela.2.c executed"
	}
}

# US import policy
country_event = {
	id = venezuela.50
	title = venezuela.50.t
	desc = venezuela.50.d
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = venezuela.50.o1
		log = "[GetDateText]: [This.GetName]: venezuela.50.o1 executed"
		set_variable = { VEN.var_us_import_policy = 1 }
		custom_effect_tooltip = VEN_us_import_policy_loc1
	}

	option = {
		name = venezuela.50.o2
		log = "[GetDateText]: [This.GetName]: venezuela.50.o2 executed"
		set_variable = { VEN.var_us_import_policy = 2 }
		custom_effect_tooltip = VEN_us_import_policy_loc2
	}

	option = {
		name = venezuela.50.o3
		log = "[GetDateText]: [This.GetName]: venezuela.50.o3 executed"
		set_variable = { VEN.var_us_import_policy = 3 }
		custom_effect_tooltip = VEN_us_import_policy_loc3
	}

	option = {
		name = venezuela.50.o4
		log = "[GetDateText]: [This.GetName]: venezuela.50.o4 executed"
		set_variable = { VEN.var_us_import_policy = 4 }
		custom_effect_tooltip = VEN_us_import_policy_loc4
	}
}

####
country_event = {
	id = gca.1
	title = gca.1.t
	desc = gca.1.d
	is_triggered_only = yes
	picture = GFX_grancolo

	# We will join
	option = {
		name = gca.1.a
		log = "[GetDateText]: [This.GetName]: gca.1.a executed"
		VEN = {
			country_event = { id = gca.2 days = 1 }
		}
		ai_chance = { base = 5 }
	}

	# No we wont join
	option = {
		name = gca.1.b
		log = "[GetDateText]: [This.GetName]: gca.1.a executed"
		ai_chance = { base = 0 }
	}
}
#
country_event = {
	id = gca.2
	title = gca.2.t
	desc = gca.2.d
	is_triggered_only = yes
	picture = GFX_handshake_black

	# Great they joined
	option = {
		name = gca.2.a
		log = "[GetDateText]: [This.GetName]: gca.2.a executed"
		VEN = {
			add_to_faction = FROM
		}
		ai_chance = { base = 5 }
	}
}
# Curacao Return
country_event = {
	id = venezuela.8
	title = venezuela.8.t
	desc = venezuela.8.d
	is_triggered_only = yes
	picture = GFX_venez_carac
	# Will give the state option
	option = {
		name = venezuela.8.a
		log = "[GetDateText]: [This.GetName]: venezuela.8.a executed"
		VEN = {
			country_event = {
				id = venezuela.9
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				has_opinion = { target = VEN value > 49 }
				add = 10
			}
		}
		VEN = {
			add_state_claim = 49
		}
	}
	# Will not give the state option
	option = {
		name = venezuela.8.b
		log = "[GetDateText]: [This.GetName]: venezuela.8.b executed"
		VEN = {
			country_event = {
				id = venezuela.10
			}
		}
		ai_chance = { base = 5 }
		VEN = {
			add_state_claim = 49
		}
	}
}

# Does give you the state
country_event = {
	id = venezuela.9
	title = venezuela.9.t
	desc = venezuela.9.d
	is_triggered_only = yes


	option = {
		name = venezuela.9.a
		log = "[GetDateText]: [This.GetName]: venezuela.9.a executed"
		49 = { transfer_state_to = VEN }
		ai_chance = { base = 5 }
	}
}

# Doesn't give you the state
country_event = {
	id = venezuela.10
	title = venezuela.10.t
	desc = venezuela.10.d
	is_triggered_only = yes


	option = {
		name = venezuela.10.a
		log = "[GetDateText]: [This.GetName]: venezuela.10.a executed"
		create_wargoal = {
			type = annex_everything
			target = HOL
		}
		ai_chance = { base = 5 }
		HOL = {
			add_opinion_modifier = {
				target = VEN
				modifier = imminent_danger_to_national_security
			}
		}
	}
}

# Peru becoming a puppet
country_event = {
	id = venezuela.11
	title = venezuela.11.t
	desc = venezuela.11.d
	picture = GFX_venez_capt
	is_triggered_only = yes
	fire_only_once = yes

	 # Accepts becoming a puppet
	option = {
		name = venezuela.11.o1
		log = "[GetDateText]: [This.GetName]: venezuela.11.o1 executed"
		VEN = { country_event = { id = venezuela.12 days = 1 } }

		ai_chance = {
			base = 75
		}
	}
	# Peru Refuses!
	option = {
		name = venezuela.11.o2
		log = "[GetDateText]: [This.GetName]: venezuela.11.o2 executed"
		VEN = { country_event = { id = venezuela.13 days = 1 } }

		ai_chance = {
			base = 25
		}
	}
}



	# Good Choice
	country_event = {
		id = venezuela.12
		title = venezuela.12.t
		desc = venezuela.12.d
		is_triggered_only = yes

		option = {
		name = venezuela.12.o1
		log = "[GetDateText]: [This.GetName]: venezuela.12.o1 executed"
		if = {
			limit = { PRU = { NOT = { is_subject_of = VEN } } }
			VEN = { puppet = PRU }
		}
		ai_chance = {
			base = 75
		}
	}
}
# That was a mistake
country_event = {
		id = venezuela.13
		title = venezuela.13.t
		desc = venezuela.13.d
		is_triggered_only = yes

		option = {
			name = venezuela.13.o1
			log = "[GetDateText]: [This.GetName]: venezuela.13.o1 executed"
			if = {
				limit = { PRU = { NOT = { is_subject_of = VEN } } }
				VEN = {
					create_wargoal = {
						target = PRU
						type = puppet_wargoal_focus
					}
				}
				VEN = { add_opinion_modifier = { target = PRU modifier = threat_to_our_independence } }
			}

			ai_chance = {
				base = 25
			}
		}
}

# Demanding the Canal
country_event = {
	id = venezuela.16
	title = venezuela.16.t
	desc = venezuela.16.d
	picture = GFX_venez_canal
	is_triggered_only = yes
	fire_only_once = yes

	 # Accepts becoming a puppet and offering the canal
	option = {
		name = venezuela.16.o1
		log = "[GetDateText]: [This.GetName]: venezuela.16.o1 executed"
		VEN = { country_event = { id = venezuela.17 days = 1 } }


		ai_chance = {
			base = 50
		}
	}
	# Panama Refuses!
	option = {
		name = venezuela.16.o2
		log = "[GetDateText]: [This.GetName]: venezuela.16.o2 executed"
		VEN = { country_event = { id = venezuela.18 days = 1 } }

		ai_chance = {
			base = 50
		}
	}
}

# Good Choice
	country_event = {
		id = venezuela.17
		title = venezuela.17.t
		desc = venezuela.17.d
		is_triggered_only = yes

		option = {
		name = venezuela.17.o1
		log = "[GetDateText]: [This.GetName]: venezuela.17.o1 executed"
		if = {
			limit = { PAN = { NOT = { is_subject_of = VEN } } }
			effect_tooltip = {
				VEN = { puppet = PAN }
			}
		}
		ai_chance = {
			base = 50
		}
	}
}
# That was a mistake
country_event = {
	id = venezuela.18
	title = venezuela.18.t
	desc = venezuela.18.d
	is_triggered_only = yes

	option = {
		name = venezuela.18.o1
		log = "[GetDateText]: [This.GetName]: venezuela.18.o1 executed"
		if = {
			limit = { PAN = { NOT = { is_subject_of = VEN } } }
			VEN = {
				create_wargoal = {
					target = PAN
					type = puppet_wargoal_focus
				}
			}
			VEN = { add_opinion_modifier = { target = PAN modifier = threat_to_our_independence } }
		}
		ai_chance = {
			base = 50
		}
	}
}
#
country_event = {
	id = venezuela.19
	title = venezuela.19.t
	desc = venezuela.19.d
	is_triggered_only = yes
	option = {
		name = venezuela.19.a
		log = "[GetDateText]: [This.GetName]: venezuela.19.a executed"
		VEN = {
			country_event = {
				id = venezuela.20
				days = 2
			}
		}
		USA = {
			diplomatic_relation = {
				country = VEN
				relation = guarantee
				active = yes
			}
		}
		set_temp_variable = { percent_change = 4 }
		set_temp_variable = { tag_index = USA }
		set_temp_variable = { influence_target = VEN }
		change_influence_percentage = yes
		ai_chance = {
			base = 5
			modifier = {
				has_opinion = { target = VEN value > 30 }
				add = 20
			}
		}
	}
	option = {
		name = venezuela.19.b
		log = "[GetDateText]: [This.GetName]: venezuela.19.b executed"
		VEN = {
			country_event = {
				id = venezuela.21
				days = 2
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				has_opinion = { target = VEN value < 0 }
				add = 20
			}
		}
	}
}
#
country_event = {
	id = venezuela.20
	title = venezuela.20.t
	desc = venezuela.20.d
	is_triggered_only = yes
	option = {
		name = venezuela.20.a
		log = "[GetDateText]: [This.GetName]: venezuela.20.a executed"
		VEN = {
			diplomatic_relation = {
				country = USA
				relation = guarantee
				active = yes
			}
		}

		ai_chance = {
			base = 50
		}
	}
}
#
country_event = {
	id = venezuela.21
	title = venezuela.21.t
	desc = venezuela.21.d
	is_triggered_only = yes
	option = {
		name = venezuela.21.a
		log = "[GetDateText]: [This.GetName]: venezuela.21.a executed"

		ai_chance = {
			base = 50
		}
	}
}
# Venezuela asks us to establish military bases
country_event = {
	id = venezuela.22
	title = venezuela.22.t
	desc = venezuela.22.d
	is_triggered_only = yes
	option = {
		name = venezuela.22.a
		log = "[GetDateText]: [This.GetName]: venezuela.22.a executed"
		VEN = {
			give_military_access = USA
		}
		USA = {
			give_military_access = VEN
		}
		ai_chance = {
			base = 5
			modifier = {
				has_opinion = { target = VEN value > 30 }
				add = 20
			}
		}
	}
	#
	option = {
		name = venezuela.22.b
		log = "[GetDateText]: [This.GetName]: venezuela.22.b executed"
		VEN = {
			country_event = {
				id = venezuela.23
				days = 1
			}
		}
		ai_chance = {
			base = 5
			modifier = {
				has_opinion = { target = VEN value < 0 }
				add = 20
			}
		}
	}
}
#
country_event = {
	id = venezuela.23
	title = venezuela.23.t
	desc = venezuela.23.d
	is_triggered_only = yes
	option = {
		name = venezuela.23.a
		log = "[GetDateText]: [This.GetName]: venezuela.23.a executed"

		ai_chance = {
			base = 50
		}
	}
}


# 2000 Elections
country_event = {
	id = venezuela.100
	title = venezuela.100.t
	desc = venezuela.100.d
	is_triggered_only = yes

	trigger = {
		original_tag = VEN
		emerging_anarchist_communism_in_power_or_coalition = yes
	}

	# So they begin...
	option = {
		name = venezuela.100.a
		log = "[GetDateText]: [This.GetName]: venezuela.100.a executed"

		country_event = MD4_election_campaign.0
		hidden_effect = {
			set_elections_72_months = yes
		}

		ai_chance = { base = 50 }
	}
}

# 2003 - Signatures Collected
country_event = {
	id = venezuela.101
	title = venezuela.101.t
	desc = venezuela.101.d
	is_triggered_only = yes
	# picture =

	trigger = {
		original_tag = VEN
		emerging_anarchist_communism_in_power_or_coalition = yes
		has_country_leader = { name = "Hugo Chávez" ruling_only = yes }
	}

	# Signatures Collected... a crisis is coming
	option = {
		name = venezuela.101.a
		log = "[GetDateText]: [This.GetName]: venezuela.101.a executed"
		set_temp_variable = { party_index = 2 }
		set_temp_variable = { party_popularity_increase = 0.03 }
		set_temp_variable = { temp_outlook_increase = 0.03 }
		add_relative_party_popularity = yes
		set_country_flag = VEN_2004_recall_referendum_engaged
	}
}


# Trade Deal with China
country_event = {
	id = venezuela.200
	title = venezuela.200.t
	desc = venezuela.200.d
	is_triggered_only = yes
	picture = GFX_stock_market

	option = {
		name = venezuela.200.a
		log = "[GetDateText]: [This.GetName]: venezuela.200.a executed"

		if = { limit = { original_tag = SOV }
			SOV = {
				add_opinion_modifier = { target = ROOT modifier = economic_mission }
				add_ideas = russian_trade_deal
				set_temp_variable = { int_investment_change = 35 }
				modify_international_investment_effect = yes
				set_temp_variable = { treasury_change = -35 }
				modify_treasury_effect = yes
			}
			VEN = {
				set_temp_variable = { percent_change = 2 }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
				add_ideas = russian_trade_deal
				875 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			set_temp_variable = { receiver_nation = SOV.id }
			set_temp_variable = { sender_nation = VEN.id }
			set_improved_trade_agreement = yes
		}
		else_if = { limit = { original_tag = CHI }
			CHI = {
				add_ideas = china_trade_deal
				add_opinion_modifier = {
					target = ROOT
					modifier = economic_mission
				}
				create_import = {
					resource = oil
					amount = 10
					exporter = VEN
				}
			}
			VEN = {
				add_ideas = china_trade_deal
				set_temp_variable = { percent_change = 2 }
				set_temp_variable = { tag_index = CHI.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
				create_import = {
					resource = steel
					amount = 10
					exporter = CHI
				}
			}
			set_temp_variable = { receiver_nation = CHI.id }
			set_temp_variable = { sender_nation = VEN.id }
			set_improved_trade_agreement = yes
		}

		set_country_flag = VEN_accepted_deal
		VEN = { country_event = venezuela.201 }
	}

	option = {
		name = venezuela.200.b
		log = "[GetDateText]: [This.GetName]: venezuela.200.b executed"

		set_country_flag = VEN_refused_deal
		VEN = { country_event = venezuela.201 }
	}
}

country_event = {
	id = venezuela.201
	title = {
		trigger = {
			FROM = { has_country_flag = VEN_accepted_deal }
		}
		text = venezuela.201.t1
	}
	title = {
		trigger = {
			FROM = { has_country_flag = VEN_refused_deal }
		}
		text = venezuela.201.t2
	}
	desc = {
		trigger = {
			FROM = { has_country_flag = VEN_accepted_deal }
		}
		text = venezuela.201.d1
	}
	desc = {
		trigger = {
			FROM = { has_country_flag = VEN_refused_deal }
		}
		text = venezuela.201.d2
	}
	is_triggered_only = yes
	picture = GFX_stock_market

	option = {
		name = venezuela.201.a
		log = "[GetDateText]: [This.GetName]: venezuela.201.a executed"
		trigger = {
			FROM = { has_country_flag = VEN_accepted_deal }
		}

		effect_tooltip = {
			if = { limit = { FROM = { original_tag = SOV } }
				SOV = {
					add_opinion_modifier = { target = ROOT modifier = economic_mission }
					add_ideas = russian_trade_deal
					set_temp_variable = { int_investment_change = 35 }
					modify_international_investment_effect = yes
				}
				VEN = {
					set_temp_variable = { percent_change = 2 }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
					add_ideas = russian_trade_deal
					875 = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
				set_temp_variable = { receiver_nation = SOV.id }
				set_temp_variable = { sender_nation = VEN.id }
				set_improved_trade_agreement = yes
			}
			else_if = { limit = { FROM = { original_tag = CHI } }
				CHI = {
					add_ideas = china_trade_deal
					add_opinion_modifier = {
						target = ROOT
						modifier = economic_mission
					}
					create_import = {
						resource = oil
						amount = 10
						exporter = VEN
					}
				}
				VEN = {
					add_ideas = china_trade_deal
					set_temp_variable = { percent_change = 2 }
					set_temp_variable = { tag_index = CHI.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
					create_import = {
						resource = steel
						amount = 10
						exporter = CHI
					}
				}
				set_temp_variable = { receiver_nation = CHI.id }
				set_temp_variable = { sender_nation = VEN.id }
				set_improved_trade_agreement = yes
			}
		}

		hidden_effect = {
			FROM = {
				clr_country_flag = VEN_accepted_deal
				clr_country_flag = VEN_refused_deal
			}
		}
	}

	option = {
		name = venezuela.201.b
		log = "[GetDateText]: [This.GetName]: venezuela.201.b executed"
		trigger = {
			FROM = { has_country_flag = VEN_refused_deal }
		}

		hidden_effect = {
			FROM = {
				clr_country_flag = VEN_accepted_deal
				clr_country_flag = VEN_refused_deal
			}
		}
	}
}