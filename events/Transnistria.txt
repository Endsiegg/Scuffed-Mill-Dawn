add_namespace = transnistria
#Weapon sells
country_event = {
	id = transnistria.1
	title = transnistria.1.t
	desc = transnistria.1.d
	picture = GFX_weapons_arms1

	is_triggered_only = yes

	option = {
		name = transnistria.1.a
		log = "[GetDateText]: [This.GetName]: transnistria.1.a executed"
		set_temp_variable = { treasury_change = 0.150 }
		modify_treasury_effect = yes
		set_temp_variable = { modify_kolbasna = -400 }
		modify_kolbasna_support = yes
	}
}
country_event = {
	id = transnistria.2
	title = transnistria.2.t
	desc = transnistria.2.d
	picture = GFX_pkk_ambush_lose

	is_triggered_only = yes

	option = {
		name = transnistria.2.a
		log = "[GetDateText]: [This.GetName]: transnistria.2.a executed"
		add_political_power = -35
	}
}
country_event = {
	id = transnistria.3
	title = transnistria.3.t
	desc = transnistria.3.d
	picture = GFX_weapons_arms1

	is_triggered_only = yes

	option = {
		name = transnistria.3.a
		log = "[GetDateText]: [This.GetName]: transnistria.3.a executed"
		set_temp_variable = { treasury_change = 0.300 }
		modify_treasury_effect = yes
		set_temp_variable = { modify_kolbasna = -700 }
		modify_kolbasna_support = yes
	}
}
country_event = {
	id = transnistria.4
	title = transnistria.4.t
	desc = transnistria.4.d
	picture = GFX_pkk_ambush_lose

	is_triggered_only = yes

	option = {
		name = transnistria.4.a
		log = "[GetDateText]: [This.GetName]: transnistria.4.a executed"
		add_political_power = -75
	}
}
country_event = {
	id = transnistria.13
	title = transnistria.13.t
	desc = transnistria.13.d
	picture = GFX_weapons_arms1

	is_triggered_only = yes

	option = {
		name = transnistria.13.a
		log = "[GetDateText]: [This.GetName]: transnistria.13.a executed"
		add_resource = {
			type = steel
			amount = 2
			state = 149
		}
		set_temp_variable = { treasury_change = -0.2 }
		modify_treasury_effect = yes
	}
	option = {
		name = transnistria.13.b
		log = "[GetDateText]: [This.GetName]: transnistria.13.b executed"
		add_resource = {
			type = tungsten
			amount = 1
			state = 149
		}
		set_temp_variable = { treasury_change = -0.4 }
		modify_treasury_effect = yes
	}
}
country_event = {
	id = transnistria.14
	title = transnistria.14.t
	desc = transnistria.14.d
	picture = GFX_weapons_arms1

	is_triggered_only = yes

	option = {
		name = transnistria.14.a
		log = "[GetDateText]: [This.GetName]: transnistria.14.a executed"
		one_random_fossil_fuel_powerplant = yes
		149 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
	}
	option = {
		name = transnistria.14.b
		log = "[GetDateText]: [This.GetName]: transnistria.14.b executed"
		one_random_fossil_fuel_powerplant = yes
		149 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		set_temp_variable = { treasury_change = -7.5 }
		modify_treasury_effect = yes
	}
}
country_event = {
	id = transnistria.15
	title = transnistria.15.t
	desc = transnistria.15.d
	picture = GFX_weapons_arms1

	is_triggered_only = yes

	option = {
		name = transnistria.15.a
		log = "[GetDateText]: [This.GetName]: transnistria.15.a executed"
		set_autonomy = {
			target = PMR
			autonomy_state = autonomy_moldovian_federation1
			end_wars = no
			end_civil_wars = no
		}
		release = GGZ
		set_autonomy = {
			target = GGZ
			autonomy_state = autonomy_moldovian_federation1
			end_wars = no
			end_civil_wars = no
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = transnistria.15.b
		log = "[GetDateText]: [This.GetName]: transnistria.15.b executed"
		ai_chance = {
			base = 50
		}
	}
}
country_event = {
	id = transnistria.16
	title = transnistria.16.t
	desc = transnistria.16.d
	picture = GFX_sov_pmr_referendum
	is_triggered_only = yes
	option = {
		name = transnistria.16.a
		log = "[GetDateText]: [This.GetName]: transnistria.16.a executed"
		PMR = {
			set_country_flag = SOV_subject_agree
			set_country_flag = SOV_subject_republic
			set_country_flag = SUB_russ_polit
			update_party_name = yes
			set_cosmetic_tag = PMR_russia
			clr_country_flag = dynamic_flag
		}
		set_autonomy = {
			target = PMR
			autonomy_state = autonomy_republic_rf
			end_wars = no
			end_civil_wars = no
		}
		custom_effect_tooltip = SOV_subjectsepar_minus_tt
		hidden_effect = {
			PMR = {
				add_ideas = SUB_small_taxes
			}
			SOV = {
				set_temp_variable = { modify_subjectnalogs = 3 }
				modify_subjectnalogs_support = yes
			}
			SUB_separatism_minus_subject = yes
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = transnistria.16.b
		log = "[GetDateText]: [This.GetName]: transnistria.16.b executed"
		ai_chance = {
			base = 50
		}
	}
}
country_event = {
	id = transnistria.17
	title = transnistria.17.t
	desc = transnistria.17.d
	is_triggered_only = yes
	option = {
		name = transnistria.17.a
		log = "[GetDateText]: [This.GetName]: transnistria.17.a executed"
		PMR = { set_country_flag = Subject_moldova_agree }
		set_autonomy = {
			target = PMR
			autonomy_state = autonomy_moldovian_federation1
			end_wars = no
			end_civil_wars = no
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = transnistria.17.b
		log = "[GetDateText]: [This.GetName]: transnistria.17.b executed"
		ai_chance = {
			base = 50
		}
	}
}
###Doctrine###
country_event = {
	id = transnistria.18
	title = transnistria.18.t
	desc = transnistria.18.d
	is_triggered_only = yes
	option = {
		name = transnistria.18.a
		log = "[GetDateText]: [This.GetName]: transnistria.18.a executed"
		add_ideas = PMR_doctrine_romania
		add_opinion_modifier = { target = ROM modifier = recent_actions_negative }
		reverse_add_opinion_modifier = { target = ROM modifier = recent_actions_negative }
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = transnistria.18.b
		log = "[GetDateText]: [This.GetName]: transnistria.18.b executed"
		add_ideas = PMR_doctrine_ukraine
		reverse_add_opinion_modifier = { target = UKR modifier = recent_actions_negative }
		add_opinion_modifier = { target = MLV modifier = recent_actions_negative }
		ai_chance = {
			base = 50
		}
	}
}
###Iskander###
country_event = {
	id = transnistria.19
	title = transnistria.19.t
	desc = transnistria.19.d
	picture = GFX_sov_iskander
	is_triggered_only = yes
	option = {
		name = transnistria.19.a
		log = "[GetDateText]: [This.GetName]: transnistria.19.a executed"
		add_opinion_modifier = { target = ROM modifier = recent_actions_negative }
		reverse_add_opinion_modifier = { target = ROM modifier = recent_actions_negative }
		add_opinion_modifier = { target = UKR modifier = recent_actions_negative }
		reverse_add_opinion_modifier = { target = UKR modifier = recent_actions_negative }
		add_opinion_modifier = { target = MLV modifier = recent_actions_negative }
		reverse_add_opinion_modifier = { target = MLV modifier = recent_actions_negative }
		add_equipment_to_stockpile = {
			type = guided_missile_equipment_4
			amount = -4
		}
		PMR = {
			add_equipment_to_stockpile = {
				type = guided_missile_equipment_4
				amount = 4
			}
		}
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = transnistria.19.b
		log = "[GetDateText]: [This.GetName]: transnistria.19.b executed"
		ai_chance = {
			base = 50
		}
	}
}
###Odessa for Ukraine###
country_event = {
	id = transnistria.20
	title = transnistria.20.t
	desc = transnistria.20.d
	picture = GFX_sov_iskander
	is_triggered_only = yes
	option = {
		name = transnistria.20.a
		log = "[GetDateText]: [This.GetName]: transnistria.20.a executed"
		declare_war_on = {
			target = OPR
			type = annex_everything
		}
		PMR = { country_event = transnistria.28 }
		ai_chance = {
			base = 90
		}
	}
	option = {
		name = transnistria.20.b
		log = "[GetDateText]: [This.GetName]: transnistria.20.b executed"
		PMR = { country_event = transnistria.27 }
		ai_chance = {
			base = 10
		}
	}
}
###Gagauzia Revoult###
country_event = {
	id = transnistria.21
	title = transnistria.21.t
	desc = transnistria.21.d
	picture = GFX_sov_iskander
	is_triggered_only = yes
	option = {
		name = transnistria.21.a
		log = "[GetDateText]: [This.GetName]: transnistria.21.a executed"
		set_temp_variable = { treasury_change = -0.7 }
		modify_treasury_effect = yes
		add_political_power = -100
		MLV = { release = GGZ }
		set_autonomy = {
			target = GGZ
			autonomy_state = autonomy_moldovian_federation
			end_wars = no
			end_civil_wars = no
		}
		if = {
			limit = {
				has_completed_focus = PMR_path
			}
			GGZ = {
				set_country_flag = PMR_subject_agree
			}
		}
		GGZ = {
		declare_war_on = {
			target = MLV
			type = annex_everything
		}
		}
		set_temp_variable = { percent_change = 15.5 }
		set_temp_variable = { tag_index = PMR }
		set_temp_variable = { influence_target = GGZ }
		change_influence_percentage = yes
		ai_chance = {
			base = 80
		}
	}
	option = {
		name = transnistria.21.b
		log = "[GetDateText]: [This.GetName]: transnistria.21.b executed"
		ai_chance = {
			base = 20
		}
	}
}
###Gagauzia Revoult###
country_event = {
	id = transnistria.22
	title = transnistria.22.t
	desc = transnistria.22.d
	is_triggered_only = yes
	option = {
		name = transnistria.22.a
		log = "[GetDateText]: [This.GetName]: transnistria.22.a executed"
		set_temp_variable = { percent_change = 5.5 }
		set_temp_variable = { tag_index = PMR }
		set_temp_variable = { influence_target = GGZ }
		change_influence_percentage = yes
	}
}
###Lebed###
country_event = {
	id = transnistria.23
	title = transnistria.23.t
	desc = transnistria.23.d
	is_triggered_only = yes
	option = {
		name = transnistria.23.a
		log = "[GetDateText]: [This.GetName]: transnistria.23.a executed"
		create_corps_commander = {
			name = "Alexander Lebed"
			portrait_path = "gfx/leaders/PMR/alexander_lebed.dds"
			traits = { bold }
			skill = 1
			attack_skill = 5
			defense_skill = 5
			planning_skill = 4
			logistics_skill = 4
		}
	}
}
###Transh###
country_event = {
	id = transnistria.24
	title = transnistria.24.t
	desc = transnistria.24.d
	is_triggered_only = yes
	option = {
		name = transnistria.24.a
		log = "[GetDateText]: [This.GetName]: transnistria.24.a executed"
		set_temp_variable = { treasury_change = 2.5 }
		modify_treasury_effect = yes
		set_temp_variable = { percent_change = 1.5 }
		set_temp_variable = { tag_index = SOV }
		set_temp_variable = { influence_target = PMR }
		change_influence_percentage = yes
	}
}
##AI change path
country_event = {
	id = transnistria.25
	title = transnistria.25.t
	desc = transnistria.25.d
	is_triggered_only = yes
	option = {
		name = transnistria.25.a
		log = "[GetDateText]: [This.GetName]: transnistria.25.a"
		PMR_script_random_ai = yes
	}
}
country_event = {
	id = transnistria.26
	title = transnistria.26.t
	desc = transnistria.26.d
	picture = GFX_ukraine_annexes_transnistria
	is_triggered_only = yes
	option = {
		name = transnistria.26.a
		log = "[GetDateText]: [This.GetName]: transnistria.26.a executed"
		if = {
			limit = {
				has_global_flag = GAME_RULE_allow_colored_puppets
			}
			set_autonomy = {
				target = PMR
				autonomy_state = autonomy_autonomous_state_colored
				end_wars = yes
				end_civil_wars = yes
			}
		}
		else = {
			set_autonomy = {
				target = PMR
				autonomy_state = autonomy_autonomous_state
				end_wars = yes
				end_civil_wars = yes
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = transnistria.26.b
		log = "[GetDateText]: [This.GetName]: transnistria.26.b executed"
		ai_chance = {
			base = 0
		}
	}
}
country_event = {
	id = transnistria.27
	title = transnistria.27.t
	desc = transnistria.27.d
	is_triggered_only = yes
	option = {
		name = transnistria.27.a
		log = "[GetDateText]: [This.GetName]: transnistria.27.a executed"
		set_temp_variable = { percent_change = 5.5 }
		set_temp_variable = { tag_index = PMR }
		set_temp_variable = { influence_target = OPR }
		change_influence_percentage = yes
		ai_chance = {
			base = 100
		}
	}
}
country_event = {
	id = transnistria.28
	title = transnistria.28.t
	desc = transnistria.28.d
	is_triggered_only = yes
	option = {
		name = transnistria.28.a
		log = "[GetDateText]: [This.GetName]: transnistria.28.a executed"
		UKR = {
			declare_war_on = {
				target = PMR
				type = annex_everything
			}
		}
		give_military_access = OPR
		OPR = { give_military_access = PMR }
		ai_chance = {
			base = 100
		}
	}
}

