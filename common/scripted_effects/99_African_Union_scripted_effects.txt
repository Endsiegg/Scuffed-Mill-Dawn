african_union_update_outlook_popularities = {
	set_variable = { african_union_population = 0 }
	set_variable = { african_union_western_outlook = 0 }
	set_variable = { african_union_emerging_outlook = 0 }
	set_variable = { african_union_salafist_outlook = 0 }
	set_variable = { african_union_nonaligned_outlook = 0 }
	set_variable = { african_union_nationalist_outlook = 0 }
	set_variable = { average_gdp_of_africa = 0 }

	every_country = {
		limit = { is_african_nation = yes }
		add_to_variable = { ROOT.african_union_population = THIS.population_total_m }
		if = {
			limit = { THIS = { has_government = democratic } }
			add_to_variable = { ROOT.african_union_western_outlook = THIS.population_total_m }
		}
		if = {
			limit = { THIS = { has_government = communism } }
			add_to_variable = { ROOT.african_union_emerging_outlook = THIS.population_total_m }
		}
		if = {
			limit = { THIS = { has_government = fascism } }
			add_to_variable = { ROOT.african_union_salafist_outlook = THIS.population_total_m }
		}
		if = {
			limit = { THIS = { has_government = neutrality } }
			add_to_variable = { ROOT.african_union_nonaligned_outlook = THIS.population_total_m }
		}
		if = {
			limit = { THIS = { has_government = nationalist } }
			add_to_variable = { ROOT.african_union_nationalist_outlook = THIS.population_total_m }
		}
		add_to_variable = { ROOT.average_gdp_of_africa = THIS.gdp_total }
	}

	set_variable = { african_union_western_outlook_share = african_union_western_outlook }
	divide_variable = { african_union_western_outlook_share = african_union_population }

	set_variable = { african_union_emerging_outlook_share = african_union_emerging_outlook }
	divide_variable = { african_union_emerging_outlook_share = african_union_population }

	set_variable = { african_union_salafist_outlook_share = african_union_salafist_outlook }
	divide_variable = { african_union_salafist_outlook_share = african_union_population }

	set_variable = { african_union_nonaligned_outlook_share = african_union_nonaligned_outlook }
	divide_variable = { african_union_nonaligned_outlook_share = african_union_population }

	set_variable = { african_union_nationalist_outlook_share = african_union_nationalist_outlook }
	divide_variable = { african_union_nationalist_outlook_share = african_union_population }

	divide_variable = { average_gdp_of_africa = african_union_population }

}

african_union_give_mandate = {
	if = {
		limit = {
			NOT = { has_global_flag = African_Union_united }
			NOT = { has_global_flag = african_union_mandate_granted }
		}
		set_global_flag = african_union_mandate_granted
		custom_effect_tooltip = african_union_give_mandate_tt
	}
}

african_union_use_mandate = {
	if = {
		limit = {
			NOT = { has_global_flag = African_Union_united }
			NOT = { has_global_flag = african_union_extra_mandate_granted }
		}
		clr_global_flag = african_union_mandate_granted
		custom_effect_tooltip = african_union_use_mandate_tt
	}
	else = {
		custom_effect_tooltip = african_union_use_mandate_extra_tt
		clr_global_flag = african_union_extra_mandate_granted
	}
}

african_union_give_extra_mandate = {
	if = {
		limit = {
			NOT = { has_global_flag = African_Union_united }
			NOT = { has_global_flag = african_union_extra_mandate_granted }
		}
		set_global_flag = african_union_extra_mandate_granted
		custom_effect_tooltip = african_union_give_extra_mandate_tt
	}
}

african_union_remove_summit_buffs = {
	if = {
		limit = { has_idea = african_union_common_political_agenda }
		remove_ideas = african_union_common_political_agenda
	}
	if = {
		limit = { has_idea = african_union_child_welfare }
		remove_ideas = african_union_child_welfare
	}
	if = {
		limit = { has_idea = african_union_improved_digitalisation }
		remove_ideas = african_union_improved_digitalisation
	}
	if = {
		limit = { has_idea = african_union_human_rights_good_boy }
		remove_ideas = african_union_human_rights_good_boy
	}
	if = {
		limit = { has_idea = african_union_human_rights_bad_boy }
		remove_ideas = african_union_human_rights_bad_boy
	}
	if = {
		limit = { has_idea = african_union_improved_trade_relations }
		remove_ideas = african_union_improved_trade_relations
	}
	if = {
		limit = { has_idea = african_union_health_research }
		remove_ideas = african_union_health_research
	}
	if = {
		limit = { has_idea = african_union_cultural_independence }
		remove_ideas = african_union_cultural_independence
	}
	if = {
		limit = { has_idea = african_union_encourage_domestic_agriculture }
		remove_ideas = african_union_encourage_domestic_agriculture
	}
	if = {
		limit = { has_idea = african_union_aids_watch_funded }
		remove_ideas = african_union_aids_watch_funded
	}
	if = {
		limit = { has_idea = african_union_aids_watch_funder }
		remove_ideas = african_union_aids_watch_funder
	}
	if = {
		limit = { has_idea = african_union_decade_of_education }
		remove_ideas = african_union_decade_of_education
	}
	if = {
		limit = { has_idea = african_union_declaration_of_fertilizers }
		remove_ideas = african_union_declaration_of_fertilizers
	}
	if = {
		limit = { has_idea = african_union_research_focus }
		remove_ideas = african_union_research_focus
	}
	if = {
		limit = { has_idea = african_union_renewable_investments }
		remove_ideas = african_union_renewable_investments
	}
	if = {
		limit = { has_idea = african_union_industrial_development }
		remove_ideas = african_union_industrial_development
	}
	if = {
		limit = { has_idea = african_union_health_care_investment }
		remove_ideas = african_union_health_care_investment
	}
	if = {
		limit = { has_idea = african_union_combat_human_trafficking }
		remove_ideas = african_union_combat_human_trafficking
	}
	if = {
		limit = { has_idea = african_union_water_and_food_benefits }
		remove_ideas = african_union_water_and_food_benefits
	}
	if = {
		limit = { has_idea = african_union_coup_defence }
		remove_ideas = african_union_coup_defence
	}
	if = {
		limit = { has_idea = african_union_energy_investments }
		remove_ideas = african_union_energy_investments
	}
	if = {
		limit = { has_idea = african_union_infra_investments }
		remove_ideas = african_union_infra_investments
	}
	if = {
		limit = { has_idea = african_union_peacekeeping_effort }
		remove_ideas = african_union_peacekeeping_effort
	}
	if = {
		limit = { has_idea = african_union_no_ransom }
		remove_ideas = african_union_no_ransom
	}
	if = {
		limit = { has_idea = african_union_financial_institutions }
		remove_ideas = african_union_financial_institutions
	}
	if = {
		limit = { has_idea = african_union_fight_corruption }
		remove_ideas = african_union_fight_corruption
	}
	if = {
		limit = { has_idea = african_union_fight_colonialism }
		remove_ideas = african_union_fight_colonialism
	}
	if = {
		limit = { has_idea = african_union_invest_defence }
		remove_ideas = african_union_invest_defence
	}
	if = {
		limit = { has_idea = african_union_invest_sea_trade }
		remove_ideas = african_union_invest_sea_trade
	}
}