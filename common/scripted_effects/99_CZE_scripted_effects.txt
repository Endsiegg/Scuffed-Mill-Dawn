CZE_research_grants_utility_effect = {
	if = {
		limit = {
			has_idea = CZE_research_grants_utility1_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility1_idea
			add_idea = CZE_research_grants_utility2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility2_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility2_idea
			add_idea = CZE_research_grants_utility3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility3_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility3_idea
			add_idea = CZE_research_grants_utility4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility4_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility4_idea
			add_idea = CZE_research_grants_utility5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility5_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility5_idea
			add_idea = CZE_research_grants_utility6_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility6_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility6_idea
			add_idea = CZE_research_grants_utility7_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility7_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility7_idea
			add_idea = CZE_research_grants_utility8_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility8_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility8_idea
			add_idea = CZE_research_grants_utility9_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility9_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility9_idea
			add_idea = CZE_research_grants_utility10_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility10_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility10_idea
			add_idea = CZE_research_grants_utility11_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility11_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility11_idea
			add_idea = CZE_research_grants_utility12_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility12_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility12_idea
			add_idea = CZE_research_grants_utility13_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility13_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility13_idea
			add_idea = CZE_research_grants_utility14_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_utility14_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_utility14_idea
			add_idea = CZE_research_grants_utility15_idea
		}
	}
	else = {
		add_ideas = CZE_research_grants_utility1_idea
	}
}

CZE_research_grants_czech_effect = {
	if = {
		limit = {
			has_idea = CZE_research_grants_czech1_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech1_idea
			add_idea = CZE_research_grants_czech2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech2_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech2_idea
			add_idea = CZE_research_grants_czech3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech3_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech3_idea
			add_idea = CZE_research_grants_czech4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech4_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech4_idea
			add_idea = CZE_research_grants_czech5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech5_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech5_idea
			add_idea = CZE_research_grants_czech6_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech6_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech6_idea
			add_idea = CZE_research_grants_czech7_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech7_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech7_idea
			add_idea = CZE_research_grants_czech8_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech8_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech8_idea
			add_idea = CZE_research_grants_czech9_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech9_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech9_idea
			add_idea = CZE_research_grants_czech10_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech10_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech10_idea
			add_idea = CZE_research_grants_czech11_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech11_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech11_idea
			add_idea = CZE_research_grants_czech12_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech12_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech12_idea
			add_idea = CZE_research_grants_czech13_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech13_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech13_idea
			add_idea = CZE_research_grants_czech14_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_czech14_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_czech14_idea
			add_idea = CZE_research_grants_czech15_idea
		}
	}
	else = {
		add_ideas = CZE_research_grants_czech1_idea
	}
}

CZE_research_grants_mbt_effect = {
	if = {
		limit = {
			has_idea = CZE_research_grants_mbt1_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt1_idea
			add_idea = CZE_research_grants_mbt2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt2_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt2_idea
			add_idea = CZE_research_grants_mbt3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt3_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt3_idea
			add_idea = CZE_research_grants_mbt4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt4_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt4_idea
			add_idea = CZE_research_grants_mbt5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt5_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt5_idea
			add_idea = CZE_research_grants_mbt6_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt6_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt6_idea
			add_idea = CZE_research_grants_mbt7_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt7_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt7_idea
			add_idea = CZE_research_grants_mbt8_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt8_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt8_idea
			add_idea = CZE_research_grants_mbt9_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt9_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt9_idea
			add_idea = CZE_research_grants_mbt10_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt10_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt10_idea
			add_idea = CZE_research_grants_mbt11_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt11_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt11_idea
			add_idea = CZE_research_grants_mbt12_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt12_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt12_idea
			add_idea = CZE_research_grants_mbt13_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt13_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt13_idea
			add_idea = CZE_research_grants_mbt14_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_research_grants_mbt14_idea
		}
		swap_ideas = {
			remove_idea = CZE_research_grants_mbt14_idea
			add_idea = CZE_research_grants_mbt15_idea
		}
	}
	else = {
		add_ideas = CZE_research_grants_mbt1_idea
	}
}

CZE_skoda_superb_cars_calculate_factories = {
	set_variable = { CZE.CZE_skoda_superb_productivity_factories = CZE.CZE_skoda_superb_productivity_raw }
	set_variable = { CZE.CZE_skoda_superb2_productivity_factories = CZE.CZE_skoda_superb2_productivity_raw }
	set_variable = { CZE.CZE_skoda_superb3_productivity_factories = CZE.CZE_skoda_superb3_productivity_raw }
	set_variable = { CZE.CZE_skoda_superb4_productivity_factories = CZE.CZE_skoda_superb4_productivity_raw }

	set_variable = { CZE.CZE_skoda_superb_productivity_multiplier = 1 }
	multiply_variable = {
		var = CZE.CZE_skoda_superb_productivity_factories
		value = CZE.CZE_skoda_superb_cars_factories
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb2_productivity_factories
		value = CZE.CZE_skoda_superb_cars_factories
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb3_productivity_factories
		value = CZE.CZE_skoda_superb_cars_factories
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb4_productivity_factories
		value = CZE.CZE_skoda_superb_cars_factories
	}
	add_to_variable = { CZE.CZE_skoda_superb_productivity_multiplier = modifier@CZE_skoda_superb_productivity_modifier }
	multiply_variable = {
		var = CZE.CZE_skoda_superb_productivity_factories
		value = CZE.CZE_skoda_superb_productivity_multiplier
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb2_productivity_factories
		value = CZE.CZE_skoda_superb_productivity_multiplier
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb3_productivity_factories
		value = CZE.CZE_skoda_superb_productivity_multiplier
	}
	multiply_variable = {
		var = CZE.CZE_skoda_superb4_productivity_factories
		value = CZE.CZE_skoda_superb_productivity_multiplier
	}
	set_variable = { CZE_skoda_bills_cost = 2.5 }
	multiply_variable = {
		var = CZE.CZE_skoda_bills_cost
		value = CZE.CZE_skoda_superb_cars_factories
	}
	set_variable = { CZE.CZE_skoda_bills_gain = CZE.CZE_skoda_bills_cost }
	multiply_variable = { CZE.CZE_skoda_bills_cost = -1 }
}

CZE_skoda_productivity_monthly_gain_effect = {
	add_to_variable = { CZE.CZE_skoda_productivity_monthly_gain_var = 0.001 }
}

CZE_skoda_international_trade_effect = {
	if = {
		limit = {
			has_idea = CZE_skoda_international_trade_idea
		}
		swap_ideas = {
			remove_idea = CZE_skoda_international_trade_idea
			add_idea = CZE_skoda_international_trade2_idea
		}
	}
	else = {
		add_ideas = CZE_skoda_international_trade_idea
	}
}

CZE_skoda_selling_all_cars = {
	set_variable = { CZE_sell_all_cars_profit = 0 }
	set_variable = { CZE_sell_all_cars1_profit = 0.001 }
	set_variable = { CZE_skoda_superb_cars_stockpile_sell = CZE_skoda_superb_cars_stockpile }
	multiply_variable = {
		var = CZE_skoda_superb_cars_stockpile_sell
		value = CZE_sell_all_cars1_profit
	}
	set_variable = { CZE_sell_all_cars2_profit = 0.002 }
	set_variable = { CZE_skoda_superb2_cars_stockpile_sell = CZE_skoda_superb2_cars_stockpile }
	multiply_variable = {
		var = CZE_skoda_superb2_cars_stockpile_sell
		value = CZE_sell_all_cars2_profit
	}
	set_variable = { CZE_sell_all_cars3_profit = 0.004 }
	set_variable = { CZE_skoda_superb3_cars_stockpile_sell = CZE_skoda_superb3_cars_stockpile }
	multiply_variable = {
		var = CZE_skoda_superb3_cars_stockpile_sell
		value = CZE_sell_all_cars3_profit
	}
	set_variable = { CZE_sell_all_cars4_profit = 0.005 }
	set_variable = { CZE_skoda_superb4_cars_stockpile_sell = CZE_skoda_superb4_cars_stockpile }
	multiply_variable = {
		var = CZE_skoda_superb4_cars_stockpile_sell
		value = CZE_sell_all_cars4_profit
	}
	add_to_variable = { CZE_sell_all_cars_profit = CZE_skoda_superb_cars_stockpile_sell }
	add_to_variable = { CZE_sell_all_cars_profit = CZE_skoda_superb2_cars_stockpile_sell }
	add_to_variable = { CZE_sell_all_cars_profit = CZE_skoda_superb3_cars_stockpile_sell }
	add_to_variable = { CZE_sell_all_cars_profit = CZE_skoda_superb4_cars_stockpile_sell }
	hidden_effect = {
		set_temp_variable = { treasury_change = CZE_sell_all_cars_profit }
		modify_treasury_effect = yes
		add_to_variable = { CZE_skoda_superb_cars_treasury = CZE_sell_all_cars_profit }
	}
}

CZE_volkswagen_group_civil_war_calculate_percentage_effect = {
	set_variable = { CZE.skoda_support = 100 }
	subtract_from_variable = { CZE.skoda_support = CZE.volkswagen_support }
	clamp_variable = {
		var = CZE.skoda_support
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CZE.volkswagen_support
		min = 0
		max = 100
	}

	if = {
		limit = {
			check_variable = { CZE.skoda_support = 100 }
		}
		CZE = {
			set_country_flag = CZE_skoda_overthrown_volkswagen_flag
		}
	}
	if = {
		limit = {
			check_variable = { CZE.volkswagen_support = 100 }
		}
		GER = {
			set_country_flag = CZE_volkswagen_overthrown_skoda_flag
		}
	}
}

CZE_calculate_skoda_group_factor = {
	set_variable = { CZE_skoda_group_research_factor = 0.02 }
	multiply_variable = { CZE_skoda_group_research_factor = CZE_skoda_group_companies }

	set_variable = { CZE_skoda_group_opinion_factor = 0.05 }
	multiply_variable = { CZE_skoda_group_opinion_factor = CZE_skoda_group_companies }

	set_variable = { CZE_skoda_group_investment_factor = 0.03 }
	multiply_variable = { CZE_skoda_group_investment_factor = CZE_skoda_group_companies }

	set_variable = { CZE_skoda_group_tax_factor = 0.04 }
	multiply_variable = { CZE_skoda_group_tax_factor = CZE_skoda_group_companies }
}

CZE_skoda_fixing_economy_effect = {
	if = {
		limit = {
			has_idea = CZE_skoda_made_things_unstable_idea
		}
		swap_ideas = {
			remove_idea = CZE_skoda_made_things_unstable_idea
			add_idea = CZE_skoda_made_things_unstable2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_skoda_made_things_unstable2_idea
		}
		swap_ideas = {
			remove_idea = CZE_skoda_made_things_unstable2_idea
			add_idea = CZE_skoda_made_things_unstable3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_skoda_made_things_unstable3_idea
		}
		swap_ideas = {
			remove_idea = CZE_skoda_made_things_unstable3_idea
			add_idea = CZE_skoda_made_things_unstable4_idea
		}
	}
}

CZE_skoda_treasury_add_effect = {
	custom_effect_tooltip = CZE_skoda_balance_change_tooltip
	add_to_variable = { CZE_skoda_superb_cars_treasury = CZE_skoda_balance_change }
}

CZE_nuclear_power_plants_idea_effect = {
	if = {
		limit = {
			has_idea = CZE_nuclear_power_plants_idea
		}
		swap_ideas = {
			remove_idea = CZE_nuclear_power_plants_idea
			add_idea = CZE_nuclear_power_plants2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_nuclear_power_plants2_idea
		}
		swap_ideas = {
			remove_idea = CZE_nuclear_power_plants2_idea
			add_idea = CZE_nuclear_power_plants3_idea
		}
	}
	else = {
		add_ideas = CZE_nuclear_power_plants_idea
	}
}

CZE_increase_demand_effect = {
	add_to_variable = { CZE_skoda_superb_german_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_german_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_england_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_england_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_france_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_france_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_italy_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_italy_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_spain_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_spain_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_poland_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_poland_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_russia_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_russia_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_austria_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_austria_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_slovakia_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_slovakia_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_switzerland_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_switzerland_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_sweden_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_sweden_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_norway_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_norway_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_belgium_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_belgium_demand
		max = 100
	}
	add_to_variable = { CZE_skoda_superb_netherlands_demand = 7.5 }
	clamp_variable = {
		var = CZE_skoda_superb_netherlands_demand
		max = 100
	}
}

CZE_calculate_political_parties_modifiers_effect = {
	### PARTY EFFECTS ###
	set_variable = { CZE_political_power_mod = 0 }
	set_variable = { CZE_stab_factor = 0 }
	set_variable = { CZE_us_police_cost_multiplier_modifier = 0 }
	set_variable = { CZE_ano_corporate_tax_income_multiplier_modifier = 0 }
	set_variable = { CZE_prod_grow_mod = 0 }
	set_variable = { CZE_tax_gain_mod = 0 }
	set_variable = { CZE_corruption_mod = 0 }
	set_variable = { CZE_prod_speed_building_factor = 0 }
	set_variable = { CZE_research_speed_mod = 0 }
	if = {
		limit = {
			check_variable = { THIS.party_pop_array^1 < 0.2 }
		}
		set_variable = { CZE_foreign_influence_defense_modifier = -0.07 }
		set_variable = { CZE_prod_speed_building_factor = -0.03 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^1 > 0.2 }
			check_variable = { THIS.party_pop_array^1 < 0.5 }
		}
		set_variable = { CZE_foreign_influence_defense_modifier = 0.03 }
		set_variable = { CZE_prod_speed_building_factor = 0.03 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^1 > 0.5 }
		}
		set_variable = { CZE_foreign_influence_defense_modifier = 0.08 }
		set_variable = { CZE_prod_speed_building_factor = 0.08 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 < 0.2 }
			date < 2010.5.30
		}
		set_variable = { CZE_us_social_cost_multiplier_modifier = 0.05 }
		set_variable = { CZE_us_police_cost_multiplier_modifier = 0.05 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 > 0.2 }
			check_variable = { THIS.party_pop_array^2 < 0.5 }
			date < 2010.5.30
		}
		set_variable = { CZE_us_social_cost_multiplier_modifier = -0.02 }
		set_variable = { CZE_us_police_cost_multiplier_modifier = -0.04 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 > 0.5 }
			date < 2010.5.30
		}
		set_variable = { CZE_us_social_cost_multiplier_modifier = -0.07 }
		set_variable = { CZE_us_police_cost_multiplier_modifier = -0.12 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^4 < 0.2 }
			date < 2010.5.30
		}
		set_variable = { CZE_kscm_communist_drift_modifier = -0.04 }
		set_variable = { CZE_prod_speed_building_factor = -0.04 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^4 > 0.2 }
			check_variable = { THIS.party_pop_array^4 < 0.5 }
			date < 2010.5.30
		}
		set_variable = { CZE_kscm_communist_drift_modifier = 0.04 }
		set_variable = { CZE_prod_speed_building_factor = 0.02 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^4 > 0.5 }
			date < 2010.5.30
		}
		set_variable = { CZE_kscm_communist_drift_modifier = 0.1 }
		set_variable = { CZE_prod_speed_building_factor = 0.08 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^14 < 0.2 }
		}
		set_variable = { CZE_kdu_agricolture_productivity_modifier = 0.04 }
		set_variable = { CZE_foreign_influence_defense_modifier = -0.06 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^14 > 0.2 }
			check_variable = { THIS.party_pop_array^14 < 0.5 }
		}
		set_variable = { CZE_kdu_agricolture_productivity_modifier = 0.08 }
		set_variable = { CZE_foreign_influence_defense_modifier = 0.01 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^14 > 0.5 }
		}
		set_variable = { CZE_kdu_agricolture_productivity_modifier = 0.12 }
		set_variable = { CZE_foreign_influence_defense_modifier = 0.05 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^3 < 0.2 }
		}
		set_variable = { CZE_cssd_democratic_drift = 0.01 }
		set_variable = { CZE_stab_factor = -0.02 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^3 > 0.2 }
			check_variable = { THIS.party_pop_array^3 < 0.5 }
		}
		set_variable = { CZE_cssd_democratic_drift = 0.04 }
		set_variable = { CZE_stab_factor = 0.02 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^3 > 0.5 }
		}
		set_variable = { CZE_cssd_democratic_drift = 0.08 }
		set_variable = { CZE_stab_factor = 0.04 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^13 < 0.2 }
			date > 2011.4.11
		}
		set_variable = { CZE_ano_corporate_tax_income_multiplier_modifier = -0.05 }
		set_variable = { CZE_prod_speed_building_factor = -0.07 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^13 > 0.2 }
			check_variable = { THIS.party_pop_array^13 < 0.5 }
			date > 2011.4.11
		}
		set_variable = { CZE_ano_corporate_tax_income_multiplier_modifier = 0.05 }
		set_variable = { CZE_prod_speed_building_factor = 0.03 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^13 > 0.5 }
			date > 2011.4.11
		}
		set_variable = { CZE_ano_corporate_tax_income_multiplier_modifier = 0.12 }
		set_variable = { CZE_prod_speed_building_factor = 0.07 }
	}

	if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 < 0.2 }
			date > 2010.5.30
		}
		set_variable = { CZE_top_health_cost_multiplier_modifier = -0.07 }
		set_variable = { CZE_top_buildings_worker_requirement_modifier = 0.06 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 > 0.2 }
			check_variable = { THIS.party_pop_array^2 < 0.5 }
			date > 2010.5.30
		}
		set_variable = { CZE_top_health_cost_multiplier_modifier = 0.03 }
		set_variable = { CZE_top_buildings_worker_requirement_modifier = -0.02 }
	}
	else_if = {
		limit = {
			check_variable = { THIS.party_pop_array^2 > 0.5 }
			date > 2010.5.30
		}
		set_variable = { CZE_top_health_cost_multiplier_modifier = 0.08 }
		set_variable = { CZE_top_buildings_worker_requirement_modifier = -0.08 }
	}

	### LEADER EFFECTS ###
	# ODS
	if = {
		limit = {
			date < 2002.12.15
		}
		add_to_variable = { CZE_corruption_mod = -0.15 }
	}
	if = {
		limit = {
			date > 2002.12.15
			date < 2010.4.13
		}
		add_to_variable = { CZE_political_power_mod = 0.1 }
	}

	if = {
		limit = {
			date > 2010.4.13
			date < 2013.6.17
		}
		set_variable = { CZE_research_speed_mod = 0.1 }
	}
	if = {
		limit = {
			date > 2013.6.17
		}
		add_to_variable = { CZE_research_speed_mod = 0.175 }
	}

	# CSSD
	if = {
		limit = {
			date < 2001.4.7
		}
		add_to_variable = { CZE_political_power_mod = 0.1 }
	}

	if = {
		limit = {
			date > 2001.4.7
			date < 2004.6.26
		}
		set_variable = { CZE_vladimir_spidla_effect = -0.2 }
	}
	else = {
		clear_variable = CZE_vladimir_spidla_effect
	}
	if = {
		limit = {
			date > 2004.6.26
			date < 2005.9.24
		}
		add_to_variable = { CZE_us_police_cost_multiplier_modifier = -0.125 }
	}

	if = {
		limit = {
			date > 2005.9.24
			date < 2010.6.7
		}
		add_to_variable = { CZE_political_power_mod = 0.15 }
	}

	if = {
		limit = {
			date > 2010.6.7
			date < 2017.6.15
		}
		set_variable = { CZE_tax_gain_mod = 0.1 }
	}
	if = {
		limit = {
			date > 2017.6.15
			date < 2021.10.25
		}
		set_variable = { CZE_jan_hamacek_effect = 0.15 }
	}
	else = {
		clear_variable = CZE_jan_hamacek_effect
	}
	if = {
		limit = {
			date > 2021.10.25
		}
		add_to_variable = { CZE_stab_factor = 0.105 }
	}

	#KDU-CSL
	if = {
		limit = {
			date < 2001.4.26
		}
		add_to_variable = { CZE_stab_factor = 0.075 }
	}

	if = {
		limit = {
			OR = {
				AND = {
					date > 2001.4.26
					date < 2003.11.8
				}
				AND = {
					date > 2009.4.30
					date < 2010.4.29
				}
			}
		}
		add_to_variable = { CZE_political_power_mod = 0.125 }
	}

	if = {
		limit = {
			date > 2003.11.8
			date < 2009.4.30
		}
		add_to_variable = { CZE_prod_speed_building_factor = 0.1 }
	}
	if = {
		limit = {
			date > 2010.4.29
			date < 2019.3.29
		}
		add_to_variable = { CZE_research_speed_mod = 0.125 }
	}
	if = {
		limit = {
			date > 2019.3.29
			date < 2020.1.25
		}
		add_to_variable = { CZE_kdu_agricolture_productivity_modifier = 0.15 }
	}
	else = {
		add_to_variable = { CZE_kdu_agricolture_productivity_modifier = -0.15 }
	}
	if = {
		limit = {
			date > 2020.1.25
		}
		set_variable = { CZE_marian_jurecka_effect = 0.06 }
	}
	else = {
		clear_variable = CZE_marian_jurecka_effect
	}

	# KSCM
	if = {
		limit = {
			date < 2005.10.1
		}
		add_to_variable = { CZE_research_speed_mod = 0.1 }
	}
	if = {
		limit = {
			date > 2005.10.1
			date < 2021.10.9
		}
		add_to_variable = { CZE_political_power_mod = 0.15 }
	}

	if = {
		limit = {
			date > 2021.10.9
		}
		add_to_variable = { CZE_prod_grow_mod = 0.08 }
	}

	# US-DEU
	if = {
		limit = {
			date < 2001.6.23
		}
		set_variable = { CZE_karel_kuhnl_effect = 0.15 }
	}
	else = {
		clear_variable = CZE_karel_kuhnl_effect
	}
	if = {
		limit = {
			date > 2001.6.23
			date < 2002.7.4
		}
		add_to_variable = { CZE_political_power_mod = 0.115 }
	}

	if = {
		limit = {
			date > 2002.7.4
			date < 2003.1.19
		}
		add_to_variable = { CZE_tax_gain_mod = 0.1 }
	}
	if = {
		limit = {
			date > 2003.1.19
			date < 2004.6.27
		}
		add_to_variable = { CZE_research_speed_mod = 0.105 }
	}
	if = {
		limit = {
			date > 2004.6.27
			date < 2006.6.5
		}
		add_to_variable = { CZE_corruption_mod = -0.15 }
	}
	if = {
		limit = {
			date > 2006.6.5
			date < 2007.6.2
		}
		add_to_variable = { CZE_prod_speed_building_factor = 0.085 }
	}
	if = {
		limit = {
			date > 2007.6.2
		}
		add_to_variable = { CZE_prod_grow_mod = 0.06 }
	}

	# ANO
	if = {
		limit = {
			date > 2012.4.11
		}
		add_to_variable = { CZE_ano_corporate_tax_income_multiplier_modifier = 0.175 }
	}
	# TOP
	if = {
		limit = {
			date > 2010.5.30
			date < 2015.11.29
		}
		add_to_variable = { CZE_prod_grow_mod = 4 }
	}

	if = {
		limit = {
			OR = {
				AND = {
					date > 2015.11.29
					date < 2017.11.26
				}
				AND = {
					date > 2003.11.8
					date < 2006.8.25
				}
			}
		}
		add_to_variable = { CZE_tax_gain_mod = 0.125 }
	}

	if = {
		limit = {
			date > 2017.11.26
			date < 2019.11.24
		}
		add_to_variable = { CZE_political_power_mod = 0.2 }
	}

	if = {
		limit = {
			date > 2019.11.24
		}
		add_to_variable = { CZE_us_police_cost_multiplier_modifier = -0.14 }
	}
}

CZE_debt_decrease_effect = {
	if = {
		limit = {
			has_idea = CZE_debt_problem_idea
		}
		swap_ideas = {
			remove_idea = CZE_debt_problem_idea
			add_idea = CZE_debt_problem2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_debt_problem2_idea
		}
		swap_ideas = {
			remove_idea = CZE_debt_problem2_idea
			add_idea = CZE_debt_problem3_idea
		}
	}
	else = {
		remove_ideas = CZE_debt_problem3_idea
	}
}

CZE_european_reforms_effect = {
	if = {
		limit = {
			has_idea = CZE_european_reforms_idea
		}
		swap_ideas = {
			remove_idea = CZE_european_reforms_idea
			add_idea = CZE_european_reforms2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_european_reforms2_idea
		}
		swap_ideas = {
			remove_idea = CZE_european_reforms2_idea
			add_idea = CZE_european_reforms3_idea
		}
	}
	else = {
		swap_ideas = {
			remove_idea = CZE_european_reforms3_idea
			add_idea = CZE_european_reforms4_idea
		}
	}
}

CZE_increase_spolu_popularity = {
	set_temp_variable = { party_index = 1 }
	set_temp_variable = { party_popularity_increase = 0.03 }
	add_relative_party_popularity = yes
	set_temp_variable = { party_index = 2 }
	set_temp_variable = { party_popularity_increase = 0.03 }
	add_relative_party_popularity = yes
	set_temp_variable = { party_index = 14 }
	set_temp_variable = { party_popularity_increase = 0.03 }
	add_relative_party_popularity = yes
}

### PETR PAVEL
CZE_petr_pavel_skill_cards_exp = {
	if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_one_activated
		}
		add_to_variable = { petr_pavel_card_one_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_one_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	else_if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_two_activated
		}
		add_to_variable = { petr_pavel_card_two_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_two_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	else_if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_three_activated
		}
		add_to_variable = { petr_pavel_card_three_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_three_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	else_if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_four_activated
		}
		add_to_variable = { petr_pavel_card_four_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_four_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	else_if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_five_activated
		}
		add_to_variable = { petr_pavel_card_five_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_five_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	else_if = {
		limit = {
			has_country_flag = CZE_petr_pavel_card_six_activated
		}
		add_to_variable = { petr_pavel_card_six_points = 0.04 }
		clamp_variable = {
			var = petr_pavel_card_six_points
			max = 100
		}
		CZE_petr_pavel_skill_cards_buffs = yes
	}
	if = {
		limit = {
			check_variable = { petr_pavel_training_points < 100 }
		}
		add_to_variable = { petr_pavel_training_points = 0.025 }
	}
}

CZE_petr_pavel_skill_cards_buffs = {
	# ONE
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_one_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_one_points > 24 } check_variable = { CZE.petr_pavel_card_one_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_one_points > 49 } check_variable = { CZE.petr_pavel_card_one_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_one_trait_four
		}
	}
	# TWO
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_two_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_two_points > 24 } check_variable = { CZE.petr_pavel_card_two_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_two_points > 49 } check_variable = { CZE.petr_pavel_card_two_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_two_trait_four
		}
	}
	# THREE
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_three_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_three_points > 24 } check_variable = { CZE.petr_pavel_card_three_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_three_points > 49 } check_variable = { CZE.petr_pavel_card_three_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_three_trait_four
		}
	}
	# FOUR
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_four_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_four_points > 24 } check_variable = { CZE.petr_pavel_card_four_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_four_points > 49 } check_variable = { CZE.petr_pavel_card_four_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_four_trait_four
		}
	}
	# FIVE
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_five_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_five_points > 24 } check_variable = { CZE.petr_pavel_card_five_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_five_points > 49 } check_variable = { CZE.petr_pavel_card_five_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_five_trait_four
		}
	}
	# SIX
	if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_six_points < 25 }
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_six_points > 24 } check_variable = { CZE.petr_pavel_card_six_points < 50 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_one
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_four
		}
	}
	else_if = {
		limit = {
			check_variable = { CZE.petr_pavel_card_six_points > 49 } check_variable = { CZE.petr_pavel_card_six_points < 75 }
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_two
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_three
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_four
		}
	}
	else = {
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_one
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_two
		}
		remove_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_three
		}
		add_trait = {
			character = CZE_petr_pavel
			trait = CZE_skill_card_six_trait_four
		}
	}
}

CZE_petr_pavel_training_level_add = {
	custom_effect_tooltip = CZE_petr_pavel_training_level_tooltip
	add_to_variable = { petr_pavel_training_points = CZE_petr_pavel_training_level }
}

CZE_petr_pavel_card_one_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_one_tooltip
	add_to_variable = { petr_pavel_card_one_points = CZE_petr_pavel_card_one_level }
	clamp_variable = {
		var = petr_pavel_card_one_points
		max = 100
	}
}

CZE_petr_pavel_card_two_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_two_tooltip
	add_to_variable = { petr_pavel_card_two_points = CZE_petr_pavel_card_two_level }
	clamp_variable = {
		var = petr_pavel_card_two_points
		max = 100
	}
}

CZE_petr_pavel_card_three_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_three_tooltip
	add_to_variable = { petr_pavel_card_three_points = CZE_petr_pavel_card_three_level }
	clamp_variable = {
		var = petr_pavel_card_three_points
		max = 100
	}
}

CZE_petr_pavel_card_four_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_four_tooltip
	add_to_variable = { petr_pavel_card_four_points = CZE_petr_pavel_card_four_level }
	clamp_variable = {
		var = petr_pavel_card_four_points
		max = 100
	}
}

CZE_petr_pavel_card_five_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_five_tooltip
	add_to_variable = { petr_pavel_card_five_points = CZE_petr_pavel_card_five_level }
	clamp_variable = {
		var = petr_pavel_card_five_points
		max = 100
	}
}

CZE_petr_pavel_card_six_add = {
	custom_effect_tooltip = CZE_petr_pavel_card_six_tooltip
	add_to_variable = { petr_pavel_card_six_points = CZE_petr_pavel_card_six_level }
	clamp_variable = {
		var = petr_pavel_card_six_points
		max = 100
	}
}

CZE_petr_pavel_support_add = {
	custom_effect_tooltip = CZE_petr_pavel_supp
	add_to_variable = { CZE_petr_pavel_support = CZE_petr_pavel_support_bonus }
	clamp_variable = {
		var = CZE_petr_pavel_support
		max = 100
	}
}

CZE_airforce_program_upgrade = {
	if = {
		limit = {
			has_idea = CZE_2000_airforce_program_idea
		}
		swap_ideas = {
			remove_idea = CZE_2000_airforce_program_idea
			add_idea = CZE_2000_airforce_program2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2000_airforce_program2_idea
		}
		swap_ideas = {
			remove_idea = CZE_2000_airforce_program2_idea
			add_idea = CZE_2000_airforce_program3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2000_airforce_program3_idea
		}
		swap_ideas = {
			remove_idea = CZE_2000_airforce_program3_idea
			add_idea = CZE_2000_airforce_program4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2000_airforce_program4_idea
		}
		swap_ideas = {
			remove_idea = CZE_2000_airforce_program4_idea
			add_idea = CZE_2000_airforce_program5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2000_airforce_program5_idea
		}
		swap_ideas = {
			remove_idea = CZE_2000_airforce_program5_idea
			add_idea = CZE_2010_airforce_program_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program_idea
			add_idea = CZE_2010_airforce_program2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program2_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program2_idea
			add_idea = CZE_2010_airforce_program3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program3_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program3_idea
			add_idea = CZE_2010_airforce_program4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program4_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program4_idea
			add_idea = CZE_2010_airforce_program5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2000_airforce_program5_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program5_idea
			add_idea = CZE_2010_airforce_program6_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program6_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program6_idea
			add_idea = CZE_2010_airforce_program7_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2010_airforce_program7_idea
		}
		swap_ideas = {
			remove_idea = CZE_2010_airforce_program7_idea
			add_idea = CZE_2020_airforce_program_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program_idea
			add_idea = CZE_2020_airforce_program2_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program2_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program2_idea
			add_idea = CZE_2020_airforce_program3_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program3_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program3_idea
			add_idea = CZE_2020_airforce_program4_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program4_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program4_idea
			add_idea = CZE_2020_airforce_program5_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program5_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program5_idea
			add_idea = CZE_2020_airforce_program6_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program6_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program6_idea
			add_idea = CZE_2020_airforce_program7_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program7_idea
		}
		swap_ideas = {
			remove_idea = CZE_2020_airforce_program7_idea
			add_idea = CZE_2020_airforce_program8_idea
		}
	}
	else_if = {
		limit = {
			has_idea = CZE_2020_airforce_program8_idea
		}
		air_experience = 40
	}
}

CZE_SLO_add_people_acceptance_points = {
	custom_effect_tooltip = CZE_SLO_add_people_acceptance
	CZE = {
		add_to_variable = { CZE_SLO_people_acceptance = CZE_SLO_people_acceptance_temp }
		clamp_variable = {
			var = CZE_SLO_people_acceptance
			min = 0
			max = 100
		}
	}
	SLO = {
		add_to_variable = { CZE_SLO_people_acceptance = CZE_SLO_people_acceptance_temp }
		clamp_variable = {
			var = CZE_SLO_people_acceptance
			min = 0
			max = 100
		}
	}
}

CZE_SLO_add_law_similarity_points = {
	custom_effect_tooltip = CZE_SLO_add_law_similarity
	CZE = {
		add_to_variable = { CZE_SLO_law_similarity = CZE_SLO_law_similarity_temp }
		clamp_variable = {
			var = CZE_SLO_law_similarity
			min = 0
			max = 100
		}
	}
	SLO = {
		add_to_variable = { CZE_SLO_law_similarity = CZE_SLO_law_similarity_temp }
		clamp_variable = {
			var = CZE_SLO_law_similarity
			min = 0
			max = 100
		}
	}
}

CZE_SLO_add_military_support_points = {
	custom_effect_tooltip = CZE_SLO_add_military_support
	CZE = {
		add_to_variable = { CZE_SLO_military_support = CZE_SLO_military_support_temp }
		clamp_variable = {
			var = CZE_SLO_military_support
			min = 0
			max = 100
		}
	}
	SLO = {
		add_to_variable = { CZE_SLO_military_support = CZE_SLO_military_support_temp }
		clamp_variable = {
			var = CZE_SLO_military_support
			min = 0
			max = 100
		}
	}
}

CZE_SLO_post_unification_chaos_effect = {
	if = {
		limit = {
			check_variable = { THIS.CZE_SLO_people_acceptance > 99 }
		}
		swap_ideas = {
			remove_idea = CZE_SLO_welfare_idea
			add_idea = CZE_SLO_welfare2_idea
		}
	}
	else_if = {
		limit = {
			check_variable = { THIS.CZE_SLO_people_acceptance < 1 }
		}
		remove_ideas = CZE_SLO_welfare_idea
		remove_ideas = CZE_SLO_law_idea
		remove_ideas = CZE_SLO_law2_idea
		remove_ideas = CZE_SLO_military_idea
		remove_ideas = CZE_SLO_military2_idea
		add_timed_idea = { idea = CZE_SLO_post_collapse_people_idea days = 1460 }
		if = {
			limit = {
				original_tag = CZE
			}
			release = SLO
		}
		else = {
			release = CZE
		}
		drop_cosmetic_tag = yes
		add_stability = -0.35
		add_manpower = -4500
		news_event = CZE_SLO_event.5
	}

	if = {
		limit = {
			check_variable = { THIS.CZE_SLO_law_similarity > 99 }
		}
		swap_ideas = {
			remove_idea = CZE_SLO_law_idea
			add_idea = CZE_SLO_law2_idea
		}
	}
	else_if = {
		limit = {
			check_variable = { THIS.CZE_SLO_law_similarity < 1 }
		}
		remove_ideas = CZE_SLO_law_idea
		remove_ideas = CZE_SLO_welfare_idea
		remove_ideas = CZE_SLO_welfare2_idea
		remove_ideas = CZE_SLO_military_idea
		remove_ideas = CZE_SLO_military2_idea
		add_timed_idea = { idea = CZE_SLO_post_collapse_law_idea days = 1460 }
		if = {
			limit = {
				original_tag = CZE
			}
			release = SLO
		}
		else = {
			release = CZE
		}
		drop_cosmetic_tag = yes
		add_stability = -0.35
		increase_corruption = yes
		news_event = CZE_SLO_event.5
	}

	if = {
		limit = {
			check_variable = { THIS.CZE_SLO_military_support > 99 }
		}
		swap_ideas = {
			remove_idea = CZE_SLO_military_idea
			add_idea = CZE_SLO_military2_idea
		}
	}
	else_if = {
		limit = {
			check_variable = { THIS.CZE_SLO_military_support < 1 }
		}
		remove_ideas = CZE_SLO_military_idea
		remove_ideas = CZE_SLO_law_idea
		remove_ideas = CZE_SLO_welfare_idea
		remove_ideas = CZE_SLO_welfare2_idea
		remove_ideas = CZE_SLO_law2_idea
		add_timed_idea = { idea = CZE_SLO_post_collapse_military_idea days = 1460 }
		if = {
			limit = {
				original_tag = CZE
			}
			release = SLO
		}
		else = {
			release = CZE
		}
		drop_cosmetic_tag = yes
		add_war_support = -0.35
		add_manpower = -5000
		news_event = CZE_SLO_event.5
	}
}

CZE_SLO_petr_pavel_revolts = {
	hidden_effect = {
		if = {
			limit = {
				CZE = {
					has_completed_focus = CZE_generalmajor
					NOT = {
						has_completed_focus = CZE_generalporucik
					}
				}
				NOT = {
					has_country_leader = {
						name = "Petr Pavel"
						ruling_only = yes
					}
				}
			}
			random = {
				chance = 25
				retire_character = CZE_petr_pavel
				clr_country_flag = CZE_petr_pavel_card_one_activated
				clr_country_flag = CZE_petr_pavel_card_two_activated
				clr_country_flag = CZE_petr_pavel_card_three_activated
				clr_country_flag = CZE_petr_pavel_card_four_activated
				clr_country_flag = CZE_petr_pavel_card_five_activated
				clr_country_flag = CZE_petr_pavel_card_six_activated
				set_country_flag = CZE_SLO_pavel_revolted
				start_civil_war = {
					ruling_party = ROOT
					ideology = nationalist
					size = 0.45
					capital = 117
					states = {
						117 1018 120
					}
					keep_unit_leaders_trigger = {
						NOT = {
							is_character = CZE_petr_pavel
						}
					}
					set_temp_variable = { rul_party_temp = 22 }
					change_ruling_party_effect = yes
					hidden_effect = {
						set_politics = {
							ruling_party = nationalist
							elections_allowed = yes
						}
					}
					set_temp_variable = { party_index = 22 }
					set_temp_variable = { party_popularity_increase = 0.5 }
					set_temp_variable = { temp_outlook_increase = 0.5 }
					add_relative_party_popularity = yes
					hidden_effect = { kill_country_leader = yes }
					create_country_leader = {
						name = "Petr Pavel"
						picture = "Petr_Pavel.dds"
						ideology = Nat_Autocracy
						traits = {
							nationalist_Nat_Autocracy
							army_general
							geopolitical_thinker
							military_genius
							military_career
							nato_enjoyer
							elder
						}
					}
					add_ideas = CZE_petr_pavel7_idea
					keep_political_leader = yes
					keep_political_party_members = yes
				}
			}
		}
		else_if = {
			limit = {
				CZE = {
					has_completed_focus = CZE_generalporucik
					NOT = {
						has_completed_focus = CZE_armadni_general
					}
				}
				NOT = {
					has_country_leader = {
						name = "Petr Pavel"
						ruling_only = yes
					}
				}
			}
			random = {
				chance = 50
				retire_character = CZE_petr_pavel
				clr_country_flag = CZE_petr_pavel_card_one_activated
				clr_country_flag = CZE_petr_pavel_card_two_activated
				clr_country_flag = CZE_petr_pavel_card_three_activated
				clr_country_flag = CZE_petr_pavel_card_four_activated
				clr_country_flag = CZE_petr_pavel_card_five_activated
				clr_country_flag = CZE_petr_pavel_card_six_activated
				set_country_flag = CZE_SLO_pavel_revolted
				start_civil_war = {
					ruling_party = ROOT
					ideology = nationalist
					size = 0.65
					capital = 117
					states = {
						117 1018 120
					}
					keep_unit_leaders_trigger = {
						NOT = {
							is_character = CZE_petr_pavel
						}
					}
					set_temp_variable = { rul_party_temp = 22 }
					change_ruling_party_effect = yes
					hidden_effect = {
						set_politics = {
							ruling_party = nationalist
							elections_allowed = yes
						}
					}
					set_temp_variable = { party_index = 22 }
					set_temp_variable = { party_popularity_increase = 0.5 }
					set_temp_variable = { temp_outlook_increase = 0.5 }
					add_relative_party_popularity = yes
					hidden_effect = { kill_country_leader = yes }
					create_country_leader = {
						name = "Petr Pavel"
						picture = "Petr_Pavel.dds"
						ideology = Nat_Autocracy
						traits = {
							nationalist_Nat_Autocracy
							army_general
							geopolitical_thinker
							military_genius
							military_career
							nato_enjoyer
							elder
						}
					}
					add_ideas = CZE_petr_pavel7_idea
					keep_political_leader = yes
					keep_political_party_members = yes
				}
			}
		}
		else_if = {
			limit = {
				CZE = {
					has_completed_focus = CZE_armadni_general
				}
				NOT = {
					has_country_leader = {
						name = "Petr Pavel"
						ruling_only = yes
					}
				}
			}
			random = {
				chance = 75
				retire_character = CZE_petr_pavel
				clr_country_flag = CZE_petr_pavel_card_one_activated
				clr_country_flag = CZE_petr_pavel_card_two_activated
				clr_country_flag = CZE_petr_pavel_card_three_activated
				clr_country_flag = CZE_petr_pavel_card_four_activated
				clr_country_flag = CZE_petr_pavel_card_five_activated
				clr_country_flag = CZE_petr_pavel_card_six_activated
				set_country_flag = CZE_SLO_pavel_revolted
				start_civil_war = {
					ruling_party = ROOT
					ideology = nationalist
					size = 0.55
					capital = 117
					states = {
						117 1018 120
					}
					keep_unit_leaders_trigger = {
						NOT = {
							is_character = CZE_petr_pavel
						}
					}
					set_temp_variable = { rul_party_temp = 22 }
					change_ruling_party_effect = yes
					hidden_effect = {
						set_politics = {
							ruling_party = nationalist
							elections_allowed = yes
						}
					}
					set_temp_variable = { party_index = 22 }
					set_temp_variable = { party_popularity_increase = 0.5 }
					set_temp_variable = { temp_outlook_increase = 0.5 }
					add_relative_party_popularity = yes
					hidden_effect = { kill_country_leader = yes }
					create_country_leader = {
						name = "Petr Pavel"
						picture = "Petr_Pavel.dds"
						ideology = Nat_Autocracy
						traits = {
							nationalist_Nat_Autocracy
							army_general
							geopolitical_thinker
							military_genius
							military_career
							nato_enjoyer
							elder
						}
					}
					add_ideas = CZE_petr_pavel7_idea
					keep_political_leader = yes
					keep_political_party_members = yes
				}
			}
		}
	}
	if = {
		limit = {
			NOT = {
				has_country_leader = {
					name = "Petr Pavel"
					ruling_only = yes
				}
			}
		}
		custom_effect_tooltip = CZE_SLO_petr_pavel_may_revolt
	}
}