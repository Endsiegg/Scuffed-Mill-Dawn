############################################################################################################
#	Game Rules - on actions
############################################################################################################

on_actions = {
	on_startup = {
		effect = {
			# Remove Microstates from the Game
			if = {
				limit = {
					has_game_rule = {
						rule = remove_micro_states
						option = yes
					}
				}
				ITA = {
					add_state_core = 929
					add_state_core = 948
					annex_country = { target = HLS transfer_troops = yes }
					annex_country = { target = SMA transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = HLS
						remove_core_of = SMA
					}
				}
				SPR = {
					add_state_core = 945
					annex_country = { target = ADO transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = ADO
					}
				}
				FRA = {
					add_state_core = 269
					add_state_core = 270
					add_state_core = 565
					add_state_core = 946
					annex_country = { target = COM transfer_troops = yes }
					annex_country = { target = MNC transfer_troops = yes }
					annex_country = { target = MRT transfer_troops = yes }
					annex_country = { target = SEY transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = COM
						remove_core_of = MNC
						remove_core_of = MRT
						remove_core_of = SEY
					}
				}
				ENG = {
					add_state_core = 863
					add_state_core = 864
					add_state_core = 865
					add_state_core = 866
					add_state_core = 867
					add_state_core = 868
					annex_country = { target = STK transfer_troops = yes }
					annex_country = { target = DMI transfer_troops = yes }
					annex_country = { target = STL transfer_troops = yes }
					annex_country = { target = STV transfer_troops = yes }
					annex_country = { target = GRA transfer_troops = yes }
					annex_country = { target = BAR transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = STK
						remove_core_of = DMI
						remove_core_of = TRI
						remove_core_of = STV
						remove_core_of = STL
						remove_core_of = BAR
					}
				}
				VEN = {
					add_state_core = 869
					annex_country = { target = TRI transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = TRI
					}
				}
				USA = {
					add_state_core = 856
					annex_country = { target = BAH transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = BAH
					}
				}
				MOR = {
					add_state_core = 372
					annex_country = { target = SHA transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = SHA
					}
				}
				RAJ = {
					add_state_core = 480
					annex_country = { target = MLD transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = MLD
					}
				}
				PLY = {
					add_state_core = 533
					add_state_core = 535
					annex_country = { target = SOL transfer_troops = yes }
					annex_country = { target = FIJ transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = SOL
						remove_core_of = FIJ
					}
				}
				MAY = {
					add_state_core = 752
					annex_country = { target = BRU transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = BRU
					}
				}
				SAF = {
					add_state_core = 271
					add_state_core = 272
					annex_country = { target = SWA transfer_troops = yes }
					annex_country = { target = LES transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = SWA
						remove_core_of = LES
					}
				}
				EGU = {
					add_state_core = 320
					annex_country = { target = SAO transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = SAO
					}
				}
				POR = {
					add_state_core = 398
					annex_country = { target = VER transfer_troops = yes }
					for_each_scope_loop = {
						array = core_states
						remove_core_of = VER
					}
				}
				set_global_flag = GAME_RULE_microstates_removed
			}

			# Disable NATO
			if = {
				limit = {
					has_game_rule = {
						rule = rule_disable_nato
						option = yes
					}
				}
				every_country = {
					limit = { OR = { has_idea = NATO_member has_idea = Major_Non_NATO_Ally } }
					every_country = {
						remove_opinion_modifier = { target = PREV modifier = NATO_member_modifier }
					}
				}
				every_country = {
					limit = { OR = { has_idea = NATO_member has_idea = Major_Non_NATO_Ally } }
					remove_from_tech_sharing_group = NATO_Tech_Share
					remove_ideas = NATO_member
					remove_ideas = Major_Non_NATO_Ally
				}
				USA = { dismantle_faction = yes }
				set_global_flag = GAME_RULE_nato_disabled
			}

			# Disable The EU
			if = {
				limit = {
					has_game_rule = {
						rule = rule_disable_eu
						option = yes
					}
				}
				every_country = {
					limit = { has_idea = EU_member }
					remove_ideas = {
						EU_member
						foreign_data_kraken
						asylum_shopping
					}
				}
				set_global_flag = GAME_RULE_eu_disabled
			}

			# Allow cheat decisions
			if = {
				limit = {
					has_game_rule = {
						rule = allow_cheat_decisions
						option = yes
					}
				}
				set_global_flag = game_rule_allow_cheat_decisions
			}
			#LIC HRE & Alaska Focuses
			if = {
				limit = {
					has_game_rule = {
						rule = LIC_HRE_Alaska
						option = yes
					}
				}
				set_global_flag = game_rule_LIC_HRE_Alaska
			}
			# Allow toggling cheat decissions
			if = {
				limit = {
					has_game_rule = {
						rule = allow_toggling_cheat_decisions
						option = yes
					}
				}
				set_global_flag = game_rule_allow_toggling_cheat_decisions
			}

			# Recall Intervention Forces
			if = {
				limit = {
					has_game_rule = {
						rule = allow_recall_intervention_forces
						option = yes
					}
				}
				set_global_flag = allowed_recall_volunteers
			}

			# Allow Division Limiter
			if = {
				limit = {
					has_game_rule = {
						rule = allow_division_limiter
						option = yes
					}
				}
				set_global_flag = GAME_RULE_division_limiter_enabled
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_division_limiter
						option = potato_edition
					}
				}
				set_global_flag = GAME_RULE_division_limiter_potato_edition_enabled
			}
			else = {
				set_global_flag = GAME_RULE_division_limiter_disabled
			}

			# Disable Anti-Bully
			if = {
				limit = {
					has_game_rule = {
						rule = rule_disable_anti_bully
						option = yes
					}
				}
				set_global_flag = GAME_RULE_disable_anti_bully
			}
			# Disable Formable Nations
			if = {
				limit = {
					has_game_rule = {
						rule = rule_disable_formable_nations
						option = yes
					}
				}
				set_global_flag = GAME_RULE_disable_formable_nations
			}
			# Generic Salafist branch
			if = {
				limit = {
					has_game_rule = {
						rule = rule_salafist_branch
						option = yes
					}
				}
				set_global_flag = GAME_RULE_salafist_branch_enabled
			}

			#Didi's Randomization Game Rules
			# Random Outlooks
			if = {
				limit = {
					has_game_rule = {
						rule = rule_randomize_ideologies
						option = yes
					}
				}
				every_country = {
					limit = { exists = yes }
					random_list = {
						20 = {
							set_politics = {
								ruling_party = democratic
								elections_allowed = yes
							}
							add_popularity = {
								ideology = democratic
								popularity = 0.50
							}
							random_list = {
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 0 } #Western_Autocracy
									add_to_variable = { party_pop_array^0 = 0.5 } #Western_Autocracy
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 1 }
									add_to_variable = { party_pop_array^1 = 0.5 }
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 2 }
									add_to_variable = { party_pop_array^2 = 0.5 }
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 3 }
									add_to_variable = { party_pop_array^3 = 0.5 }
								}
							}
							recalculate_party = yes
						}
						20 = {
							set_politics = {
								ruling_party = communism
								elections_allowed = yes
							}
							add_popularity = {
								ideology = communism
								popularity = 0.50
							}
							random_list = {
								17 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 4 }
									add_to_variable = { party_pop_array^4 = 0.5 }
								}
								17 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 5 }
									add_to_variable = { party_pop_array^5 = 0.5 }
								}
								17 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 6 }
									add_to_variable = { party_pop_array^6 = 0.5 }
								}
								17 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 7 }
									add_to_variable = { party_pop_array^7 = 0.5 }
								}
								16 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 8 }
									add_to_variable = { party_pop_array^8 = 0.5 }
								}
								16 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 9 }
									add_to_variable = { party_pop_array^9 = 0.5 }
								}
							}
							recalculate_party = yes
						}
						20 = {
							set_politics = {
								ruling_party = fascism
								elections_allowed = no
							}
							add_popularity = {
								ideology = fascism
								popularity = 0.50
							}
							random_list = {
								50 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 10 }
									add_to_variable = { party_pop_array^10 = 0.5 }
								}
								50 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 11 }
									add_to_variable = { party_pop_array^11 = 0.5 }
								}
							}
							recalculate_party = yes
						}
						20 = {
							set_politics = {
								ruling_party = neutrality
								elections_allowed = yes
							}
							add_popularity = {
								ideology = neutrality
								popularity = 0.50
							}
							random_list = {
								13 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 12 }
									add_to_variable = { party_pop_array^12 = 0.5 }
								}
								13 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 13 }
									add_to_variable = { party_pop_array^13 = 0.5 }
								}
								13 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 14 }
									add_to_variable = { party_pop_array^14 = 0.5 }
								}
								13 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 15 }
									add_to_variable = { party_pop_array^15 = 0.5 }
								}
								12 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 16 }
									add_to_variable = { party_pop_array^16 = 0.5 }
								}
								12 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 17 }
									add_to_variable = { party_pop_array^17 = 0.5 }
								}
								12 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 18 }
									add_to_variable = { party_pop_array^18 = 0.5 }
								}
								12 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 19 }
									add_to_variable = { party_pop_array^19 = 0.5 }
								}
							}
							recalculate_party = yes
						}
						20 = {
							set_politics = {
								ruling_party = nationalist
								elections_allowed = no
							}
							add_popularity = {
								ideology = nationalist
								popularity = 0.50
							}
							random_list = {
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 20 }
									add_to_variable = { party_pop_array^20 = 0.5 }
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 21 }
									add_to_variable = { party_pop_array^21 = 0.5 }
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 22 }
									add_to_variable = { party_pop_array^22 = 0.5 }
								}
								25 = {
									clear_array = ruling_party
									clear_array = gov_coalition_array
									add_to_array = { ruling_party = 23 }
									add_to_variable = { party_pop_array^23 = 0.5 }
								}
							}
							recalculate_party = yes
						}
					}
				}
				set_global_flag = GAME_RULE_rule_randomize_ideologies
			}
			# Random Religions
			if = {
				limit = {
					has_game_rule = {
						rule = rule_randomize_religion
						option = yes
					}

				}
				every_country = {
					limit = {
						exists = yes
						NOT = { tag = NIG }
					}
					remove_ideas = {
						sunni
						shia
						sufi_islam
						ibadi
						christian
						orthodox_christian
						pluralist
						buddism
						hindu
						judaism
						shinto
						cheondo
						fifty_fifty_divide
					}
					random_list = {
						8 = { add_ideas = sunni }
						8 = { add_ideas = shia }
						7 = { add_ideas = sufi_islam }
						7 = { add_ideas = ibadi }
						8 = { add_ideas = christian }
						8 = { add_ideas = orthodox_christian }
						8 = { add_ideas = pluralist }
						8 = { add_ideas = buddism }
						8 = { add_ideas = hindu }
						7 = { add_ideas = judaism }
						7 = { add_ideas = shinto }
						8 = { add_ideas = cheondo }
						8 = { add_ideas = fifty_fifty_divide }
					}
				}
				set_global_flag = GAME_RULE_rule_randomize_religion
			}
			# Random Internal Factions
			if = {
				limit = {
					has_game_rule = {
						rule = rule_randomize_internal_factions
						option = yes
					}
				}
				every_country = {
					limit = { exists = yes }
					remove_ideas = {
						small_medium_business_owners
						international_bankers
						fossil_fuel_industry
						industrial_conglomerates
						oligarchs
						maritime_industry
						defense_industry
						the_military
						intelligence_community
						labour_unions
						landowners
						farmers
						communist_cadres
						the_priesthood
						the_ulema
						the_clergy
						wahabi_ulema
						the_donju
						the_bazaar
						saudi_royal_family
						irgc
						iranian_quds_force
						foreign_jihadis
						vevak
						isi_pakistan
						wall_street
						chaebols
					}
					random_list = {
						4 = { add_ideas = small_medium_business_owners }
						4 = { add_ideas = international_bankers }
						4 = { add_ideas = fossil_fuel_industry }
						4 = { add_ideas = industrial_conglomerates }
						4 = { add_ideas = oligarchs }
						4 = { add_ideas = maritime_industry }
						4 = { add_ideas = defense_industry }
						4 = { add_ideas = the_military }
						4 = { add_ideas = intelligence_community }
						4 = { add_ideas = labour_unions }
						4 = { add_ideas = landowners }
						4 = { add_ideas = farmers }
						4 = { add_ideas = communist_cadres }
						4 = { add_ideas = the_priesthood }
						4 = { add_ideas = the_ulema }
						4 = { add_ideas = the_clergy }
						4 = { add_ideas = wahabi_ulema }
						4 = { add_ideas = the_donju }
						4 = { add_ideas = the_bazaar }
						3 = { add_ideas = saudi_royal_family }
						3 = { add_ideas = irgc }
						3 = { add_ideas = iranian_quds_force }
						3 = { add_ideas = foreign_jihadis }
						3 = { add_ideas = vevak }
						3 = { add_ideas = isi_pakistan }
						3 = { add_ideas = wall_street }
						3 = { add_ideas = chaebols }
					}
					random_list = {
						4 = { add_ideas = small_medium_business_owners }
						4 = { add_ideas = international_bankers }
						4 = { add_ideas = fossil_fuel_industry }
						4 = { add_ideas = industrial_conglomerates }
						4 = { add_ideas = oligarchs }
						4 = { add_ideas = maritime_industry }
						4 = { add_ideas = defense_industry }
						4 = { add_ideas = the_military }
						4 = { add_ideas = intelligence_community }
						4 = { add_ideas = labour_unions }
						4 = { add_ideas = landowners }
						4 = { add_ideas = farmers }
						4 = { add_ideas = communist_cadres }
						4 = { add_ideas = the_priesthood }
						4 = { add_ideas = the_ulema }
						4 = { add_ideas = the_clergy }
						4 = { add_ideas = wahabi_ulema }
						4 = { add_ideas = the_donju }
						4 = { add_ideas = the_bazaar }
						3 = { add_ideas = saudi_royal_family }
						3 = { add_ideas = irgc }
						3 = { add_ideas = iranian_quds_force }
						3 = { add_ideas = foreign_jihadis }
						3 = { add_ideas = vevak }
						3 = { add_ideas = isi_pakistan }
						3 = { add_ideas = wall_street }
						3 = { add_ideas = chaebols }
					}
					random_list = {
						4 = { add_ideas = small_medium_business_owners }
						4 = { add_ideas = international_bankers }
						4 = { add_ideas = fossil_fuel_industry }
						4 = { add_ideas = industrial_conglomerates }
						4 = { add_ideas = oligarchs }
						4 = { add_ideas = maritime_industry }
						4 = { add_ideas = defense_industry }
						4 = { add_ideas = the_military }
						4 = { add_ideas = intelligence_community }
						4 = { add_ideas = labour_unions }
						4 = { add_ideas = landowners }
						4 = { add_ideas = farmers }
						4 = { add_ideas = communist_cadres }
						4 = { add_ideas = the_priesthood }
						4 = { add_ideas = the_ulema }
						4 = { add_ideas = the_clergy }
						4 = { add_ideas = wahabi_ulema }
						4 = { add_ideas = the_donju }
						4 = { add_ideas = the_bazaar }
						3 = { add_ideas = saudi_royal_family }
						3 = { add_ideas = irgc }
						3 = { add_ideas = iranian_quds_force }
						3 = { add_ideas = foreign_jihadis }
						3 = { add_ideas = vevak }
						3 = { add_ideas = isi_pakistan }
						3 = { add_ideas = wall_street }
						3 = { add_ideas = chaebols }
					}
				}
				set_global_flag = GAME_RULE_randomize_internal_factions
			}

			# Allow Edgy Flags
			if = {
				limit = {
					has_game_rule = {
						rule = allow_edgy_flags
						option = yes
					}
				}
				set_global_flag = GAME_RULE_allow_edgy_flags
			}

			# Allowable Formable Nations
			if = {
				limit = {
					has_game_rule = {
						rule = allow_multiple_formables
						option = no
					}
				}
				set_global_flag = GAME_RULE_no_allow_multiple_formables
			}

			# Spread Influence Cooldown
			if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_cooldown_limits option = spread_influence_60_days
					}
				}
				set_global_flag = GAME_RULE_spread_influence_60_days
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_cooldown_limits option = spread_influence_0_days
					}
				}
				set_global_flag = GAME_RULE_spread_influence_0_days
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_cooldown_limits option = spread_influence_14_days
					}
				}
				set_global_flag = GAME_RULE_spread_influence_14_days
			}
			else = {
				set_global_flag = GAME_RULE_spread_influence_30_days
			}

			# Investment Gain Percent
			if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_amount_gain option = gain_4_percent_spread
					}
				}
				set_global_flag = GAME_RULE_gain_4_percent_spread
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_amount_gain option = gain_3_percent_spread
					}
				}
				set_global_flag = GAME_RULE_gain_3_percent_spread
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_spread_influence_amount_gain option = gain_0_5_percent_spread
					}
				}
				set_global_flag = GAME_RULE_gain_0_5_percent_spread
			}
			else = {
				set_global_flag = GAME_RULE_gain_2_percent_spread
			}

			# Investment Cooldown
			if = {
				limit = {
					has_game_rule = {
						rule = rule_influence_cooldown_limits option = day_14_cooldown
					}
				}
				set_global_flag = GAME_RULE_influence_cooldown_limits_14
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_influence_cooldown_limits option = day_30_cooldown
					}
				}
				set_global_flag = GAME_RULE_influence_cooldown_limits_30
			}

			# Investment Gain Percent
			if = {
				limit = {
					has_game_rule = {
						rule = rule_invest_influence_amount_gain option = gain_0_5_percent_invest
					}
				}
				set_global_flag = GAME_RULE_gain_0_5_percent_invest
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = rule_invest_influence_amount_gain option = gain_2_percent_invest
					}
				}
				set_global_flag = GAME_RULE_gain_2_percent_invest
			}
			else = {
				set_global_flag = GAME_RULE_gain_1_percent_invest
			}

			# Vanilla Game Rules
			if = {
				limit = {
					has_game_rule = {
						rule = allow_guarantees
						option = ALWAYS_FREE
					}
				}
				set_global_flag = GAME_RULE_always_free_guarantees
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_guarantees
						option = LIMITED
					}
				}
				set_global_flag = GAME_RULE_limited_guarantees
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_guarantees
						option = SAME_IDEOLOGY
					}
				}
				set_global_flag = GAME_RULE_same_ideology_guarantees
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_guarantees
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_blocked_guarantees
			}

			#Revoke Guarantees
			if = {
				limit = {
					has_game_rule = {
						rule = allow_revoke_guarantees
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_blocked_revoke_guarantees
			}

			# Vanilla Military Access/Docking Rights
			if = {
				limit = {
					has_game_rule = {
						rule = allow_access
						option = FREE
					}
				}
				set_global_flag = GAME_RULE_allow_access_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_access
						option = SAME_IDEOLOGY
					}
				}
				set_global_flag = GAME_RULE_allow_access_same_ideology
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_access
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_access_blocked
			}

			# Vanilla Lend Lease
			if = {
				limit = {
					has_game_rule = {
						rule = allow_lend_lease
						option = FREE
					}
				}
				set_global_flag = GAME_RULE_allow_lend_lease_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_lend_lease
						option = LIMITED
					}
				}
				set_global_flag = GAME_RULE_allow_lend_lease_limited
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_lend_lease
						option = SAME_IDEOLOGY
					}
				}
				set_global_flag = GAME_RULE_allow_lend_lease_same_ideology
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_lend_lease
						option = SAME_FACTION
					}
				}
				set_global_flag = GAME_RULE_allow_lend_lease_same_faction
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_lend_lease
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_lend_lease_blocked
			}

			# Enable Ledger
			if = {
				limit = {
					has_game_rule = {
						rule = allow_enable_ledger
						option = yes
					}
				}
				set_global_flag = GAME_RULE_allow_enable_ledger
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_enable_ledger
						option = no
					}
				}
				set_global_flag = GAME_RULE_disable_ledger
			}

			# Vanilla Diplomacy Action
			if = {
				limit = {
					has_game_rule = {
						rule = allow_licensing
						option = FREE
					}
				}
				set_global_flag = GAME_RULE_allow_licensing_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_licensing
						option = SAME_IDEOLOGY
					}
				}
				set_global_flag = GAME_RULE_allow_licensing_same_ideology
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_licensing
						option = SAME_FACTION
					}
				}
				set_global_flag = GAME_RULE_allow_licensing_same_faction
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_licensing
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_licensing_blocked
			}

			# Vanilla Generate Wargoal Enable Trigger
			if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = ALWAYS_FREE
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = LIMITED
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_limited
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = FREE_25
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_free_25
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = FREE_50
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_free_50
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = FREE_75
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_free_75
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = FREE_100
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_free_100
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_wargoals
						option = FOCUSES_ONLY
					}
				}
				set_global_flag = GAME_RULE_allow_wargoals_focuses_only
			}

			# Vanilla Boost Party
			if = {
				limit = {
					has_game_rule = {
						rule = allow_party_boosting
						option = FREE
					}
				}
				set_global_flag = GAME_RULE_allow_party_boosting_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_party_boosting
						option = AI_ONLY
					}
				}
				set_global_flag = GAME_RULE_allow_party_boosting_ai_only
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_party_boosting
						option = PLAYER_ONLY
					}
				}
				set_global_flag = GAME_RULE_allow_party_boosting_player_only
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_party_boosting
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_party_boosting_blocked
			}

			# Coups
			if = {
				limit = {
					has_game_rule = {
						rule = allow_coups
						option = FREE
					}
				}
				set_global_flag = GAME_RULE_allow_coups_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_coups
						option = AI_ONLY
					}
				}
				set_global_flag = GAME_RULE_allow_coups_ai_only
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_coups
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_coups_blocked
			}

			# Faction Thingies
			if = {
				limit = {
					has_game_rule = {
						rule = allow_leave_faction
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_leave_faction_blocked
			}
			if = {
				limit = {
					has_game_rule = {
						rule = allow_take_over_faction
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_take_over_faction_blocked
			}
			if = {
				limit = {
					has_game_rule = {
						rule = allow_kick_faction
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_kick_faction_blocked
			}

			# Disable Missile Alert AI
			if = {
				limit = {
					has_game_rule = {
						rule = rule_disable_missile_alert_ai
						option = yes
					}
				}
				set_global_flag = GAME_RULE_disabled_missile_alert_ai
			}

			# Enable Hard Economic AI
			if = {
				limit = {
					has_game_rule = {
						rule = rule_enable_hard_economic_ai
						option = yes
					}
				}
				set_global_flag = GAME_RULE_enabled_hard_economic_ai
			}

			# Volunteers
			if = {
				limit = {
					has_game_rule = {
						rule = allow_volunteers
						option = ALWAYS_FREE
					}
				}
				set_global_flag = GAME_RULE_allow_volunteers_free
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_volunteers
						option = LIMITED
					}
				}
				set_global_flag = GAME_RULE_allow_volunteers_limited
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_volunteers
						option = SAME_IDEOLOGY
					}
				}
				set_global_flag = GAME_RULE_allow_volunteers_same_ideology
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = allow_volunteers
						option = BLOCKED
					}
				}
				set_global_flag = GAME_RULE_allow_volunteers_blocked
			}

			#
			# Unique Nations Stuff
			# Determines AI Routes for tree shit
			FRA = {
				if = {
					limit = {
						has_game_rule = {
							rule = FRA_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						25 = {  }	#Default
						25 = { set_global_flag = FRA_HISTORICAL_FOCUS_PATH }
						25 = { set_global_flag = FRA_EGALITE_FOCUS_PATH }
						25 = { set_global_flag = FRA_FRATERNITE_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = FRA_ai_behavior
							option = HISTORICAL
						}
					}
					set_global_flag = FRA_HISTORICAL_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = FRA_ai_behavior
							option = EGALITE
						}
					}
					set_global_flag = FRA_EGALITE_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = FRA_ai_behavior
							option = FRATERNITE
						}
					}
					set_global_flag = FRA_FRATERNITE_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = FRA_ai_behavior
							option = CHAOS
						}
					}
					set_global_flag = FRA_CHAOS_PATH
				}
			}

			CAN = {
				if = {
					limit = {
						has_game_rule = {
							rule = CAN_ai_behavior
							option = NATIONALIST_CANADA
						}
					}
					set_global_flag = CAN_ai_nationalist_canada
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = CAN_ai_behavior
							option = NORTH_AMERICAN_STATUS_QUO
						}
					}
					set_global_flag = CAN_NORTH_AMERICAN_STATUS_QUO
				}
			}

			CHI = {
				if = {
					limit = {
						has_game_rule = {
							rule = PRC_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						25 = {  }	#Default
						25 = { set_global_flag = PRC_CHINESE_HEGEMONY_FOCUS_PATH }
						25 = { set_global_flag = PRC_RED_DAWN_FOCUS_PATH }
						25 = { set_global_flag = PRC_A_LONG_PEACE_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = PRC_ai_behavior
							option = CHINESE_HEGEMONY
						}
					}
					set_global_flag = PRC_CHINESE_HEGEMONY_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = PRC_ai_behavior
							option = RED_DAWN
						}
					}
					set_global_flag = PRC_RED_DAWN_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = PRC_ai_behavior
							option = A_LONG_PEACE
						}
					}
					set_global_flag = PRC_A_LONG_PEACE_FOCUS_PATH
				}
			}

			BRM = {
				if = {
					limit = {
						has_game_rule = {
							rule = BRM_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						33 = {  }	#Default
						34 = { set_global_flag = BRM_BEACON_OF_DEMOCRACY_FOCUS_PATH }
						33 = { set_global_flag = BRM_AN_IRON_FIST_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = BRM_ai_behavior
							option = BEACON_OF_DEMOCRACY
						}
					}
					set_global_flag = BRM_BEACON_OF_DEMOCRACY_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = BRM_ai_behavior
							option = AN_IRON_FIST
						}
					}
					set_global_flag = BRM_AN_IRON_FIST_FOCUS_PATH
				}
			}

			JAP = {
				if = {
					limit = {
						has_game_rule = {
							rule = JAP_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						34 = {  }	#Default
						33 = { set_global_flag = JAP_RED_STAR_OVER_TOKYO_FOCUS_PATH }
						33 = { set_global_flag = JAP_RETURN_OF_THE_EMPIRE_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = JAP_ai_behavior
							option = RED_STAR_OVER_TOKYO
						}
					}
					set_global_flag = JAP_RED_STAR_OVER_TOKYO_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = JAP_ai_behavior
							option = RETURN_OF_THE_EMPIRE
						}
					}
					set_global_flag = JAP_RETURN_OF_THE_EMPIRE_FOCUS_PATH
				}
			}

			SWE = {
				if = {
					limit = {
						has_game_rule = {
							rule = SWE_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						50 = {  }	#Default
						50 = { set_global_flag = SWE_NORTHERN_AMBITION_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SWE_ai_behavior
							option = NORTHERN_AMBITION
						}
					}
					set_global_flag = SWE_NORTHERN_AMBITION_FOCUS_PATH
				}
			}

			SYR = {
				if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						20 = {  }	#Default
						20 = { set_global_flag = SYR_HISTORICAL_FOCUS_PATH }
						20 = { set_global_flag = SYR_IRON_LADY_FOCUS_PATH }
						20 = { set_global_flag = SYR_SYRIAN_SAVAGE_FOCUS_PATH }
						10 = { set_global_flag = SYR_NEW_ASSAD_FOCUS_PATH }
						10 = { set_global_flag = SYR_DAMASCUS_SPRING_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = HISTORICAL
						}
					}
					set_global_flag = SYR_HISTORICAL_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = IRON_LADY
						}
					}
					set_global_flag = SYR_IRON_LADY_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = SYRIAN_SAVAGE
						}
					}
					set_global_flag = SYR_SYRIAN_SAVAGE_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = NEW_ASSAD
						}
					}
					set_global_flag = SYR_NEW_ASSAD_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SYR_ai_behavior
							option = DAMASCUS_SPRING
						}
					}
					set_global_flag = SYR_DAMASCUS_SPRING_FOCUS_PATH
				}
			}

			BHR = {
				if = {
					limit = {
						has_game_rule = {
							rule = BHR_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						50 = {  }	#Default
						50 = { set_global_flag = BHR_DAY_OF_RAGE_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = BHR_ai_behavior
							option = DAY_OF_RAGE
						}
					}
					set_global_flag = BHR_DAY_OF_RAGE_FOCUS_PATH
				}
			}

			SAU = {
				if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						20 = {  }	#Default
						10 = { set_global_flag = SAU_GLOBAL_JIHAD_FOCUS_PATH }
						10 = { set_global_flag = SAU_GLOBAL_JIHAD_GCC_FIRST_FOCUS_PATH }
						20 = { set_global_flag = SAU_ISLAMIC_AWAKENING_FOCUS_PATH }
						20 = { set_global_flag = SAU_RETURN_OF_THE_BAATH_FOCUS_PATH }
						20 = { set_global_flag = SAU_SHIA_REVIVAL_FOCUS_PATH }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = GLOBAL_JIHAD
						}
					}
					set_global_flag = SAU_GLOBAL_JIHAD_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = GLOBAL_JIHAD_GCC_FIRST
						}
					}
					set_global_flag = SAU_GLOBAL_JIHAD_GCC_FIRST_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = ISLAMIC_AWAKENING
						}
					}
					set_global_flag = SAU_ISLAMIC_AWAKENING_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = RETURN_OF_THE_BAATH
						}
					}
					set_global_flag = SAU_RETURN_OF_THE_BAATH_FOCUS_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = SAU_ai_behavior
							option = SHIA_REVIVAL
						}
					}
					set_global_flag = SAU_SHIA_REVIVAL_FOCUS_PATH
				}
			}

			ENG = {
				if = {
					limit = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						25 = {  }	#Default
						25 = { set_global_flag = ENG_RULE_OPTION_EUROPEAN_FUTURE }
						25 = { set_global_flag = ENG_RULE_OPTION_RED_REPUBLIC }
						25 = { set_global_flag = ENG_RULE_OPTION_RULE_BRITANNIA }
					}
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = EUROPEAN_FUTURE
						}
					}
					set_global_flag = ENG_RULE_OPTION_EUROPEAN_FUTURE
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = RED_REPUBLIC
						}
					}
					set_global_flag = ENG_RULE_OPTION_RED_REPUBLIC
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = RULE_BRITANNIA
						}
					}
					set_global_flag = ENG_RULE_OPTION_RULE_BRITANNIA
				}
			}

			NIG = {
				if = {
					limit = {
						has_game_rule = {
							rule = NIG_ai_behavior
							option = RISE_OF_BOKO_HARAM
						}
					}
					set_global_flag = NIG_RISE_OF_BOKO_HARAM_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = NIG_ai_behavior
							option = ANPP_EMPOWERD
						}
					}
					set_global_flag = NIG_ANPP_EMPOWERD_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = NIG_ai_behavior
							option = PDP_EMPOWERED
						}
					}
					set_global_flag = NIG_PDP_EMPOWERED_PATH
				}
			}

			GRE = {
				if = {
					limit = {
						has_game_rule = {
							rule = GRE_ai_behavior
							option = KKE
						}
					}
					set_global_flag = GRE_KKE_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = GRE_ai_behavior
							option = GOLDEN_DAWN
						}
					}
					set_global_flag = GRE_GOLDEN_DAWN_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = GRE_ai_behavior
							option = HELLENIC_REPUBLIC
						}
					}
					set_global_flag = GRE_HELLENIC_REPUBLIC_PATH
				}
			}

			SOV = {
				if = {
					limit = {
						has_game_rule = {
							rule = RUS_ai_behavior
							option = PUTIN
						}
					}
					set_global_flag = SOV_PUTIN_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = RUS_ai_behavior
							option = RISE_OF_RUSSIA
						}
					}
					set_global_flag = SOV_RISE_OF_RUSSIA_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = RUS_ai_behavior
							option = THE_RED_MENACE
						}
					}
					set_global_flag = SOV_THE_RED_MENACE_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = RUS_ai_behavior
							option = PEACEFUL_REFORM
						}
					}
					set_global_flag = SOV_PEACEFUL_REFORM_PATH
				}
			}

			USA = {
				if = {
					limit = {
						has_game_rule = {
							rule = USA_ai_behavior
							option = STATUS_QUO
						}
					}
					set_global_flag = USA_STATUS_QUO_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = USA_ai_behavior
							option = POLITICAL_REFORM
						}
					}
					set_global_flag = USA_POLITICAL_REFORM_PATH
				}
				else_if = {
					limit = {
						has_game_rule = {
							rule = USA_ai_behavior
							option = POLITICAL_REVOULUTION
						}
					}
					set_global_flag = USA_POLITICAL_REVOULUTION_PATH
				}
			}

			BOT = {
				if = {
					limit = {
						has_game_rule = {
							rule = BOT_ai_behavior
							option = BOT_BDP_RULES
						}
					}
					set_country_flag = BOT_BDP_RULES_PATH
				}
				if = {
					limit = {
						has_game_rule = {
							rule = BOT_ai_behavior
							option = BOT_POLITICAL_RAINBOW
						}
					}
					set_country_flag = BOT_POLITICAL_RAINBOW_PATH
				}
				if = {
					limit = {
						has_game_rule = {
							rule = BOT_ai_behavior
							option = BOT_KGOSIKGOLO
						}
					}
					set_country_flag = BOT_KGOSIKGOLO_PATH
				}
				if = {
					limit = {
						has_game_rule = {
							rule = BOT_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						25 = { }
						25 = { set_country_flag = BOT_BDP_RULES_PATH }
						25 = { set_country_flag = BOT_POLITICAL_RAINBOW_PATH }
						25 = { set_country_flag = BOT_KGOSIKGOLO_PATH }
					}
				}

				ITA = {
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = DEMOCRATICP
							}
						}
						set_global_flag = ITA_DEMOCRATICP_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = FORZA
							}
						}
						set_global_flag = ITA_FORZA_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = SOCIALL
							}
						}
						set_global_flag = ITA_SOCIALL_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = RADICALP
							}
						}
						set_global_flag = ITA_RADICALP_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = LEFTP
							}
						}
						set_global_flag = ITA_LEFTP_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = RIGHTP
							}
						}
						set_global_flag = ITA_RIGHTP_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = LEU
							}
						}
						set_global_flag = ITA_LEU_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = GREENS
							}
						}
						set_global_flag = ITA_GREENS_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = EAST
							}
						}
						set_global_flag = ITA_EAST_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = NONCOM
							}
						}
						set_global_flag = ITA_NONCOM_FOCUS_PATH
					}
					if = {
						limit = {
							has_game_rule = {
								rule = ITA_ai_behavior
								option = RANDOM
							}
						}
						random_list = {
							25 = { }
							25 = { set_global_flag = ITA_DEMOCRATICP_FOCUS_PATH }
							25 = { set_global_flag = ITA_FORZA_FOCUS_PATH }
							25 = { set_global_flag = ITA_SOCIALL_FOCUS_PATH }
							25 = { set_global_flag = ITA_RADICALP_FOCUS_PATH }
							25 = { set_global_flag = ITA_LEFTP_FOCUS_PATH }
							25 = { set_global_flag = ITA_RIGHTP_FOCUS_PATH }
							25 = { set_global_flag = ITA_LEU_FOCUS_PATH }
							25 = { set_global_flag = ITA_GREENS_FOCUS_PATH }
							25 = { set_global_flag = ITA_EAST_FOCUS_PATH }
							25 = { set_global_flag = ITA_NONCOM_FOCUS_PATH }
						}
					}
				}
			}
		}
	}
}
