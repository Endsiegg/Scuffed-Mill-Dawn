plane_limiter = {
	allowed = {
		has_global_flag = GAME_RULE_division_limiter_enabled
		ai_for_units_is_not_disabled = yes
	}
	enable = {
		set_temp_variable = { upper_limit = num_of_military_factories } #10 - Base factory total
		multiply_temp_variable = { upper_limit = 80 } # 200
		# base, half of the wing
		add_to_temp_variable = { upper_limit = 50 } # 250

		if = { limit = { has_war = yes }
			multiply_temp_variable = { upper_limit = 1.25 } #390
		}

		if = {
			limit = {
				OR = {
					has_country_flag = ai_yes_unit_build
					has_country_flag = AI_is_threatened
				}
			}
			multiply_temp_variable = { upper_limit = 1.25 } # 488
		}
		if = { limit = { is_major = yes }
			multiply_temp_variable = { upper_limit = 1.15 } # 561
		}
		if = { limit = { has_idea = NATO_member }
			multiply_temp_variable = { upper_limit = 1.2 } # 673
		}
		if = { limit = { threat > 0.50 }
			multiply_temp_variable = { upper_limit = 1.25 } # 842
		}

		if = { limit = { is_in_faction = yes }
			multiply_temp_variable = { upper_limit = 0.90 } # 758
		}

		round_temp_variable = upper_limit #27
		has_deployed_air_force_size = { size > upper_limit }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = small_plane_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_strike_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_cas_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_naval_bomber_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_suicide_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_airframe value = -90 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_fighter_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_maritime_patrol_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_suicide_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_air_transport_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_air_transport_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_awacs_airframe value = -99 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_maritime_patrol_airframe value = -100 }

	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_strike_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_naval_bomber_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_suicide_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_fighter_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_maritime_patrol_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_air_transport_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_scout_airframe value = -100 }
}

plane_limiter_potato = {
	allowed = {
		has_global_flag = GAME_RULE_division_limiter_potato_edition_enabled
		ai_for_units_is_not_disabled = yes
	}
	enable = {
		set_temp_variable = { upper_limit = num_of_military_factories } #10 - Base factory total
		multiply_temp_variable = { upper_limit = 40 } # 200
		# base, half of the wing
		add_to_temp_variable = { upper_limit = 50 } # 250

		if = { limit = { has_war = yes }
			multiply_temp_variable = { upper_limit = 1.25 } #390
		}

		if = {
			limit = {
				OR = {
					has_country_flag = ai_yes_unit_build
					has_country_flag = AI_is_threatened
				}
			}
			multiply_temp_variable = { upper_limit = 1.25 } # 488
		}
		if = { limit = { is_major = yes }
			multiply_temp_variable = { upper_limit = 1.15 } # 561
		}
		if = { limit = { has_idea = NATO_member }
			multiply_temp_variable = { upper_limit = 1.2 } # 673
		}
		if = { limit = { threat > 0.50 }
			multiply_temp_variable = { upper_limit = 1.25 } # 842
		}

		if = { limit = { is_in_faction = yes }
			multiply_temp_variable = { upper_limit = 0.90 } # 758
		}

		round_temp_variable = upper_limit #27
		has_deployed_air_force_size = { size > upper_limit }
	}
	abort_when_not_enabled = yes

	ai_strategy = { type = equipment_variant_production_factor id = small_plane_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_strike_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_cas_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_naval_bomber_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = small_plane_suicide_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_airframe value = -90 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_fighter_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_maritime_patrol_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_suicide_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = medium_plane_air_transport_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_air_transport_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_awacs_airframe value = -99 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = large_plane_maritime_patrol_airframe value = -100 }

	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_strike_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_naval_bomber_airframe value = -50 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_small_plane_suicide_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_fighter_airframe value = -95 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_cas_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_maritime_patrol_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_air_transport_airframe value = -100 }
	ai_strategy = { type = equipment_variant_production_factor id = cv_medium_plane_scout_airframe value = -100 }
}