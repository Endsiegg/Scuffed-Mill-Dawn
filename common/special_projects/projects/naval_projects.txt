# Author(s): AngriestBird, Doolittle, DROID
#This is required to research any armoured vehicle hull
sp_naval_vessel_project = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval
	icon = GFX_sp_naval_vessel_experimentation
	project_tags = sp_tag_naval_vehicles

	ai_will_do = {
		base = 1
	}

	breakthrough_cost = {
		specialization_naval = 3
	}

	prototype_time = sp_time.prototype.very_long

	complexity = sp_complexity.large

	resource_cost = {
		resources = {
			steel = 16
		}
	}

	project_output = {
		country_effects = {
			custom_effect_tooltip = {
				localization_key = sp_naval_vessel_project_tt
			}
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}
}

sp_stealth_corvette = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval
	icon = GFX_sp_stealth_corvettes
	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	visible = {
		FROM = {
			has_tech = corvette_hull_3
		}
	}
	available = {
		FROM = {
			has_tech = corvette_hull_4
		}
	}

	project_output = {
		country_effects = {
			mark_technology_tree_layout_dirty = yes
			custom_effect_tooltip = sp_stealth_corvette_tt
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}

sp_stealth_frigate = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval
	icon = GFX_sp_stealth_frigate
	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	visible = {
		FROM = {
			has_tech = frigate_hull_3
		}
	}
	available = {
		FROM = {
			has_tech = frigate_hull_4
		}
	}

	project_output = {
		country_effects = {
			mark_technology_tree_layout_dirty = yes
			custom_effect_tooltip = sp_stealth_frigate_tt
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}

sp_stealth_destroyer = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval

	complexity = sp_complexity.large
	prototype_time = sp_time.prototype.long

	visible = {
		FROM = {
			has_tech = destroyer_hull_2
		}
	}
	available = {
		FROM = {
			has_tech = destroyer_hull_3
		}
	}

	project_output = {
		country_effects = {
			mark_technology_tree_layout_dirty = yes
			custom_effect_tooltip = sp_stealth_destroyer_tt
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}

sp_medium_naval_nuclear_engines = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval
	icon = GFX_sp_naval_nuclear_engineering
	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	breakthrough_cost = {
		specialization_naval = 1
	}

	visible = {
		FROM = {
			OR = {
				has_tech = nuclear_technology
				has_tech = tech_naval_systems_engineering
			}
		}
	}

	available = {
		FROM = {
			has_tech = reactor1
			has_tech = tech_naval_systems_engineering
		}
	}

	project_output = {
		country_effects = {
			mark_technology_tree_layout_dirty = yes
			custom_effect_tooltip = sp_medium_naval_nuclear_engines_TT
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}

sp_advanced_ballistic_propulsion_systems = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval

	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	breakthrough_cost = {
		specialization_naval = 2
	}

	available = {
	}

	project_output = {
		country_effects = {
			custom_effect_tooltip = {
				localization_key = SP_UNLOCK_PROJECT
				PROJECT = sp_rail_gun_naval_cannons
			}
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}


sp_rail_gun_naval_cannons = {
	allowed = { has_dlc = "Man the Guns" }
	specialization = specialization_naval
	icon = GFX_sp_railgun_naval_cannons

	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	breakthrough_cost = {
		specialization_naval = 1
	}

	available = {
	}
	special_project_parent = {
		sp_advanced_ballistic_propulsion_systems
	}

	project_output = {
		country_effects = {
			custom_effect_tooltip = sp_rail_gun_naval_cannons_tt
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_army_xp_1
		sp_naval_generic_reward_army_xp_2
		sp_naval_generic_reward_army_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_resource_scarcity
		sp_naval_generic_reward_critical_failure
	}

	ai_will_do = {
		base = 1
	}
}
