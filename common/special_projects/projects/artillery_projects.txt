# Author(s): Kalkalash
#Special projects related to artiller/ATGMs/AA
sp_automatic_twin_barrel_mortar_turret = {
	specialization = specialization_land

	project_tags = sp_tag_armored_vehicles

	ai_will_do = {
		base = 1
	}

	visible = {
		FROM = {
			has_tech = nsb_artillery_0
		}
	}

	available = {
		FROM = {
			has_tech = nsb_artillery_2
		}
	}

	breakthrough_cost = {
		specialization_land = 1
	}

	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	project_output = {
		enable_equipment_modules = {
			twin_mortar_barrel_conversion_small
		}
	}

	generic_prototype_rewards = {
		sp_land_generic_reward_scientist_xp_1
		sp_land_generic_reward_scientist_xp_2
		sp_land_generic_reward_scientist_xp_3
		sp_land_generic_reward_army_xp_1
		sp_land_generic_reward_army_xp_2
		sp_land_generic_reward_army_xp_3
		sp_land_generic_reward_major_progress_1
		sp_land_generic_reward_major_progress_2
		sp_land_generic_reward_major_progress_3
		sp_land_generic_reward_test_failure_1
		sp_land_generic_reward_test_failure_2
		sp_land_generic_reward_test_failure_3
		sp_land_generic_reward_artillery_tech_1
		sp_land_generic_reward_artillery_tech_2
		sp_land_generic_reward_artillery_tech_3
		sp_land_generic_reward_artillery_bonus_1
		sp_land_generic_reward_resource_scarcity
		sp_land_generic_reward_critical_failure
	}

	unique_prototype_rewards = {
		sp_automatic_twin_barrel_mortar_turret_reward_improved_mortars = {
			fire_only_once = yes

			threshold = {
				min = 0
				max = 100
			}

			weight = {
				base = 1
			}

			option = {
				token = sp_automatic_twin_barrel_mortar_turret_reward_improved_mortars

				iteration_output = {
					sub_unit_bonus = {
						Militia_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						Mot_Militia_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						L_Inf_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						Mot_Inf_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						L_Air_Inf_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						Mot_Air_Inf_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						L_Marine_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						L_Marine_Cdo_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						Mot_Marine_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						L_Air_assault_Bat = {
							defense = 0.03
							breakthrough = 0.03
						}
						Special_Forces = {
							defense = 0.03
							breakthrough = 0.03
						}
					}
				}
			}
		}
	}

}