# Author(s): Kalkalash
#Special projects related to the (utility) vehicles tab
sp_truck_modular_seating = {
	specialization = specialization_land

	project_tags = sp_tag_armored_vehicles

	ai_will_do = {
		base = 1
	}

	visible = {
		FROM = {
			has_tech = util_vehicle_1
		}
	}

	available = {
		FROM = {
			has_tech = util_vehicle_3
		}
	}

	breakthrough_cost = {
		specialization_land = 1
	}

	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	project_output = {
		equipment_bonus = {
			util_vehicle_equipment = {
				build_cost_ic = 0.05
				breakthrough = 0.10
				instant = yes
			}
		}
	}

	generic_prototype_rewards = {
		sp_land_generic_reward_scientist_xp_1
		sp_land_generic_reward_scientist_xp_2
		sp_land_generic_reward_scientist_xp_3
		sp_land_generic_reward_army_xp_1
		sp_land_generic_reward_army_xp_2
		sp_land_generic_reward_army_xp_3
		sp_land_generic_reward_major_progress_1
		sp_land_generic_reward_major_progress_2
		sp_land_generic_reward_major_progress_3
		sp_land_generic_reward_test_failure_1
		sp_land_generic_reward_test_failure_2
		sp_land_generic_reward_test_failure_3
		sp_land_generic_reward_motorised_tech_1
		sp_land_generic_reward_motorised_tech_2
		sp_land_generic_reward_motorised_tech_3
		sp_land_generic_reward_resource_scarcity
		sp_land_generic_reward_critical_failure
	}

	unique_prototype_rewards = {
		sp_truck_modular_seating_reward_quick_release_belt = {
			fire_only_once = yes

			threshold = {
				min = 0
				max = 100
			}

			weight = {
				base = 1
			}

			option = {
				token = sp_truck_modular_seating_reward_quick_release_belt_option

				iteration_output = {
					sub_unit_bonus = {
						combat_service_support_company = {
							casualty_trickleback = 0.02
						}
						helicopter_combat_service_support = {
							casualty_trickleback = 0.02
						}
					}

					country_effects = {
						FROM = {
							add_project_progress_ratio = constant:sp_progress.gain.low
						}
					}
				}
			}
		}
	}

}

sp_utility_vehicle_electric_engines = {
	specialization = specialization_land

	project_tags = sp_tag_armored_vehicles

	ai_will_do = {
		base = 1
	}

	visible = {
		FROM = {
			has_tech = util_vehicle_3
		}
	}

	available = {
		FROM = {
			has_tech = util_vehicle_5
		}
	}

	breakthrough_cost = {
		specialization_land = 1
	}

	prototype_time = sp_time.prototype.long

	complexity = sp_complexity.large

	project_output = {
		equipment_bonus = {
			util_vehicle_equipment = {
				fuel_consumption = -0.50
				build_cost_ic = 0.10		#Use this since resource cost can't be changed
				instant = yes
			}
		}
	}

	generic_prototype_rewards = {
		sp_land_generic_reward_scientist_xp_1
		sp_land_generic_reward_scientist_xp_2
		sp_land_generic_reward_scientist_xp_3
		sp_land_generic_reward_army_xp_1
		sp_land_generic_reward_army_xp_2
		sp_land_generic_reward_army_xp_3
		sp_land_generic_reward_major_progress_1
		sp_land_generic_reward_major_progress_2
		sp_land_generic_reward_major_progress_3
		sp_land_generic_reward_test_failure_1
		sp_land_generic_reward_test_failure_2
		sp_land_generic_reward_test_failure_3
		sp_land_generic_reward_motorised_tech_1
		sp_land_generic_reward_motorised_tech_2
		sp_land_generic_reward_motorised_tech_3
		sp_land_generic_reward_resource_scarcity
		sp_land_generic_reward_critical_failure
	}

	unique_prototype_rewards = {
		sp_utility_vehicle_electric_engines_reward_fuel_efficiency = {
			fire_only_once = yes

			threshold = {
				min = 0
				max = 100
			}

			weight = {
				base = 1
			}

			option = {
				token = sp_utility_vehicle_electric_engines_reward_fuel_efficiency_option

				iteration_output = {
					country_effects = {
						add_tech_bonus = {
							name = sp_utility_vehicle_electric_engines_reward_fuel_efficiency_option_tech_bonus
							bonus = 0.25
							uses = 1
							category = CAT_fuel_oil
						}
					}

					country_effects = {
						FROM = {
							add_project_progress_ratio = constant:sp_progress.gain.low
						}
					}
				}
			}
		}
	}

}