# Author(s): Manchu, Momokio
# Last Modified: Feb 4., 2022 - Angriest Bird
focus_tree = {
	id = north_korea

	country = {
		factor = 0
		modifier = {
			add = 20
			tag = NKO
		}
	}
	continuous_focus_position = { x = 200 y = 4000 }

	focus = {
        id = NKO_Prioritizing_the_Arduous_March
        icon = bread_and_peace

        x = 2
        y = 0

        cost = 10
        mutually_exclusive = { focus = NKO_Songun }

        search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_political_power = 100
            add_stability = 0.03
            custom_effect_tooltip = NKO_Arduous_March_tt
            set_temp_variable = { treasury_change = -7.5 }
            modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

          log = "[GetDateText]: [This.GetName]: focus NKO_Prioritizing_the_Arduous_March executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_State_owned_reform
        icon = consumer_goods

        x = 2
        y = 1

        cost = 8
        prerequisite = { focus = NKO_Prioritizing_the_Arduous_March }
        search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_CORRUPTION FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            decrease_corruption = yes
            set_temp_variable = { treasury_change = -15 }
            modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_State_owned_reform executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Songun
        icon = dprk_army

        x = 6
        y = 0

        cost = 10

        mutually_exclusive = { focus = NKO_Prioritizing_the_Arduous_March }

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_political_power = 100
            add_war_support = 0.03
            custom_effect_tooltip = NKO_Arduous_March_tt
            custom_effect_tooltip = NKO_support_Songun_tt
            set_temp_variable = { treasury_change = -7.5 }
            modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Songun executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Priority_food_supply
        icon = conscription
        relative_position_id = NKO_Songun
        x = 0
        y = 1

        cost = 8

        prerequisite = { focus = NKO_Songun }
        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_war_support = 0.05
            set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
            set_temp_variable = { treasury_change = -15 }
            modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Priority_food_supply executed"
        }

        ai_will_do = {
        	base = 10
        }
    }
	focus = {
        id = NKO_black_market
        icon = economic_crisis

        x = -2
        y = 2
        relative_position_id = NKO_Songun
        cost = 5

        prerequisite = { focus = NKO_Songun focus = NKO_Prioritizing_the_Arduous_March }

        search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = NKO_black_market_tt
			log = "[GetDateText]: [This.GetName]: focus NKO_black_market executed"
		}

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }
	focus = {
        id = NKO_milestone_win
        icon = juche

        x = -2
        y = 3
        relative_position_id = NKO_Songun
        cost = 6

        prerequisite = { focus = NKO_black_market }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_political_power = 100
            set_temp_variable = { treasury_change = -7.5 }
            modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
            }
            add_timed_idea = {
                idea = NKO_milestone_win
                days = 180
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_milestone_win executed"
        }

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Develop_Food_factories
        icon = agriculture

        x = 3
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			set_temp_variable = { treasury_change = -7.5 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Develop_Food_factories executed"
        }

        ai_will_do = {
        	base = 15
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Restore_the_Healthcare_System
        icon = welfare

        x = -3
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }

        search_filters = {}

        completion_reward = {
            add_political_power = -10
            increase_healthcare_budget = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Restore_the_Healthcare_System executed"
        }

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Land_Reclamation
        icon = communism5

        x = 0
        y = 1
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_milestone_win }

        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_decrease_Misery_March_tt
            decrease_NKO_Arduous_March = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Land_Reclamation executed"
        }

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Industrial_Recovery
        icon = hammer_star

        x = 2
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation }
        prerequisite = { focus = NKO_Restore_the_Healthcare_System }
        prerequisite = { focus = NKO_Develop_Food_factories }

        search_filters = {}

        completion_reward = {
			remove_ideas = NKO_Industrial_collapse
			log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Recovery executed"
		}

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
		}
    }

	focus = {
        id = NKO_support_private_markets
        icon = money

        x = -2
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation focus = NKO_Restore_the_Healthcare_System focus = NKO_Develop_Food_factories }
        available = {
            has_idea = NKO_the_black_market
        }
        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_reform_opening_up_tt
            swap_ideas = {
                remove_idea = NKO_the_black_market
                add_idea = NKO_the_private_markets
            }
			log = "[GetDateText]: [This.GetName]: focus NKO_support_private_markets executed"
        }


        ai_will_do = {
        	base = 10
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_support_black_economy
        icon = economic_crisis

        x = 0
        y = 2
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Land_Reclamation focus = NKO_Restore_the_Healthcare_System focus = NKO_Develop_Food_factories }

        search_filters = {}

        completion_reward = {
            add_ideas = NKO_the_black_economy
			set_temp_variable = { treasury_change = gdp_total_display }
			multiply_temp_variable = { treasury_change = 0.003 }
			modify_treasury_effect = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_support_black_economy executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Nurture_Software_industry
        icon = science2

        x = -4
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy focus = NKO_support_private_markets focus = NKO_Industrial_Recovery }

        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_RESEARCH}

        completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = computing_tech
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = internet_tech
			}
			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Nurture_Software_industry executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Nurture_Donju
        icon = trade

        x = 4
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }

        search_filters = {FOCUS_FILTER_INTERNAL_FACTION}

        completion_reward = {
            add_political_power = -100
			set_temp_variable = { temp_opinion = 5 }
			change_the_donju_opinion = yes
			set_temp_variable = { treasury_change = 15 }
			modify_treasury_effect = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Nurture_Donju executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Construction_Boom
        icon = construction_engineering

        x = -2
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			set_temp_variable = { treasury_change = -17 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
                add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Construction_Boom executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Infrastructure_Development
        icon = infrastructure1

        x = 2
        y = 3
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_support_black_economy }
        prerequisite = { focus = NKO_support_private_markets }
        prerequisite = { focus = NKO_Industrial_Recovery }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			set_temp_variable = { treasury_change = -4 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Infrastructure_Development executed"
        }

        ai_will_do = {
        	base = 10
        }
    }

	focus = {
        id = NKO_Great_Victory
        icon = worker_paradise

        x = 0
        y = 4
        relative_position_id = NKO_milestone_win
        cost = 15
        prerequisite = { focus = NKO_Infrastructure_Development }
        prerequisite = { focus = NKO_Construction_Boom }
        prerequisite = { focus = NKO_Nurture_Donju }
        prerequisite = { focus = NKO_Nurture_Software_industry }
        available = { has_idea = NKO_Arduous_March_1 }

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            remove_ideas = NKO_Arduous_March_1
            add_timed_idea = {
                idea = NKO_Great_Victory
                days = 365
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Great_Victory executed"
        }

        ai_will_do = {
        	base = 50
        }
    }

	focus = {
        id = NKO_Continue_Ryugyong_Hotel
        icon = Ryugyong_Hotel

        x = 0
        y = 5
        relative_position_id = NKO_milestone_win
        cost = 10
        prerequisite = { focus = NKO_Infrastructure_Development }
        prerequisite = { focus = NKO_Construction_Boom }
        prerequisite = { focus = NKO_Nurture_Donju }
        prerequisite = { focus = NKO_Nurture_Software_industry }
        prerequisite = { focus = NKO_Great_Victory }

        available = {
    	}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
			add_ideas = Ryugyong_Hotel
          log = "[GetDateText]: [This.GetName]: focus NKO_Continue_Ryugyong_Hotel executed"
        }

        ai_will_do = {
        	base = 50
        }
    }


	focus = {
        id = NKO_National_Defence_Force
        icon = dprk_army

        x = 34
        y = 0

        cost = 10
        mutually_exclusive = { focus = NKO_People_Army }
        available = { NOT = { has_completed_focus = NKO_Preserve_Songun } }

        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            custom_effect_tooltip = KPA_Unhappy_tt
            add_stability = 0.1
            add_war_support = -0.15
            decrease_military_spending_2 = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_National_Defence_Force executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_People_Army
        icon = Korean_Peoples_Army_Ground_Forces

        x = -4
        y = 0
        relative_position_id = NKO_National_Defence_Force
        cost = 10
        available = { has_completed_focus = NKO_Songun }
        mutually_exclusive = { focus = NKO_National_Defence_Force }

        search_filters = {FOCUS_FILTER_WAR_SUPPORT}

        completion_reward = {
            add_war_support = 0.05
            increase_NKO_Arduous_March = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Army executed"
        }

        ai_will_do = {
        	base = 10
			modifier = {
				factor = 0
				OR = {

				}
			}
        }
    }



#核武器
	focus = {
        id = NKO_Begin_Uranium_Enrichment
        icon = nuclear_science

        x = -9
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Begin_Uranium_Enrichment executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Remove_Monitoring_Devices
        icon = break_free

        x = -10
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Begin_Uranium_Enrichment }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Remove_Monitoring_Devices executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Expel_Inspectors
        icon = communist_repression

        x = -8
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Begin_Uranium_Enrichment }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Expel_Inspectors executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Withdraw_from_NPT
        icon = refuse_treaty

        x = -9
        y = 3
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Expel_Inspectors }
        prerequisite = { focus = NKO_Remove_Monitoring_Devices }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Withdraw_from_NPT executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Missile_Tests
        icon = rocketry

        x = -8
        y = 4
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Withdraw_from_NPT }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Missile_Tests executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Nuclear_Tests
        icon = nuclear_bomb

        x = -10
        y = 4
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Withdraw_from_NPT }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Nuclear_Tests executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Our_Pride_and_Joy
        icon = angel

        x = -9
        y = 5
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Missile_Tests focus = NKO_Nuclear_Tests }

        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}

        completion_reward = {
            custom_effect_tooltip = NKO_WIP_SORRY_tt
          log = "[GetDateText]: [This.GetName]: focus NKO_Our_Pride_and_Joy executed"
        }

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_People_Air_force
        icon = Korean_Peoples_Airforce_Roundel

        x = -6
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 5

        search_filters = {FOCUS_FILTER_AIRCRAFT}

        completion_reward = {
            air_experience = 50
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Air_force executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
		id = NKO_improve_our_air_doctrine
		icon = air_doctrine
        x = -6
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 5

		prerequisite = { focus = NKO_People_Air_force }

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRCRAFT}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NKO_improve_our_air_doctrine"
			add_doctrine_cost_reduction = {
                category = air_doctrine
                uses = 2
                cost_reduction = 0.5
            }
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_construct_air_bases
		icon = air_defense
        x = -6
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_improve_our_air_doctrine }

        search_filters = {FOCUS_FILTER_AIRCRAFT}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NKO_construct_air_bases"
            set_temp_variable = { treasury_change = -7.5 }
            modify_treasury_effect = yes
			603 = {
				add_building_construction = {
				type = air_base
				level = 3
				instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Self-produced_rifles
		icon = small_arms_east
        x = 4
        y = 1
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = Cat_INF_WEP
				bonus = 0.5
				uses = 2
				category = Cat_INF_WEP
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Self-produced_rifles executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Model_Master
		icon = tanks
        x = 4
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Self-produced_rifles }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 0.5
				uses = 1
				category = Cat_TANKS
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Model_Master executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Rocket_Artillery
		icon = artillery3
        x = 6
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Model_Master }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = Cat_ARTILLERY
				bonus = 0.5
				uses = 1
				category = Cat_SP_R_ARTY
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Rocket_Artillery executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Improve_Command_Control
		icon = military_planning
        x = 2
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Model_Master }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = Cat_CnC
				bonus = 0.5
				uses = 2
				category = Cat_CnC
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Rocket_Artillery executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Improving_the_Warfare_Method
		icon = army_logistics
        x = 4
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Model_Master }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_doctrine_cost_reduction = {
                category = land_doctrine
                uses = 2
                cost_reduction = 0.5
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Improving_the_Warfare_Method executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Network_Centric_Warfare
		icon = mass_assault
        x = 4
        y = 4
        relative_position_id = NKO_National_Defence_Force
		cost = 10

		prerequisite = { focus = NKO_Improving_the_Warfare_Method }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_doctrine_cost_reduction = {
                category = land_doctrine
                uses = 1
                cost_reduction = 0.5
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Revolutionary_Military_Spirit
		icon = mass_assault
        x = -14
        y = 1
        relative_position_id = NKO_National_Defence_Force
		cost = 15

        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
            army_experience = 50
            add_ideas = NKO_Revolutionary_Spirit1
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Expand_Peasant_Militia
		icon = communism5
        x = -15
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 20

        prerequisite = { focus = NKO_Revolutionary_Military_Spirit }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
            add_manpower = 100000
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Bolster_Young_Red_Guards
		icon = WPRG
        x = -13
        y = 2
        relative_position_id = NKO_National_Defence_Force
		cost = 20

        prerequisite = { focus = NKO_Revolutionary_Military_Spirit }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
            swap_ideas = {
                remove_idea = NKO_Revolutionary_Spirit1
                add_idea = NKO_Revolutionary_Spirit2
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
		id = NKO_Rebuild_Kim_Il-sung_Military_University
		icon = Kim_Il-sung_Military_University
        x = -14
        y = 3
        relative_position_id = NKO_National_Defence_Force
		cost = 15

        prerequisite = { focus = NKO_Bolster_Young_Red_Guards }
        prerequisite = { focus = NKO_Expand_Peasant_Militia }

        search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
            swap_ideas = {
                remove_idea = NKO_Revolutionary_Spirit2
                add_idea = NKO_Revolutionary_Spirit3
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Network_Centric_Warfare executed"
		}

		ai_will_do = {
			factor = 40
		}
	}

	focus = {
        id = NKO_People_Cyber_Army
        icon = global_community

        x = -3
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        available = {
            has_tech = computing2
            has_completed_focus = NKO_Nurture_Software_industry
        }

        search_filters = {FOCUS_FILTER_INFLUENCE}

        completion_reward = {
            custom_effect_tooltip = CHI_technology_inferior_tt
			custom_effect_tooltip = CHI_global_propaganda_tt
			add_to_array = { CHI.cyber_targets_propaganda = USA }
			add_to_array = { CHI.cyber_targets_propaganda = KOR }
          log = "[GetDateText]: [This.GetName]: focus NKO_People_Cyber_Army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Industrial_Espionage
        icon = stolen_papers

        x = -3
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_People_Cyber_Army }

        cost = 10

        available = { has_tech = computing4 }

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
			custom_effect_tooltip = CHI_industrial_espionage_tt
			add_to_array = { CHI.cyber_targets_tech = USA }
			add_to_array = { CHI.cyber_targets_tech = SOV }
            add_to_array = { CHI.cyber_targets_tech = CHI }
            add_to_array = { CHI.cyber_targets_tech = GER }
            add_to_array = { CHI.cyber_targets_tech = ENG }
            add_to_array = { CHI.cyber_targets_tech = FRA }
            add_to_array = { CHI.cyber_targets_tech = JAP }
            add_to_array = { CHI.cyber_targets_tech = KOR }
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Naval_Modernization
        icon = battleships

        x = 0
        y = 1
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_National_Defence_Force focus = NKO_People_Army }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH}

        completion_reward = {
            navy_experience = 50
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Anti-Submarine
        icon = torpedo
        x = 1
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Naval_Modernization }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH}

        completion_reward = {
			set_temp_variable = { treasury_change = -6 }
			modify_treasury_effect = yes
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = Cat_NAVAL_MODULES
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Infiltration_by_Sea
        icon = navy3

        x = -1
        y = 2
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Naval_Modernization }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH}

        completion_reward = {
			set_temp_variable = { treasury_change = -6 }
			modify_treasury_effect = yes
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = Cat_NAVAL_MISC
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Submarine_Development
        icon = submarines
        x = 0
        y = 3
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Infiltration_by_Sea }
        prerequisite = { focus = NKO_Anti-Submarine }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_RESEARCH}

        completion_reward = {
			set_temp_variable = { treasury_change = -10 }
			modify_treasury_effect = yes
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = Cat_SUB
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Upgrade_Shipyards
        icon = naval_industry
        x = -1
        y = 4
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Submarine_Development }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            set_temp_variable = { treasury_change = -22.5 }
            modify_treasury_effect = yes
            	random_owned_state = {
                    add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Expand_Bases
        icon = naval_dockyard
        x = 1
        y = 4
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Submarine_Development }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            set_temp_variable = { treasury_change = -2.00 }
            modify_treasury_effect = yes

            	601 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 6822
					}
				}
            	603 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 1003
					}
				}
       		 log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
		}

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Green-Water_Navy
        icon = no_blueprint_ship
        x = 0
        y = 5
        relative_position_id = NKO_National_Defence_Force
        prerequisite = { focus = NKO_Expand_Bases }
        prerequisite = { focus = NKO_Upgrade_Shipyards }

        cost = 10

        search_filters = {FOCUS_FILTER_NAVY}

        completion_reward = {
			if = {
				limit = { NOT = { has_dlc = "Man the Guns" } }
                add_ideas = NKO_The_Green_Water_Navy
			}
            else_if = {
				limit = { has_dlc = "Man the Guns" }
                add_ideas = NKO_The_Green_Water_Navy_mtg
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Industrial_Espionage executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Kim_Jong_il_Death
        icon = death_of_kim

        x = 15
        y = 9
        cost = 1



		available = {
			has_government = communism
            NOT = {
                has_country_leader = {
                    name = "Kim Jong-il"
                    ruling_only = yes
                }
            }
            has_country_flag = Kim_Jong_il_Death_tt
		}

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_timed_idea = {
                idea = Kim_Jong_il_Death
                days = 60
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_il_Death executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Junta
        icon = military_mission2

        x = 6
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Kim_Jong_un focus = NKO_Kim_Jong_Nam }
		available = {
			always = no
		}
        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            news_event = kim_jong_il_death.6
            set_politics = {
				ruling_party = nationalist
			}
            hidden_effect = {
                set_popularities = {
                	democratic = 0
                	neutrality = 0
                	fascism = 0
                    nationalist = 51
                	communism = 49
                }
            }
			create_country_leader = {
				name = "Choe Pu Il"
				picture = "Portrait_Choe_Pu_Il.dds"
				ideology = Nat_Autocracy
				traits = {
					nationalist_Nat_Autocracy
					military_career
					rash
					interventionist
					pro_china
				}
			}
            CHI = {
                diplomatic_relation = {
                    country = NKO
                    relation = guarantee
                    active = no
                }
            }
            diplomatic_relation = {
                country = CHI
                relation = guarantee
                active = no
            }
	    	set_variable = { party_pop_array^0 = 0 } #Western_Autocracy
	    	set_variable = { party_pop_array^1 = 0 } #conservatism
	    	set_variable = { party_pop_array^2 = 0 } #liberalism
	    	set_variable = { party_pop_array^3 = 0 } #socialism
	    	set_variable = { party_pop_array^4 = 0.48 } #Communist-State
	    	set_variable = { party_pop_array^5 = 0.01 } #anarchist_communism
	    	set_variable = { party_pop_array^6 = 0 } #Conservative
	    	set_variable = { party_pop_array^7 = 0 } #Autocracy
	    	set_variable = { party_pop_array^8 = 0 } #Mod_Vilayat_e_Faqih
	    	set_variable = { party_pop_array^9 = 0 } #Vilayat_e_Faqih
	    	set_variable = { party_pop_array^10 = 0 } #Kingdom
	    	set_variable = { party_pop_array^11 = 0 } #Caliphate
	    	set_variable = { party_pop_array^12 = 0 } #Neutral_Muslim_Brotherhood
	    	set_variable = { party_pop_array^13 = 0 } #Neutral_Autocracy
	    	set_variable = { party_pop_array^14 = 0 } #Neutral_conservatism
	    	set_variable = { party_pop_array^15 = 0 } #oligarchism
	    	set_variable = { party_pop_array^16 = 0 } #Neutral_Libertarian
	    	set_variable = { party_pop_array^17 = 0 } #Neutral_green
	    	set_variable = { party_pop_array^18 = 0 } #neutral_Social
	    	set_variable = { party_pop_array^19 = 0 } #Neutral_Communism
	    	set_variable = { party_pop_array^20 = 0 } #Nat_Populism
	    	set_variable = { party_pop_array^21 = 0 } #Nat_Fascism
	    	set_variable = { party_pop_array^22 = 0.51 } #Nat_Autocracy
	    	set_variable = { party_pop_array^23 = 0 } #Monarchist
            clear_array = ruling_party
            clear_array = gov_coalition_array
            add_to_array = { ruling_party = 22 }
            update_government_coalition_strength = yes
            update_party_name = yes
            set_coalition_drift = yes
            hidden_effect = {
                set_partyall_banned = no
            	add_political_power = 230
            }
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Junta executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Preserve_Songun
        icon = communist_army

        x = 0
        y = 1
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Junta }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_popularity = {
                ideology = nationalist
                popularity = 0.20
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Preserve_Songun executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Entrench_Military_Authority
        icon = reactionary

        x = -4
        y = 2
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Preserve_Songun }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INTERNAL_FACTION}

        completion_reward = {
            set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
            army_experience = 25
            air_experience = 25
            navy_experience = 20
          log = "[GetDateText]: [This.GetName]: focus NKO_Entrench_Military_Authority executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Smash_Black_Market
        icon = armoured_fist

        x = 4
        y = 2
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Preserve_Songun }
        available = { OR = { has_idea = NKO_the_black_market has_idea = NKO_the_private_markets } }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            if = {
                limit = {
                    has_idea = NKO_the_private_markets
                }
                remove_ideas = NKO_the_private_markets
            }
            if = {
                limit = {
                    has_idea = NKO_the_black_market
                }
                remove_ideas = NKO_the_black_market
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Smash_Black_Market executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Determining_the_loyalty_of_army
        icon = army_officers_communist

        x = 0
        y = 2
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Preserve_Songun }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INTERNAL_FACTION}

        completion_reward = {
            set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
            add_stability = 0.10
          log = "[GetDateText]: [This.GetName]: focus NKO_Determining_the_loyalty_of_army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Purge_Dissenters
        icon = political_arrests2

        x = -2
        y = 3
        relative_position_id = NKO_Junta
        cost = 5
        prerequisite = { focus = NKO_Entrench_Military_Authority }
        prerequisite = { focus = NKO_Determining_the_loyalty_of_army }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_stability = -0.05
            add_political_power = -50
            add_ideas = NKO_Anti_tatmadaw_sentiment
          log = "[GetDateText]: [This.GetName]: focus NKO_Purge_Dissenters executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Crush_the_Kims
        icon = juche3

        x = -4
        y = 4
        relative_position_id = NKO_Junta
        cost = 5
        prerequisite = { focus = NKO_Purge_Dissenters }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_stability = -0.10
            add_political_power = -150
            swap_ideas = { remove_idea = Fallout_leadership_succession add_idea = Fallout_leadership_succession2 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Crush_the_Kims executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_High_pressure_politics
        icon = infilitration

        x = -3
        y = 5
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Crush_the_Kims }
        prerequisite = { focus = NKO_Constrain_the_Donju }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_stability = 0.15
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_High_pressure_politics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Empower_the_State_Security_Department
        icon = espionage3

        x = -1
        y = 6
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_High_pressure_politics }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            if = {
                limit = { has_idea = Fallout_leadership_succession }
                    remove_ideas = Fallout_leadership_succession
            }
            if = {
                limit = { has_idea = Fallout_leadership_succession2 }
                    remove_ideas = Fallout_leadership_succession2
            }
			swap_ideas = {
				remove_idea = communist_cadres
				add_idea = intelligence_community
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_Empower_the_State_Security_Department executed"
		}

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_CHI_military_support
        icon = align_to_china

        x = -1
        y = 7
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Empower_the_State_Security_Department }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            diplomatic_relation = {
                country = CHI
                relation = military_access
                active = YES
            }
            CHI = {
                diplomatic_relation = {
                    country = NKO
                    relation = guarantee
                    active = yes
                }
                diplomatic_relation = {
                    country = NKO
                    relation = non_aggression_pact
                    active = YES
                }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_CHI_military_support executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_secure_chinese_assistance_in_crushing_dissent
		icon = secret_police

        x = -1
        y = 8
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_CHI_military_support }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            if = {
                limit = {
                    has_idea = NKO_Anti_tatmadaw_sentiment
                }
                remove_ideas = NKO_Anti_tatmadaw_sentiment
            }
			NKO = {
				set_temp_variable = { percent_change = 3 }
				set_temp_variable = { tag_index = CHI.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_secure_chinese_assistance_in_crushing_dissent executed"
		}


        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_request_chinese_protection
		icon = peoples_liberation_army

        x = 0
        y = 9
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_secure_chinese_assistance_in_crushing_dissent  focus = NKO_Military_Collectives }
        mutually_exclusive = { focus = NKO_perpetual_war_footing }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            CHI = {
                set_autonomy = {
                        target = NKO
                        autonomy_state = autonomy_integrated_puppet
                }
            }
			log = "[GetDateText]: [This.GetName]: focus NKO_request_chinese_protection executed"
		}


        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_perpetual_war_footing
		icon = war2_green

        x = -2
        y = 9
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Empower_the_State_Security_Department focus = NKO_Military_Collectives }
        mutually_exclusive = { focus = NKO_request_chinese_protection }

        search_filters = {}

        completion_reward = {
            swap_ideas = {
                remove_idea = NKO_Anti_tatmadaw_sentiment
                add_idea = NKO_war_footing
            }
			log = "[GetDateText]: [This.GetName]: focus NKO_perpetual_war_footing executed"
		}


        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_private_enterprise
        icon = central_planned_economy2

        x = -4
        y = 6
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_High_pressure_politics }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
			random_owned_state = {
                add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_private_enterprise executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Market-based_economy
        icon = market_economy

        x = -4
        y = 8
        relative_position_id = NKO_Junta
        cost = 15
        prerequisite = { focus = NKO_Encourage_private_enterprise }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            swap_ideas = {
                remove_idea = Planned_Economy
                add_idea = Socialist_Market_Economy_planned_1
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Market-based_economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Constrain_the_Donju
        icon = protectionist_economics

        x = 0
        y = 4
        relative_position_id = NKO_Junta
        cost = 5
        prerequisite = { focus = NKO_Determining_the_loyalty_of_army }
        prerequisite = { focus = NKO_Smash_Black_Market }
        mutually_exclusive = { focus = NKO_End_the_Donju }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
			set_temp_variable = { temp_opinion = -5 }
			change_the_donju_opinion = yes
			set_temp_variable = { treasury_change = 100 }
			modify_treasury_effect = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Constrain_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_the_Donju
        icon = infiltration_tactics

        x = 4
        y = 4
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Smash_Black_Market }
        mutually_exclusive = { focus = NKO_Constrain_the_Donju }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INTERNAL_FACTION}

        completion_reward = {
			swap_ideas = {
				remove_idea = the_donju
				add_idea = industrial_conglomerates
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_End_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Prosperous_Nation
        icon = propaganda

        x = 5
        y = 5
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_End_the_Donju }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_political_power = -300
            add_stability = 0.15
			log = "[GetDateText]: [This.GetName]: focus NKO_Prosperous_Nation executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Reorganising_Government
        icon = government_beu

        x = 5
        y = 6
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Prosperous_Nation }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.10
            remove_ideas = NKO_Anti_tatmadaw_sentiment
          log = "[GetDateText]: [This.GetName]: focus NKO_Reorganising_Government executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Democratic_politics
        icon = Election

        x = 6
        y = 7
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Reorganising_Government }
        mutually_exclusive = { focus = NKO_Military_Collectives }

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			set_country_flag = no_leader_change
			if = {
				limit = { has_government = communism }
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = democratic }
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = neutrality }
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = nationalist }
				set_politics = {
					ruling_party = nationalist
					elections_allowed = yes
				}
			}
			clr_country_flag = no_leader_change
            swap_ideas = { remove_idea = closed_nation add_idea = censored_nation_06 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Democratic_politics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Allow_Foreign_Social
        icon = facebook

        x = -1
        y = 2
        relative_position_id = NKO_Democratic_politics
        cost = 10
        prerequisite = { focus = NKO_Democratic_politics }

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = { has_idea = censored_nation_06 }
                    swap_ideas = { remove_idea = censored_nation_06 add_idea = censored_nation_04 }
            }
            if = {
                limit = { has_idea = censored_nation_04 }
                    swap_ideas = { remove_idea = censored_nation_04 add_idea = censored_nation_02 }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Freedom_of_Speech
        icon = pro_immigration1

        x = 1
        y = 2
        relative_position_id = NKO_Democratic_politics
        cost = 10
        prerequisite = { focus = NKO_Democratic_politics }

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = { has_idea = censored_nation_06 }
                    swap_ideas = { remove_idea = censored_nation_06 add_idea = censored_nation_04 }
            }
            if = {
                limit = { has_idea = censored_nation_04 }
                    swap_ideas = { remove_idea = censored_nation_04 add_idea = censored_nation_02 }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Unchain_the_Democraic_Parties
        icon = break_free2

        x = 0
        y = 3
        relative_position_id = NKO_Democratic_politics
        cost = 10
        prerequisite = { focus = NKO_Freedom_of_Speech }
        prerequisite = { focus = NKO_Allow_Foreign_Social }

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}

        completion_reward = {
            swap_ideas = { remove_idea = censored_nation_02 add_idea = open_nation_02 }
            custom_effect_tooltip = Unchain_the_Democraic_Parties_tt
            hidden_effect = {
                set_partyall_banned = yes
                add_political_power = 230
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Unchain_the_Democraic_Parties executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_De-Politicize_the_Military
        icon = anti_fascism

        x = 0
        y = 4
        relative_position_id = NKO_Democratic_politics
        cost = 20

        prerequisite = { focus = NKO_Unchain_the_Democraic_Parties }

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}

        completion_reward = {
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_04 }
          log = "[GetDateText]: [This.GetName]: focus NKO_De-Politicize_the_Military executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Democracy_in_the_North
        icon = democracy4

        x = 0
        y = 6
        relative_position_id = NKO_Democratic_politics
        cost = 20

        prerequisite = { focus = NKO_De-Politicize_the_Military }

		available = {
            OR = {
				has_government = democratic
				has_government = neutrality
            }
			has_war = no
		}

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL}

        completion_reward = {
			KOR = {
				annex_country = {
					target = NKO
					transfer_troops = yes
				}
				add_ideas = KOR_reunification_shocks
				add_ideas = KOR_divided_military
				add_ideas = KOR_mass_migration
				add_ideas = KOR_fragmented_governance
				add_ideas = KOR_uneven_economy
				decrease_economic_growth = yes
                set_country_flag = korea_peninsula_reunited
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Democracy_in_the_North executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Support_the_Non_Aligned_Coalition
        icon = neutrality

        x = -1
        y = 5
        relative_position_id = NKO_Democratic_politics
        cost = 15

        prerequisite = { focus = NKO_De-Politicize_the_Military }
		mutually_exclusive = { focus = NKO_Support_the_Communists }

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			recalculate_party = yes
			swap_ideas = {
				remove_idea = communist_cadres
				add_idea = landowners
			}
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_07 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Support_the_Non_Aligned_Coalition executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Support_the_Communists
        icon = communism

        x = 1
        y = 5
        relative_position_id = NKO_Democratic_politics
        cost = 15

        prerequisite = { focus = NKO_De-Politicize_the_Military }
		mutually_exclusive = { focus = NKO_Support_the_Non_Aligned_Coalition }

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			recalculate_party = yes
            swap_ideas = { remove_idea = open_nation_02 add_idea = open_nation_07 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Support_the_Communists executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Military_Collectives
        icon = authoritarian_democracy2

        x = 4
        y = 7
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Reorganising_Government }
        mutually_exclusive = { focus = NKO_Democratic_politics }

        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_POLITICAL}

        completion_reward = {
			set_temp_variable = { party_index = 22 }
			set_temp_variable = { party_popularity_increase = 0.10 }
			add_relative_party_popularity = yes

            set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Military_Collectives executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Planned_Economy_keep
        icon = central_planned_economy3

        x = 3
        y = 8
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Military_Collectives }
        mutually_exclusive = { focus = NKO_Leave_Room_for_Private_Sector }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = {
                idea = a_new_leap_forward
                days = 720
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Planned_Economy_keep executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Leave_Room_for_Private_Sector
        icon = liberalization_policies

        x = 6
        y = 8
        relative_position_id = NKO_Junta
        cost = 10
        prerequisite = { focus = NKO_Military_Collectives focus = NKO_Democratic_politics }
        mutually_exclusive = { focus = NKO_Planned_Economy_keep }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            swap_ideas = {
                remove_idea = Planned_Economy
                add_idea = Free_Market_Economy
            }
			swap_ideas = {
				remove_idea = industrial_conglomerates
				add_idea = international_bankers
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Leave_Room_for_Private_Sector executed"
        }

        ai_will_do = {
        	base = 1
        }
    }


	focus = {
        id = NKO_Kim_Jong_un
        icon = Kim_Jong_un2

        x = -2
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Junta focus = NKO_Kim_Jong_Nam }

		available = {
			always = no
		}
        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            news_event = kim_jong_il_death.5
			create_country_leader = {
				name = "Kim Jong-un"
				picture = "Kim_Jong-un.dds"
				ideology = Communist-State
				traits = {
					military_career
					emerging_Communist-State
					stubborn
					dictator
					capable
					ruthless
					emotional
					narcissist
				}
			}
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_un executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Consolidate_power
        icon = autonomy

        x = -2
        y = 2
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_un }


        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_Consolidate_power executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Light_Industry_Develop
        icon = industry_civilian

        x = -3
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Consolidate_power }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {

            set_temp_variable = { treasury_change = -22.5 }
            modify_treasury_effect = yes

			random_owned_state = {
                add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Light_Industry_Develop executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Criticize_Ineptitude
        icon = anti_establishment

        x = -3
        y = 4
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Light_Industry_Develop }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_political_power = -150
            swap_ideas = {
                remove_idea = Fallout_leadership_succession
                add_idea = Fallout_leadership_succession2
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Criticize_Ineptitude executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Improvement_of_Peoples_live
        icon = agriculture

        x = -1
        y = 3
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Consolidate_power }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
			set_temp_variable = { treasury_change = -3 }
			modify_treasury_effect = yes
            add_stability = 0.05
          log = "[GetDateText]: [This.GetName]: focus NKO_Improvement_of_Peoples_live executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Peoples_support
        icon = family

        x = -1
        y = 4
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Improvement_of_Peoples_live }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_stability = 0.10
            add_political_power = 100
          log = "[GetDateText]: [This.GetName]: focus NKO_Peoples_support executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Centralize_Power
        icon = stability

        x = -2
        y = 5
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Criticize_Ineptitude }
        prerequisite = { focus = NKO_Peoples_support }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_political_power = 100
            add_stability = 0.02
          log = "[GetDateText]: [This.GetName]: focus NKO_Centralize_Power executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Root_out_Corruption
        icon = concessions2

        x = -2
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            decrease_corruption = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Root_out_Corruption executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Formalize_Power_Structures
        icon = judiciary

        x = -4
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_stability = 0.15
          log = "[GetDateText]: [This.GetName]: focus NKO_Formalize_Power_Structures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Assassinate_Kim_Jong-Nam
        icon = sniper

        x = 0
        y = 6
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Centralize_Power }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            remove_ideas = Fallout_leadership_succession2
            remove_opinion_modifier = { target = MAY modifier = supports_us }
          log = "[GetDateText]: [This.GetName]: focus NKO_Assassinate_Kim_Jong-Nam executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Appoint_Loyalists
        icon = aristocratic_funding

        x = -1
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Assassinate_Kim_Jong-Nam }
        prerequisite = { focus = NKO_Formalize_Power_Structures }
        prerequisite = { focus = NKO_Root_out_Corruption }

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_political_power = 100
            add_war_support = 0.05
            add_stability = 0.05
          log = "[GetDateText]: [This.GetName]: focus NKO_Appoint_Loyalists executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Civilian_Control_of_the_Economy
        icon = generic_banks

        x = -3
        y = 7
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Assassinate_Kim_Jong-Nam }
        prerequisite = { focus = NKO_Formalize_Power_Structures }
        prerequisite = { focus = NKO_Root_out_Corruption }

		available = {
			OR = { has_idea = NKO_the_private_markets
                has_idea = NKO_the_black_market }
		}
        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Civilian_Control_of_the_Economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Party_State_Army
        icon = communism9

        x = -4
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Civilian_Control_of_the_Economy }
        prerequisite = { focus = NKO_Appoint_Loyalists }
		mutually_exclusive = {
			focus = NKO_Party_Unchecked
		}

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = closed_nation
                add_idea = censored_nation_05
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Party_State_Army executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Party_Unchecked
        icon = juche

        x = 0
        y = 8
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 10
        prerequisite = { focus = NKO_Civilian_Control_of_the_Economy }
        prerequisite = { focus = NKO_Appoint_Loyalists }
		mutually_exclusive = {
			focus = NKO_Party_State_Army
		}

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_political_power = 100
            add_stability = 0.05
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Party_Unchecked executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Eternal_Juche_sasang
        icon = juche4

        x = -2
        y = 9
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 15
        prerequisite = { focus = NKO_Party_State_Army focus = NKO_Party_Unchecked }
		mutually_exclusive = {
            focus = NKO_The_Choson_Dream
            focus = NKO_Democracy_with_North_Characteristics
		}

        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            add_ideas = Juche_sasang
          log = "[GetDateText]: [This.GetName]: focus NKO_Eternal_Juche_sasang executed"
        }

        ai_will_do = {
        	base = 1
        }
    }


	focus = {
        id = NKO_Kim_Jong_Nam
        icon = Kim_Jong_nam

        x = -14
        y = 1
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_il_Death }
        mutually_exclusive = { focus = NKO_Junta focus = NKO_Kim_Jong_un }

		available = {
			always = no
		}
        search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

        completion_reward = {
            news_event = kim_jong_il_death.4
			create_country_leader = {
				name = "Kim Jong-nam"
				picture = "Kim Jong-nam.dds"
				ideology = Communist-State
				traits = {
					emerging_Communist-State
					rash
					pro_china
				}
			}
            add_timed_idea = { idea = Fallout_leadership_succession days = 365 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Kim_Jong_Nam executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Face_world
        icon = global_community

        x = -2
        y = 1
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_Nam }


		available = {
		}
        search_filters = {FOCUS_FILTER_FOREIGN_POLICY}

        completion_reward = {
			every_other_country = {
				add_opinion_modifier = {
					target = NKO
					modifier = friendship
				}
			}

          log = "[GetDateText]: [This.GetName]: focus NKO_Face_world executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Conciliatory_Rhetoric
        icon = intelligence_exchange

        x = -2
        y = 2
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Face_world }

		available = {
		}
        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = Massive_International_Sanctions }
            swap_ideas = {
                remove_idea = Massive_International_Sanctions
                add_idea = Reduced_Western_Sanctions
                }
            }
            if = {
                limit = { has_idea = international_sanctions }
            	swap_ideas = {
					remove_idea = international_sanctions
                	add_idea = Reduced_Western_Sanctions
				}
            }
            if = {
                limit = { has_idea = Western_Sanctions }
				swap_ideas = {
					remove_idea = Western_Sanctions
					add_idea = Reduced_Western_Sanctions
				}
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Conciliatory_Rhetoric executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Diplomatic_Overtures
        icon = tripartite_pact

        x = -2
        y = 3
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Conciliatory_Rhetoric }

		available = {
		}
        search_filters = {FOCUS_FILTER_FOREIGN_POLICY}

        completion_reward = {
			every_other_country = {
				add_opinion_modifier = {
					target = NKO
					modifier = stage_peaceful
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Diplomatic_Overtures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_step_up_joint_Ventures
        icon = treaty2

        x = -2
        y = 4
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Diplomatic_Overtures }

		available = {
		}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			set_temp_variable = { treasury_change = 15 }
			modify_treasury_effect = yes
            add_offsite_building = { type = industrial_complex level = 3 }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_step_up_joint_Ventures executed"
        }

        ai_will_do = {
        	base = 1
        }
    }
	focus = {
        id = NKO_Embrace_the_people
        icon = communism5

        x = 2
        y = 1
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_Nam }


		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = closed_nation
                add_idea = censored_nation_05
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Embrace_the_people executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Loosen_Information_monopoly
        icon = liberal_press

        x = 2
        y = 2
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Embrace_the_people }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_05
                add_idea = censored_nation_04
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_Loosen_Information_monopoly executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Tone_Down_Propaganda
        icon = propaganda

        x = 2
        y = 3
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Loosen_Information_monopoly }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_04
                add_idea = censored_nation_03
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Tone_Down_Propaganda executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_forced_Labor
        icon = pro_immigration2

        x = 2
        y = 4
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Tone_Down_Propaganda }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.10
            remove_ideas = Fallout_leadership_succession
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_End_forced_Labor executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Expand_SEZs
        icon = market_socialism

        x = -3
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        allow_branch = { has_completed_focus = NKO_step_up_joint_Ventures has_completed_focus = NKO_End_forced_Labor }

		available = {
			custom_trigger_tooltip = {
				tooltip = NKO_CHI_PROPOSE_TRADE_AGREEMENT_TOOLTIP
                ROOT = { has_country_flag = trade_agreementCHI }
			}
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            increase_Free_Market_Economy = yes
            remove_ideas = Reduced_Western_Sanctions
          log = "[GetDateText]: [This.GetName]: focus NKO_Expand_SEZs executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_End_Juche
        icon = juche3

        x = -3
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Expand_SEZs }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            increase_Free_Market_Economy = YES
          log = "[GetDateText]: [This.GetName]: focus NKO_End_Juche executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Foreign_Knowledge
        icon = examine_foreign_science

        x = -3
        y = 7
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_End_Juche }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
          log = "[GetDateText]: [This.GetName]: focus NKO_Foreign_Knowledge executed"
          add_ideas = NKO_foreign_knowhow
        }

        ai_will_do = {
        	base = 1
        }
    }
	focus = {
        id = NKO_Join_the_WTO
        icon = wto

        x = -3
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Foreign_Knowledge }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_TRADE}

        completion_reward = {
			if = {
				limit = { has_start_date < 2020.01.01 }
				add_timed_idea = {
					idea = recently_acceded_to_wto
					days = 365
				}
                increase_Free_Market_Economy = YES
			}
			every_country = {
				news_event = { id = korea_north.2 }
			}
            if = {
                limit = {
                    has_idea = NKO_the_private_markets
                }
                remove_ideas = NKO_the_private_markets
            }
            if = {
                limit = {
                    has_idea = NKO_the_black_market
                }
                remove_ideas = NKO_the_black_market
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Join_the_WTO executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Preserve_the_Party
        icon = communism10

        x = -1
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        mutually_exclusive = { focus = NKO_People_before_Party }

		available = {
		}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }

          log = "[GetDateText]: [This.GetName]: focus NKO_Preserve_the_Party executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Appeal_to_the_Youth
        icon = national_unity_red

        x = -1
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Preserve_the_Party }

		available = {
		}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Appeal_to_the_Youth executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Choson_Dream
        icon = Choson_Dream

        x = -1
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Appeal_to_the_Youth focus = NKO_Free_Expression focus = NKO_Party_State_Army }
		mutually_exclusive = {
			focus = NKO_Eternal_Juche_sasang
            focus = NKO_Democracy_with_North_Characteristics
		}
		available = {
		}
        search_filters = {}

        completion_reward = {
            add_ideas = Choson_Dream
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Choson_Dream executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_People_before_Party
        icon = democracy

        x = 2
        y = 5
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_End_forced_Labor }
        prerequisite = { focus = NKO_step_up_joint_Ventures }
        mutually_exclusive = { focus = NKO_Preserve_the_Party }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_stability = 0.05
          log = "[GetDateText]: [This.GetName]: focus NKO_People_before_Party executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Elections
        icon = democracy6

        x = 2
        y = 6
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_People_before_Party }

		available = {
		}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			if = {
				limit = { has_government = communism }
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = democratic }
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = neutrality }
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			}
			else_if = {
				limit = { has_government = nationalist }
				set_politics = {
					ruling_party = nationalist
					elections_allowed = yes
				}
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.03
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			recalculate_party = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Elections executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Free_Expression
        icon = social_media

        x = 2
        y = 7
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Elections }

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_03
                add_idea = censored_nation_02
            }
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Free_Expression executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Democracy_with_North_Characteristics
        icon = blue_democracy

        x = 2
        y = 8
        relative_position_id = NKO_Kim_Jong_Nam
        cost = 5
        prerequisite = { focus = NKO_Free_Expression }
		mutually_exclusive = {
			focus = NKO_Eternal_Juche_sasang
            focus = NKO_The_Choson_Dream
		}

		available = {
		}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            swap_ideas = {
                remove_idea = censored_nation_02
                add_idea = open_nation_01
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Democracy_with_North_Characteristics executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Byungjin
        icon = national_unity_red

        x = -8
        y = 2
        relative_position_id = NKO_Kim_Jong_il_Death
        cost = 5
        prerequisite = { focus = NKO_Kim_Jong_Nam focus = NKO_Kim_Jong_un }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_ideas = NKO_government_refroms
          log = "[GetDateText]: [This.GetName]: focus NKO_Byungjin executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Scale_Back_Spending
        icon = anti_establishment

        x = -1
        y = 1
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Byungjin }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -200
            swap_ideas = {
                remove_idea = NKO_government_refroms
                add_idea = NKO_government_refroms1
              }
			set_temp_variable = { treasury_change = 20 }
			modify_treasury_effect = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Scale_Back_Spending executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_Consumption
        icon = economic_prosperity2

        x = -1
        y = 2
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Scale_Back_Spending }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_Consumption executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Loosen_Grip_on_SOEs
        icon = market_economy

        x = -1
        y = 3
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Encourage_Consumption }
        prerequisite = { focus = NKO_Resorts_and_Tourism }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_political_power = -100
            swap_ideas = {
                remove_idea = NKO_government_refroms1
                add_idea = NKO_government_refroms2
              }
            log = "[GetDateText]: [This.GetName]: focus NKO_Loosen_Grip_on_SOEs executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_State_owned_Enterprises_Competition
        icon = industry_democratic3

        x = 1
        y = 1
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Byungjin }

		available = {
		}
        search_filters = {}

        completion_reward = {
            add_political_power = -100
			set_temp_variable = { treasury_change = -15 }
			modify_treasury_effect = yes
            random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            log = "[GetDateText]: [This.GetName]: focus NKO_State_owned_Enterprises_Competition executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Resorts_and_Tourism
        icon = play_our_hand

        x = 1
        y = 2
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_State_owned_Enterprises_Competition }

		available = {
		}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			set_temp_variable = { treasury_change = -36 }
			modify_treasury_effect = yes
			random_owned_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = offices
					level = 3
					instant_build = yes
				}
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_Resorts_and_Tourism executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Samjiyon
        icon = kim_il_sung

        x = 1
        y = 3
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Resorts_and_Tourism }
        prerequisite = { focus = NKO_Encourage_Consumption }

		available = {
		}
        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
			set_temp_variable = { treasury_change = -2 }
			modify_treasury_effect = yes
            add_popularity = {
                ideology = communism
                popularity = 0.10
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Samjiyon executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Incentive-Based_Economy
        icon = decentralized_economy

        x = 0
        y = 4
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Samjiyon }
        prerequisite = { focus = NKO_Loosen_Grip_on_SOEs }

		available = {
		}
        search_filters = {}

        completion_reward = {
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Incentive-Based_Economy executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Empower_the_Donju
        icon = maritime_trade

        x = -2
        y = 5
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Incentive-Based_Economy }
        mutually_exclusive = { focus = NKO_Weaken_the_Donju }

		available = {
		}
        search_filters = {FOCUS_FILTER_INTERNAL_FACTION}

        completion_reward = {
			set_temp_variable = { temp_opinion = 5 }
			change_the_donju_opinion = yes
            add_political_power = -100
            increase_Free_Market_Economy = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Empower_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Weaken_the_Donju
        icon = communist_purge

        x = 2
        y = 5
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Incentive-Based_Economy }
        mutually_exclusive = { focus = NKO_Empower_the_Donju }

		available = {
		}
        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_STABILITY}

        completion_reward = {
			set_temp_variable = { temp_opinion = -5 }
			change_the_donju_opinion = yes
            add_stability = 0.06
          log = "[GetDateText]: [This.GetName]: focus NKO_Weaken_the_Donju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Protect_State_Owned_Businness
        icon = protectionist_economics

        x = 2
        y = 6
        relative_position_id = NKO_Byungjin
        cost = 5
        prerequisite = { focus = NKO_Weaken_the_Donju focus = NKO_Empower_the_Donju }
        mutually_exclusive = { focus = NKO_Encourage_Foreign_Investment }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_political_power = 150
            add_stability = 0.1
          log = "[GetDateText]: [This.GetName]: focus NKO_Protect_State_Owned_Businness executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Encourage_Foreign_Investment
        icon = trade_with_north_korea

        x = -2
        y = 6
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Weaken_the_Donju focus = NKO_Empower_the_Donju }
        mutually_exclusive = { focus = NKO_Protect_State_Owned_Businness }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_political_power = -150
            add_stability = -0.05
            add_timed_idea = {
                idea = CHI_foreign_investment
                days = 120
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Encourage_Foreign_Investment executed"
        }

        ai_will_do = {
        	base = 1
        }
    }


	focus = {
        id = NKO_Privatize_Means_of_Production
        icon = industry_united_states

        x = 0
        y = 8
        relative_position_id = NKO_Byungjin
        cost = 10
        prerequisite = { focus = NKO_Protect_State_Owned_Businness focus = NKO_Encourage_Foreign_Investment }

		available = {
		}
        search_filters = {}

        completion_reward = {
            if = {
                limit = { has_idea = Free_Market_Economy }
                remove_ideas = Free_Market_Economy
            }
            else = {
                increase_Free_Market_Economy = yes
            }
            if = {
                limit = {
                    has_idea = NKO_the_private_markets
                }
                remove_ideas = NKO_the_private_markets
            }
            if = {
                limit = {
                    has_idea = NKO_the_black_market
                }
                remove_ideas = NKO_the_black_market
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Privatize_Means_of_Production executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_38th_Parallel
        icon = two_korea

        x = 47
        y = 0
        cost = 5

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}

        completion_reward = {
            add_political_power = 50

          log = "[GetDateText]: [This.GetName]: focus NKO_The_38th_Parallel executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Road_to_Peace
        icon = peace

        x = -2
        y = 1
        relative_position_id = NKO_The_38th_Parallel
        cost = 10
        available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
			KOR = {
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
        }


        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_STABILITY}
        prerequisite = { focus = NKO_The_38th_Parallel }

        completion_reward = {
            add_stability = 0.02
            add_war_support = -0.02
			set_temp_variable = { temp_opinion = -5 }
			change_the_military_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
		change_communist_cadres_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Road_to_Peace executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				add = 5
				KOR = {
					has_completed_focus = KOR_sunshine_policy
				}
			}
        }
    }

	focus = {
        id = NKO_cross_border_initiatives
        icon = pro_immigration1

        x = 1
        y = 1
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_The_Road_to_Peace }

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -101
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
        }

        completion_reward = {
        	KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = political_outreach
				}
				support_for_reunification_1 = yes
				add_war_support = -0.01
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_cross_border_initiatives executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				add = 5
				KOR = {
					has_completed_focus = KOR_joint_development
				}
			}
        }
    }

	focus = {
        id = NKO_cease_propaganda_broadcasts
        icon = national_unity

        x = 1
        y = 2
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_cross_border_initiatives }

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -76
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
        }

        completion_reward = {
			KOR = {
				remove_ideas = KOR_northern_propaganda_broadcasts
				remove_opinion_modifier = {
					target = NKO
					modifier = propaganda_broadcasts
				}
				support_for_reunification_2 = yes
				add_war_support = -0.02
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_cease_propaganda_broadcasts executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 10
				NOT = {
					has_idea = NKO_southern_propaganda_broadcasts
				}
			}
        }
    }

	focus = {
        id = NKO_invite_the_president
        icon = align_to_south_korea

        x = -1
        y = 1
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_The_Road_to_Peace }

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -101
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
        }

        completion_reward = {
        	KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = political_outreach
				}
				support_for_reunification_1 = yes
				add_war_support = -0.01
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_invite_the_president executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_invite_southern_performers
        icon = film_industry2

        x = -1
        y = 2
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_invite_the_president }

        available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -76
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
        }

        completion_reward = {
			add_opinion_modifier = {
				target = KOR
				modifier = cultural_exchange
			}
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = cultural_exchange
				}
				support_for_reunification_2 = yes
				add_war_support = -0.02
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_invite_southern_performers executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				add = 5
				KOR = {
					has_completed_focus = KOR_sporting_events
				}
			}
        }
    }

	focus = {
        id = NKO_stress_historical_bonds
        icon = concessions

        x = 0
        y = 3
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_invite_southern_performers }
        prerequisite = { focus = NKO_cease_propaganda_broadcasts }

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
        }

        completion_reward = {
			add_opinion_modifier = {
				target = KOR
				modifier = diplomatic_proximity
			}
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = diplomatic_proximity
				}
				support_for_reunification_2 = yes
				add_war_support = -0.02
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_stress_historical_bonds executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_offer_negotiations
        icon = DPRK-ROK_shake_flags

        x = 0
        y = 4
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_stress_historical_bonds }
		mutually_exclusive = { focus = NKO_all_out_war }
		mutually_exclusive = { focus = NKO_foment_insurrection }

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -51
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
        }

		completion_reward = {
			every_country = {
				news_event = {
					id = korea.6
				}
			}
			custom_effect_tooltip = negotiation_result_tt
			hidden_effect = {
				KOR = {
					country_event = {
						id = korea.33
						days = 30
					}
				}
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_offer_negotiations executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_propose_north_led_unification
        icon = juche

        x = -1
        y = 5
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_offer_negotiations }
		mutually_exclusive = { focus = NKO_propose_unity_government }

        available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -26
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt
				NOT = { has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire }
			}
        }

		completion_reward = {
			set_country_flag = NKO_proposed_north_reunification
			custom_effect_tooltip = negotiation_result_tt
			hidden_effect = {
				KOR = {
					country_event = {
						id = korea.34
						days = 30
					}
				}
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_propose_north_led_unification executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_propose_unity_government
        icon = neutrality

        x = 1
        y = 5
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_offer_negotiations }
		mutually_exclusive = { focus = NKO_propose_north_led_unification }

        available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -26
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt
				NOT = { has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire }
			}
        }

		completion_reward = {
			set_country_flag = NKO_proposed_unity_reunification
			custom_effect_tooltip = negotiation_result_tt
			hidden_effect = {
				KOR = {
					country_event = {
						id = korea.34
						days = 30
					}
				}
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_propose_unity_government executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_pave_the_way_for_reunification
        icon = legislation

        x = 0
        y = 6
        relative_position_id = NKO_The_Road_to_Peace
        cost = 10

		available = {
            NOT = { has_war_with = KOR }
			country_exists = KOR
			KOR = {
				has_opinion = {
					target = NKO
					value > -1
				}
				custom_trigger_tooltip = {
					tooltip = NKO_KOR_hostile_action_tt
					NOT = { has_opinion_modifier = recent_actions_negative }
				}
			}
			OR = {
				KOR = { KOR_has_progressive_government = yes }
				KOR = {
					custom_trigger_tooltip = {
						tooltip = KOR_democratic_party_governing_tt
						is_in_array = { ruling_party = 3  }
					}
				}
				NKO = { has_government = democratic }
				NKO = { has_government = neutrality }
			}
			KOR = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = KOR_agreed_NKO_led_reunification_tt
						has_country_flag = KOR_agreed_NKO_led_reunification
					}
					custom_trigger_tooltip = {
						tooltip = NKO_agreed_neutral_reunification_tt
						has_country_flag = KOR_agreed_neutral_reunification
					}
				}
			}
        }

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_propose_unity_government focus = NKO_propose_north_led_unification }

        completion_reward = {
			annex_country = {
				target = KOR
				transfer_troops = yes
			}
			add_ideas = KOR_reunification_shocks
			add_ideas = KOR_divided_military
			add_ideas = KOR_mass_migration
			add_ideas = KOR_fragmented_governance
			add_ideas = KOR_uneven_economy
			decrease_economic_growth = yes
            set_country_flag = korea_peninsula_reunited
			log = "[GetDateText]: [This.GetName]: focus NKO_pave_the_way_for_reunification executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_The_Road_to_War
        icon = The_road_to_war

        x = 2
        y = 1
        relative_position_id = NKO_The_38th_Parallel
        cost = 10
        available = {
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt1
				has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire
			}
        }

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_WAR_SUPPORT}
        prerequisite = { focus = NKO_The_38th_Parallel }

        completion_reward = {
            add_war_support = 0.02
            add_stability = -0.02
			set_temp_variable = { temp_opinion = -5 }
			change_the_donju_opinion = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_The_Road_to_War executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_threaten_the_south
        icon = aggressive_diplomacy

        x = -1
        y = 1
        relative_position_id = NKO_The_Road_to_War
        cost = 10

		available = {
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt1
				has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire
			}
        }

		bypass = {
			OR = {
				NOT = { country_exists = KOR }
				has_war_with = KOR
			}
		}

        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_POLITICAL}
        prerequisite = { focus = NKO_The_Road_to_War }

        completion_reward = {
			add_political_power = 150
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.02
				support_for_reunification_2_less = yes
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_threaten_the_south executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_shut_down_communications
        icon = anti_immigration1

        x = -1
        y = 2
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_WAR_SUPPORT}
        prerequisite = { focus = NKO_threaten_the_south }

        available = {
			custom_trigger_tooltip = {
				tooltip = NKO_KOR_Koren_War_Ceasefire_tt1
				has_opinion_modifier = NKO_KOR_Koren_War_Ceasefire
			}
        }

		bypass = {
			OR = {
				NOT = { country_exists = KOR }
				has_war_with = KOR
			}
		}

        completion_reward = {
			add_war_support = 0.05
			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.02
				support_for_reunification_2_less = yes
			}
          log = "[GetDateText]: [This.GetName]: focus NKO_shut_down_communications executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_accelerate_testing
        icon = nuclear_bomb

        x = 1
        y = 1
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}
        prerequisite = { focus = NKO_The_Road_to_War }

        completion_reward = {
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.02
				support_for_reunification_2_less = yes
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_accelerate_testing executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_end_six-party_negotiations
        icon = rocketry

        x = 1
        y = 2
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA FOCUS_FILTER_KOREAN_NUCLEAR_ISSUE}
        prerequisite = { focus = NKO_accelerate_testing }

        completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						tag = KOR
						tag = JAP
						tag = USA
					}
				}
				add_opinion_modifier = {
					target = NKO
					modifier = imminent_danger_to_national_security
				}
			}
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.02
				support_for_reunification_2_less = yes
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_end_six-party_negotiations executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_remilitarize_the_DMZ
        icon = military_fort2

        x = 0
        y = 3
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_end_six-party_negotiations }
        prerequisite = { focus = NKO_shut_down_communications }

		bypass = {
			has_war_with = KOR
		}

        completion_reward = {
        	add_timed_idea = {
				idea = NKO_DMZ_remilitarized
				days = 720
			}
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = imminent_danger_to_national_security
				}
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.05
				support_for_reunification_5_less = yes
			}
			log = "[GetDateText]: [This.GetName]: focus NKO_remilitarize_the_DMZ executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_all_out_war
        icon = border_war

        x = -1
        y = 4
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        available = {
            OR = {
                has_government = communism
                has_government = nationalist
            }
            country_exists = KOR
            has_war_support > 0.5
        }

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_remilitarize_the_DMZ }
        mutually_exclusive = { focus = NKO_foment_insurrection }
		mutually_exclusive = { focus = NKO_offer_negotiations }

		bypass = { has_war_with = KOR }

        completion_reward = {
            USA = {
                country_event = korea_north.1
            }
			KOR = {
				add_opinion_modifier = {
					target = NKO
					modifier = recent_actions_negative
				}
				add_war_support = 0.05
				support_for_reunification_5_less = yes
			}
			create_wargoal = {
				type = annex_everything
				target = KOR
			}
          log = "[GetDateText]: [This.GetName]: NKO_all_out_war executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 0
				KOR = { is_guaranteed_by = USA }
			}
        }
    }

	focus = {
        id = NKO_revenge_on_japan
        icon = war_against_japan

        x = -1
        y = 5
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_all_out_war }

		bypass = { has_war_with = JAP }

        completion_reward = {
        	create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			}
			log = "[GetDateText]: [This.GetName]: NKO_revenge_on_japan executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
        }
    }

	focus = {
        id = NKO_strike_washington
        icon = war_against_the_united_states

        x = -1
        y = 6
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_revenge_on_japan }

		bypass = {
			has_war_with = USA
		}

        completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = USA
			}
			log = "[GetDateText]: [This.GetName]: NKO_strike_washington executed"
        }

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
        }
    }

	focus = {
        id = NKO_foment_insurrection
        icon = masters_of_our_own_fate

        x = 1
        y = 4
        relative_position_id = NKO_The_Road_to_War
        cost = 10

        available = {
            has_government = communism
            country_exists = KOR
            KOR = {
				OR = {
					has_government = democratic
					has_government = nationalist
					has_government = neutrality
				}
				OR = {
					has_stability < 0.5
					communism > 0.5
				}
            }
        }

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_remilitarize_the_DMZ }
        mutually_exclusive = { focus = NKO_all_out_war }
		mutually_exclusive = { focus = NKO_offer_negotiations }


        completion_reward = {
            USA = {
                country_event = korea_north.1
            }
			KOR = {
				if = {
					limit = {
						has_stability < 0.25
						democratic > 0.75
					}
					start_civil_war = {
						ideology = communism
						size = 0.7
					}
				}
				else_if = {
					limit = {
						has_stability < 0.4
						democratic > 0.6
					}
					start_civil_war = {
						ideology = communism
						size = 0.6
					}
				}
				else_if = {
					limit = {
						has_stability < 0.5
						democratic > 0.5
					}
					start_civil_war = {
						ideology = communism
						size = 0.5
					}
				}
				else_if = {
					limit = {
						OR = {
							has_stability < 0.5
							democratic > 0.5
						}
					}
					start_civil_war = {
						ideology = communism
						size = 0.4
					}
				}
			}
          log = "[GetDateText]: [This.GetName]: NKO_foment_insurrection executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_send_support
        icon = volunteers

        x = 1
        y = 5
        relative_position_id = NKO_The_Road_to_War
        cost = 10

		available = {
            KOR = {
			    has_civil_war = yes
            }
		}

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_foment_insurrection }

        completion_reward = {
            add_ideas = NKO_idea_send_support
          log = "[GetDateText]: [This.GetName]: NKO_send_support executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_assert_control
        icon = war4

        x = 1
        y = 6
        relative_position_id = NKO_The_Road_to_War
        cost = 10

		available = {
            KOR = {
			    has_civil_war = yes
            }
		}

        search_filters = {FOCUS_FILTER_KOREAN_PENINSULA}
        prerequisite = { focus = NKO_send_support }

        completion_reward = {
            remove_ideas = NKO_idea_send_support
			random_country = {
				limit = {
					original_tag = KOR
					NOT = { tag = KOR }
				}
				NKO = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
					declare_war_on = {
						target = KOR
						type = annex_everything
					}
				}
			}
          log = "[GetDateText]: [This.GetName]: NKO_assert_control executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

    focus = {
        id = NKO_Economy_Revival
        icon = coins

        x = 13
        y = 0
        cost = 10
        available = { has_completed_focus = NKO_Great_Victory }


        search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_political_power = 150
			set_temp_variable = { treasury_change = gdp_total_display }
			multiply_temp_variable = { treasury_change = 0.02 }
			modify_treasury_effect = yes
			log = "[GetDateText]: [This.GetName]: focus NKO_Economy_Revival executed"
		}

        ai_will_do = {
        	base = 1
			modifier = {
				factor = 6
				date < 2001.1.1
			}
        }
    }

	focus = {
        id = NKO_Priorit_for_Civilian_Industry
        icon = industry_civilian

        x = -3
        y = 1
        relative_position_id = NKO_Economy_Revival
        cost = 15
        prerequisite = { focus = NKO_Economy_Revival }
        mutually_exclusive = { focus = NKO_Priorit_for_Army_Industry }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = { idea = NKO_Revival_Industry1 days = 720 }
          log = "[GetDateText]: [This.GetName]: focus NKO_Priorit_for_Civilian_Industry executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Priorit_for_Army_Industry
        icon = industry_military

        x = 3
        y = 1
        relative_position_id = NKO_Economy_Revival
        cost = 15
        prerequisite = { focus = NKO_Economy_Revival }
        mutually_exclusive = { focus = NKO_Priorit_for_Civilian_Industry }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
			add_timed_idea = { idea = NKO_Revival_Industry2 days = 720 }
			log = "[GetDateText]: [This.GetName]: focus NKO_Priorit_for_Army_Industry executed"
		}

        ai_will_do = {
        	base = 0
        }
    }

	focus = {
        id = NKO_Sinuiju
        icon = Sinuiju

        x = -3
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Priorit_for_Civilian_Industry focus = NKO_Priorit_for_Army_Industry }

		available = {
		}
        search_filters = {}

        completion_reward = {
			set_temp_variable = { treasury_change = -22.5 }
			modify_treasury_effect = yes
			603 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Sinuiju executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Arms_Trafficking
        icon = small_arms2

        x = 3
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Priorit_for_Civilian_Industry focus = NKO_Priorit_for_Army_Industry }

		available = {
            has_equipment = {
                infantry_weapons1 > 49999
            }
		}
        search_filters = {FOCUS_FILTER_EQUIPMENT}

        completion_reward = {
			set_temp_variable = { treasury_change = 12 }
			modify_treasury_effect = yes
				add_equipment_to_stockpile = {
					type = infantry_weapons1
					amount = -50000
					producer = NKO
				}
            mark_focus_tree_layout_dirty = yes
          log = "[GetDateText]: [This.GetName]: focus NKO_Arms_Trafficking executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Recognition_of_Economic_Backwardness
        icon = better_money

        x = 0
        y = 2
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Priorit_for_Army_Industry focus = NKO_Priorit_for_Civilian_Industry }

		available = {
		}
        search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			add_stability = -0.05
			add_political_power = -150
            add_timed_idea = { idea = NKO_economic_reforms days = 180 }
			mark_focus_tree_layout_dirty = yes
			log = "[GetDateText]: [This.GetName]: focus NKO_Recognition_of_Economic_Backwardness executed"
		}

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_2009_Revaluation
        icon = better_money_on_fire

        x = 0
        y = 3
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Recognition_of_Economic_Backwardness }
        prerequisite = { focus = NKO_Arms_Trafficking }
        prerequisite = { focus = NKO_Sinuiju }

		available = {
            date > 2009.09.01
		}
        search_filters = {}

        completion_reward = {
            country_event = korea_north.3
          log = "[GetDateText]: [This.GetName]: focus NKO_2009_Revaluation executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Revaluation_Success
        icon = economic_prosperity

        x = -2
        y = 4
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_2009_Revaluation }
        mutually_exclusive = { focus = NKO_Revaluation_Failure }

		available = {
            always = no
		}
        search_filters = {}

        completion_reward = {
            custom_effect_tooltip = NKO_reform_opening_up_tt
            log = "[GetDateText]: [This.GetName]: focus NKO_Revaluation_Success executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Revaluation_Failure
        icon = money_on_fire

        x = 2
        y = 4
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_2009_Revaluation }
        mutually_exclusive = { focus = NKO_Revaluation_Success }

		available = {
            always = no
		}
        search_filters = {}

        completion_reward = {
          log = "[GetDateText]: [This.GetName]: focus NKO_Revaluation_Failure executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Air_Koryo
        icon = modern_bomber

        x = -2
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
			    set_temp_variable = { treasury_change = -6 }
				modify_treasury_effect = yes
            }
            if = {
                limit = { has_country_flag = Revaluation_Failure }
			    set_temp_variable = { treasury_change = -11.25 }
				modify_treasury_effect = yes
            }
            602 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            603 = {
                add_building_construction = {
                    type = air_base
                    level = 3
                    instant_build = yes
                }
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Air_Koryo executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Reform_of_the_Privatisation_of_Collective_Farms
        icon = agriculture2

        x = 4
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
                add_stability = 0.10
                add_political_power = -50
            }
            if = {
                limit = { has_country_flag = Revaluation_Failure }
                add_stability = 0.04
                add_political_power = -100
            }
          log = "[GetDateText]: [This.GetName]: focus NKO_Reform_of_the_Privatisation_of_Collective_Farms executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Construction_of_Hydraulic_Facilities
        icon = water_conservation

        x = -4
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Success }
					set_temp_variable = { treasury_change = -12 }
					modify_treasury_effect = yes
            		603 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            		602 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            		601 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 4
            		        instant_build = yes
            		    }
            		}
            	}
            if = {
                limit = { has_country_flag = Revaluation_Failure }
					set_temp_variable = { treasury_change = -20 }
					modify_treasury_effect = yes
            		603 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            		602 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            		601 = {
            		    add_building_construction = {
            		        type = infrastructure
            		        level = 2
            		        instant_build = yes
            		    }
            		}
            	}
          log = "[GetDateText]: [This.GetName]: focus NKO_Construction_of_Hydraulic_Facilities executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Free_Housing
        icon = house

        x = 2
        y = 5
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = { has_country_flag = Revaluation_Failure }
					set_temp_variable = { treasury_change = -6 }
					modify_treasury_effect = yes
                    603 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 3
                            instant_build = yes
                        }
                    }
                    601 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                            }
                        }
                    random_owned_state = {
                        add_extra_state_shared_building_slots = 2
                        add_building_construction = {
                                type = industrial_complex
                                level = 2
                                instant_build = yes
                            }
                        }
                    }
            if = {
                limit = { has_country_flag = Revaluation_Success }
					set_temp_variable = { treasury_change = -3 }
					modify_treasury_effect = yes
                    603 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 3
                            instant_build = yes
                        }
                    }
                    601 = {
                        add_building_construction = {
                            type = infrastructure
                            level = 1
                            instant_build = yes
                        }
                    }
                    random_owned_state = {
                        add_extra_state_shared_building_slots = 2
                        add_building_construction = {
                                type = industrial_complex
                                level = 2
                                instant_build = yes
                            }
                        }
                    }
			log = "[GetDateText]: [This.GetName]: focus NKO_Free_Housing executed"
        }


        ai_will_do = {
        	base = 1
        }
	}

	focus = {
        id = NKO_Exporting_Workforce
        icon = maritime_trade

        x = 1
        y = 6
        relative_position_id = NKO_Economy_Revival
        cost = 10
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_manpower = -30000
            CHI = {
                add_manpower = 6000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 1800
                }
            }
            GER = {
                add_manpower = 5000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 1825
                }
            }
            SOV = {
                add_manpower = 3000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 1825
                }
            }
            FRA = {
                add_manpower = 4000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 3650
                }
            }
            JAP = {
                add_manpower = 6000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 3650
                }
            }
            POL = {
                add_manpower = 6000
                add_timed_idea = {
                    idea = DPRK_Exporting_Workforce2
                    days = 1825
                }
            }
            add_ideas = DPRK_Exporting_Workforce
        log = "[GetDateText]: [This.GetName]: focus NKO_Exporting_Workforce executed"
        }

        ai_will_do = {
        	base = 1
        }
    }

	focus = {
        id = NKO_Expand_Compulsory_Education
        icon = free_higher_education

        x = -1
        y = 6
        relative_position_id = NKO_Economy_Revival
        cost = 15
        prerequisite = { focus = NKO_Revaluation_Failure focus = NKO_Revaluation_Success }

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_ideas = NKO_expand_education
            if = {
                limit = { has_idea = edu_01 }
                swap_ideas = {
                    remove_idea = edu_01
                    add_idea = edu_04
                }
            }
            if = {
                limit = { has_idea = edu_02 }
                swap_ideas = {
                    remove_idea = edu_02
                    add_idea = edu_04
                }
            }
            if = {
                limit = { has_idea = edu_03 }
                swap_ideas = {
                    remove_idea = edu_03
                    add_idea = edu_04
                }
            }
            else_if = {
                limit = { OR = { has_idea = edu_04 has_idea = edu_05 } }
                add_political_power = 50
            }
        log = "[GetDateText]: [This.GetName]: focus NKO_Exporting_Workforce executed"
        }


        ai_will_do = {
        	base = 1
        }
    }

	shared_focus = KOR_korea_reunified
}
