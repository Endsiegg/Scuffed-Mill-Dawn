### President of the European Federation ###
shared_focus = {
	id = POTEF001
	icon = align_to_europe
	relative_position_id = USoE001
	x = 28
	y = 0
	cost = 10
	search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_POLITICAL }
	available = {
		custom_trigger_tooltip = {
			tooltip = requires_potef_tt
			is_in_array = { array = global.EU_passed_votes value = 112 }
		}
	}

	# Allow to Make the Tree Visible
	allow_branch = {
		OR = {
			original_tag = AUS
			original_tag = BEL
			original_tag = DEN
			original_tag = ENG
			original_tag = FIN
			original_tag = FRA
			original_tag = GER
			original_tag = GRE
			original_tag = HOL
			original_tag = IRE
			original_tag = ITA
			original_tag = BOS
			original_tag = LUX
			original_tag = POR
			original_tag = SPR
			original_tag = SWE
			original_tag = BUL
			original_tag = CRO
			original_tag = CYP
			original_tag = CZE
			original_tag = EST
			original_tag = HUN
			original_tag = LAT
			original_tag = LIC
			original_tag = LIT
			original_tag = MLT
			original_tag = POL
			original_tag = ROM
			original_tag = SLO
			original_tag = SLV
			original_tag = ALB
			original_tag = ARM
			original_tag = AZE
			original_tag = BLR
			original_tag = BOS
			original_tag = CAT
			original_tag = CRE
			original_tag = FYR
			original_tag = GEO
			original_tag = ICE
			original_tag = KOS
			original_tag = MLV
			original_tag = MNT
			original_tag = NOR
			original_tag = SCL
			original_tag = SCO
			original_tag = SER
			original_tag = SMA
			original_tag = SWI
			original_tag = TUR
			original_tag = UKR
			original_tag = VOJ
			original_tag = WAS
		}
		NOT = { has_global_flag = GAME_RULE_eu_disabled }
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF001"
		add_political_power = 150
	}

	ai_will_do = {
		factor = 1
	}
}
### Alpine Doctrine ###
shared_focus = {
	id = POTEF100
	icon = POTEF100
	relative_position_id = POTEF001
	x = -3
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF100 } }
	available = {
		has_idea = EU_president
		EU_member_is_alpine = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF100"
		hidden_effect = {
			if = { limit = { POTEF_is_alpine = yes }
				every_country = {
					limit = { has_idea = EU_member }
					remove_ideas = EU_mountain_warfare
					add_ideas = EU_extensive_mountain_warfare
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = EU_mountain_warfare
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_alpine
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = EU_extensive_mountain_warfare
				remove_ideas = EU_mountain_warfare
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}
### The Integrity of Creation ###
shared_focus = {
	id = POTEF101
	icon = global_community
	#icon = POTEF101
	relative_position_id = POTEF100
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF100 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF101 } }
	available = {
		has_idea = EU_president
		EU_member_is_alpine = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF101"
		hidden_effect = {
			if = { limit = { POTEF_is_alpine = yes }
				every_country = {
					limit = { has_idea = EU_member }
					random_controlled_state = {
						limit = {
							free_building_slots = {
								building = synthetic_refinery
								size > 0
							}
						}
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_integrity_of_creation
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_alpine
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				random_controlled_state = {
					limit = {
						free_building_slots = {
							building = synthetic_refinery
							size > 0
						}
					}
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Environmental Imperialism ###
shared_focus = {
	id = POTEF102
	icon = political_pressure_dark_green
	#icon = POTEF102
	relative_position_id = POTEF101
	x = 2
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INTERNAL_FACTION }
	prerequisite = { focus = POTEF101 focus = POTEF151 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF102 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF102"
		set_country_flag = environmental_imperialism
		custom_effect_tooltip = "Favors The Farmers & International Bankers."
		set_temp_variable = { temp_opinion = 5 }
		change_farmers_opinion = yes
		change_international_bankers_opinion = yes
	}
	ai_will_do = {
		factor = 1
	}
}

### North America ###
shared_focus = {
	id = POTEF103
	icon = north_america
	#icon = POTEF103
	relative_position_id = POTEF102
	x = -5
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF103 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF103"
		set_global_flag = environmental_imperialism_north_america
		custom_effect_tooltip = tooltip_focus_USoE503
	}
	ai_will_do = {
		factor = 1
	}
}

### South America ###
shared_focus = {
	id = POTEF104
	icon = south_america
	#icon = POTEF104
	relative_position_id = POTEF102
	x = -5
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF104 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF104"
		set_global_flag = environmental_imperialism_south_america
		custom_effect_tooltip = tooltip_focus_USoE504
	}

	ai_will_do = {
		factor = 1
	}
}

### Europe ###
shared_focus = {
	id = POTEF105
	icon = europe
	#icon = POTEF105
	relative_position_id = POTEF102
	x = -3
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF105 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF105"
		set_global_flag = environmental_imperialism_europe
		custom_effect_tooltip = tooltip_focus_USoE505
	}
	ai_will_do = {
		factor = 1
	}
}

### Africa ###
shared_focus = {
	id = POTEF106
	icon = africa2
	#icon = POTEF106
	relative_position_id = POTEF102
	x = -3
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF106 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF106"
		set_global_flag = environmental_imperialism_africa
		custom_effect_tooltip = tooltip_focus_USoE506
	}

	ai_will_do = {
		factor = 1
	}
}

### Middle East ###
shared_focus = {
	id = POTEF107
	icon = asia
	#icon = POTEF107
	relative_position_id = POTEF102
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF107 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF107"
		set_global_flag = environmental_imperialism_middle_east
		custom_effect_tooltip = tooltip_focus_USoE507
	}

	ai_will_do = {
		factor = 1
	}
}

### Asia ###
shared_focus = {
	id = POTEF108
	icon = asia
	#icon = POTEF108
	relative_position_id = POTEF102
	x = -1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF108 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF108"
		set_global_flag = environmental_imperialism_asia
		custom_effect_tooltip = tooltip_focus_USoE508
	}

	ai_will_do = {
		factor = 1
	}
}

### Oceania ###
shared_focus = {
	id = POTEF109
	icon = oceania
	#icon = POTEF109
	relative_position_id = POTEF102
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF109 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF109"
		set_global_flag = environmental_imperialism_oceania
		custom_effect_tooltip = tooltip_focus_USoE509
	}

	ai_will_do = {
		factor = 1
	}
}

### Pacific ###
shared_focus = {
	id = POTEF110
	icon = oceania
	#icon = POTEF110
	relative_position_id = POTEF102
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF102 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF110 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF110"
		set_global_flag = environmental_imperialism_pacific
		custom_effect_tooltip = tooltip_focus_USoE510
	}

	ai_will_do = {
		factor = 1
	}
}

### German Doctrine ###
shared_focus = {
	id = POTEF150
	#icon = german_confederation
	icon = POTEF150
	relative_position_id = POTEF001
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF150 } }
	available = {
		has_idea = EU_president
		EU_member_is_german = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF150"
		hidden_effect = {
			if = { limit = { POTEF_is_german = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_leopard_doctrine
				}
			}
		}
		every_country = {
			limit = {
				has_idea = EU_member
			}
			add_ideas = POTEF_armoured_warfare
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_german
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_leopard_doctrine
				remove_ideas = POTEF_armoured_warfare
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Empire of Trade ###
shared_focus = {
	id = POTEF151
	icon = liberalization
	#icon = POTEF151
	relative_position_id = POTEF150
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF150 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF151 } }
	available = {
		has_idea = EU_president
		EU_member_is_german = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF151"
		hidden_effect = {
			if = { limit = { POTEF_is_german = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_empire_of_trade_2
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_empire_of_trade
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_german
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_empire_of_trade_2
				remove_ideas = POTEF_empire_of_trade
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### French Doctrine ###
shared_focus = {
	id = POTEF200
	#icon = francosphere
	icon = POTEF200
	relative_position_id = POTEF001
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF200 } }
	available = {
		has_idea = EU_president
		EU_member_is_french = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF200"
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = EU_extensive_french_doctrine
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = EU_french_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = EU_extensive_french_doctrine
				remove_ideas = EU_french_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Imperial Power ###
shared_focus = {
	id = POTEF201
	icon = political_pressure_blue
	#icon = POTEF201
	relative_position_id = POTEF200
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF200 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF201 } }
	available = {
		has_idea = EU_president
		EU_member_is_french = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF201"
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				every_country = {
					limit = { has_idea = EU_member }
					set_temp_variable = { percent_change = -3 }
					set_temp_variable = { tag_index = CHI.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
					set_temp_variable = { tag_index = USA.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_imperial_power
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				set_temp_variable = { percent_change = -3 }
				set_temp_variable = { tag_index = CHI.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = USA.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Empire of Freedom ###
shared_focus = {
	id = POTEF202
	icon = democracy2
	#icon = POTEF202
	relative_position_id = POTEF201
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF201 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF202 } }
	available = {
		has_idea = EU_president
		EU_member_is_french = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF202"
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_empire_of_freedom_2
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_empire_of_freedom
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_empire_of_freedom_2
				remove_ideas = POTEF_empire_of_freedom
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}

### America: Ally or Adversary ###
shared_focus = {
	id = POTEF203
	icon = american_military_agreement
	#icon = POTEF203
	relative_position_id = POTEF202
	x = 0
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF202 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF203 } }
	available = {
		has_idea = EU_president
		custom_trigger_tooltip = {
			tooltip = tooltip_focus_POTEF203_trigger
			has_global_flag = EDU
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF203"
		set_temp_variable = { percent_change = 5 }
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = USA }
				change_influence_percentage = yes
			}
		}
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = USA }
		change_influence_percentage = yes
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = USA }
			change_influence_percentage = yes
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### NATO Legacy ###
shared_focus = {
	id = POTEF204
	icon = nato2
	#icon = POTEF204
	relative_position_id = POTEF203
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF203 }
	mutually_exclusive = { focus = POTEF205 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF204 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF204"
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_opinion_modifier = { target = USA modifier = historic_friends }
					reverse_add_opinion_modifier = { target = USA modifier = historic_friends }
					add_ideas = EU_nato_legacy
				}
			}
		}
		USA = {
			add_ideas = EDU_major_non_EU_ally
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_opinion_modifier = { target = USA modifier = historic_friends }
				reverse_add_opinion_modifier = { target = USA modifier = historic_friends }
				add_ideas = EU_nato_legacy
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Trump's Legacy ###
shared_focus = {
	id = POTEF205
	icon = maga
	#icon = POTEF205
	relative_position_id = POTEF203
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF203 }
	mutually_exclusive = { focus = POTEF204 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF205 } }
	available = {
		has_idea = EU_president
		date > 2017.1.20
		USA = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = tooltip_focus_POTEF205_trigger
					is_in_array = { ruling_party = 1 }
				}
				has_government = nationalist
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF205"
		set_temp_variable = { percent_change = -5 }
		hidden_effect = {
			if = { limit = { POTEF_is_french = yes }
				every_country = {
					limit = { has_idea = EU_member }
					set_temp_variable = { tag_index = USA.id }
					set_temp_variable = { influence_target = THIS.id }
					change_influence_percentage = yes
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_opinion_modifier = { target = USA modifier = strategic_rivals }
			reverse_add_opinion_modifier = { target = USA modifier = strategic_rivals }
			set_temp_variable = { tag_index = USA.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_french
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				set_temp_variable = { tag_index = USA.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Break the Wall ###
shared_focus = {
	id = POTEF206
	icon = trump_agenda
	#icon = POTEF206
	relative_position_id = POTEF205
	x = -1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF205 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF206 } }
	available = {
		has_idea = EU_president
		custom_trigger_tooltip = {
			tooltip = tooltip_focus_POTEF206_trigger
			any_of_scopes = {
				array = global.EU_member
				has_completed_focus = POTEF302
			}
		}
	}

	will_lead_to_war_with = USA

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF206"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = MEX }
				change_influence_percentage = yes
			}
		}
		MEX = {
			add_ideas = EDU_major_non_EU_ally
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = USA
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = MEX }
			change_influence_percentage = yes
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Buster's Resurrection ###
shared_focus = {
	id = POTEF207
	icon = canada_infrastructure
	relative_position_id = POTEF205
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF205 }
	prerequisite = { focus = POTEF353 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF207 } }
	available = { has_idea = EU_president }

	will_lead_to_war_with = USA

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF207"
		hidden_effect = {
			if = { limit = { POTEF_is_british = yes }
				CAN = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 757 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							air_base < 9
						}
						prioritize = { 757 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					random_controlled_state = {
						limit = {
							radar_station < 5
						}
						prioritize = { 757 }
						add_building_construction = {
							type = radar_station
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = USA
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			CAN = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 757 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 757 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				random_controlled_state = {
					limit = {
						radar_station < 5
					}
					prioritize = { 757 }
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Benelux Doctrine ###
shared_focus = {
	id = POTEF250
	#icon = align_to_benelux
	icon = POTEF250
	relative_position_id = POTEF001
	x = 3
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF250 } }
	available = {
		has_idea = EU_president
		EU_member_is_benelux = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF250"
		hidden_effect = {
			if = { limit = { POTEF_is_benelux = yes }
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_airborne_doctrine
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_air_mobile_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_benelux
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_airborne_doctrine
				remove_ideas = POTEF_air_mobile_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}

### Liberal Legacy ###
shared_focus = {
	id = POTEF251
	icon = internationalism
	relative_position_id = POTEF250
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF250 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF251 } }
	available = {
		has_idea = EU_president
		EU_member_is_benelux = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF251"
		hidden_effect = {
			if = { limit = { POTEF_is_benelux = yes }
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_liberal_legacy_2
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_liberal_legacy
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_benelux
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_liberal_legacy_2
				remove_ideas = POTEF_liberal_legacy
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Safeguard the old Traderouts ###
shared_focus = {
	id = POTEF252
	icon = protectionist_economics
	#icon = POTEF252
	relative_position_id = POTEF251
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF251 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF252 } }
	available = {
		has_idea = EU_president
		EU_member_is_benelux = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF252"
		hidden_effect = {
			if = { limit = { POTEF_is_benelux = yes }
				if = { limit = { HOL = { has_idea = EU_member } }
					HOL = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 49 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { BEL = { has_idea = EU_member } }
					BEL = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 50 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { ENG = { has_idea = EU_member } }
					ENG = {
						random_controlled_state = {
							limit = {
								radar_station < 3
							}
							prioritize = { 24 25 }
							add_building_construction = {
								type = radar_station
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { FRA = { has_idea = EU_member } }
					FRA = {
						random_controlled_state = {
							limit = {
								radar_station < 3
							}
							prioritize = { 66 70 }
							add_building_construction = {
								type = radar_station
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
		if = { limit = { HOL = { has_idea = EU_member } }
			HOL = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 49 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { BEL = { has_idea = EU_member } }
			BEL = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 50 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { ENG = { has_idea = EU_member } }
			ENG = {
				random_controlled_state = {
					limit = {
						radar_station < 5
					}
					prioritize = { 24 25 }
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { FRA = { has_idea = EU_member } }
			FRA = {
				random_controlled_state = {
					limit = {
						radar_station < 5
					}
					prioritize = { 66 70 }
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_benelux
		effect_tooltip = {
			if = { limit = { HOL = { has_idea = EU_member } }
				HOL = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 49 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { BEL = { has_idea = EU_member } }
				BEL = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 50 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { ENG = { has_idea = EU_member } }
				ENG = {
					random_controlled_state = {
						limit = {
							radar_station < 3
						}
						prioritize = { 24 25 }
						add_building_construction = {
							type = radar_station
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { FRA = { has_idea = EU_member } }
				FRA = {
					random_controlled_state = {
						limit = {
							radar_station < 3
						}
						prioritize = { 66 70 }
						add_building_construction = {
							type = radar_station
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Indonesia ###
shared_focus = {
	id = POTEF253
	icon = align_to_indonesia
	#icon = POTEF253
	relative_position_id = POTEF252
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF252 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF253 } }
	available = {
		has_idea = EU_president
		EU_member_is_benelux = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF253"
		hidden_effect = {
			if = { limit = { POTEF_is_benelux = yes }
				IND = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 622 623 629 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 631 634 635 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 640 639 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 636 637 638  }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = IND
				relation = docking_rights
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_benelux
		effect_tooltip = {
			IND = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 622 623 629 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 631 634 635 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 640 639 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 636 637 638  }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Iberian Doctrine ###
shared_focus = {
	id = POTEF300
	#icon = USoE624
	icon = POTEF300
	relative_position_id = POTEF001
	x = 5
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF300 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF300"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_extensive_marine_doctrine
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_marine_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_extensive_marine_doctrine
				remove_ideas = POTEF_marine_doctrine
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Latin Cousins ###
shared_focus = {
	id = POTEF301
	icon = south_america
	#icon = POTEF301
	relative_position_id = POTEF300
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF300 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF301 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF301"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				every_country = {
					limit = { has_idea = EU_member }
					add_opinion_modifier = { target = MEX modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = MEX modifier = latin_cousins }
					add_opinion_modifier = { target = VEN modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = VEN modifier = latin_cousins }
					add_opinion_modifier = { target = COL modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = COL modifier = latin_cousins }
					add_opinion_modifier = { target = GUY modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = GUY modifier = latin_cousins }
					add_opinion_modifier = { target = SUR modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = SUR modifier = latin_cousins }
					add_opinion_modifier = { target = ECU modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = ECU modifier = latin_cousins }
					add_opinion_modifier = { target = GUA modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = GUA modifier = latin_cousins }
					add_opinion_modifier = { target = BLZ modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = BLZ modifier = latin_cousins }
					add_opinion_modifier = { target = HON modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = HON modifier = latin_cousins }
					add_opinion_modifier = { target = ELS modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = ELS modifier = latin_cousins }
					add_opinion_modifier = { target = NIC modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = NIC modifier = latin_cousins }
					add_opinion_modifier = { target = COS modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = COS modifier = latin_cousins }
					add_opinion_modifier = { target = PAN modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = PAN modifier = latin_cousins }
					add_opinion_modifier = { target = PRU modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = PRU modifier = latin_cousins }
					add_opinion_modifier = { target = BOL modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = BOL modifier = latin_cousins }
					add_opinion_modifier = { target = PAR modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = PAR modifier = latin_cousins }
					add_opinion_modifier = { target = ARG modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = ARG modifier = latin_cousins }
					add_opinion_modifier = { target = CHL modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = CHL modifier = latin_cousins }
					add_opinion_modifier = { target = URG modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = URG modifier = latin_cousins }
					add_opinion_modifier = { target = BRA modifier = latin_cousins }
					reverse_add_opinion_modifier = { target = BRA modifier = latin_cousins }
				}
			}
			every_country = {
				limit = { has_idea = EU_member }
				add_opinion_modifier = { target = MEX modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = MEX modifier = declaration_of_friendship }
				add_opinion_modifier = { target = VEN modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = VEN modifier = declaration_of_friendship }
				add_opinion_modifier = { target = COL modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = COL modifier = declaration_of_friendship }
				add_opinion_modifier = { target = GUY modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = GUY modifier = declaration_of_friendship }
				add_opinion_modifier = { target = SUR modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = SUR modifier = declaration_of_friendship }
				add_opinion_modifier = { target = ECU modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = ECU modifier = declaration_of_friendship }
				add_opinion_modifier = { target = GUA modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = GUA modifier = declaration_of_friendship }
				add_opinion_modifier = { target = BLZ modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = BLZ modifier = declaration_of_friendship }
				add_opinion_modifier = { target = HON modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = HON modifier = declaration_of_friendship }
				add_opinion_modifier = { target = ELS modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = ELS modifier = declaration_of_friendship }
				add_opinion_modifier = { target = NIC modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = NIC modifier = declaration_of_friendship }
				add_opinion_modifier = { target = COS modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = COS modifier = declaration_of_friendship }
				add_opinion_modifier = { target = PAN modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = PAN modifier = declaration_of_friendship }
				add_opinion_modifier = { target = PRU modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = PRU modifier = declaration_of_friendship }
				add_opinion_modifier = { target = BOL modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = BOL modifier = declaration_of_friendship }
				add_opinion_modifier = { target = PAR modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = PAR modifier = declaration_of_friendship }
				add_opinion_modifier = { target = ARG modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = ARG modifier = declaration_of_friendship }
				add_opinion_modifier = { target = CHL modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = CHL modifier = declaration_of_friendship }
				add_opinion_modifier = { target = URG modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = URG modifier = declaration_of_friendship }
				add_opinion_modifier = { target = BRA modifier = declaration_of_friendship }
				reverse_add_opinion_modifier = { target = BRA modifier = declaration_of_friendship }
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		custom_effect_tooltip = focus_POTEF301_effect_tt
	}

	ai_will_do = {
		factor = 1
	}
}

### Mexico ###
shared_focus = {
	id = POTEF302
	icon = align_to_mexico
	relative_position_id = POTEF301
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF301 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF302 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF302"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				MEX = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 838 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = { infrastructure < 4 }
						prioritize = { 832 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					random_controlled_state = {
						limit = { infrastructure < 4 }
						prioritize = { 833 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					random_controlled_state = {
						limit = { infrastructure < 4 }
						prioritize = { 830 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = MEX
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = MEX
				relation = military_access
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			MEX = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 838 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = { infrastructure < 4 }
					prioritize = { 832 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_controlled_state = {
					limit = { infrastructure < 4 }
					prioritize = { 833 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				random_controlled_state = {
					limit = { infrastructure < 4 }
					prioritize = { 830 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Greater Colombia ###
shared_focus = {
	id = POTEF303
	icon = align_to_colombia
	#icon = POTEF303
	relative_position_id = POTEF301
	x = -1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF301 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF303 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF303"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				COL = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 871 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 870 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				set_temp_variable = { percent_change = 5 }
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = VEN }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = GUY }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = SUR }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = ECU }
				change_influence_percentage = yes
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = COL
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = COL
				relation = military_access
				active = yes
			}
		}
		set_temp_variable = { percent_change = 3 }
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = VEN }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = GUY }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = SUR }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = ECU }
		change_influence_percentage = yes
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			COL = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 871 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 870 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = VEN }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = GUY }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = SUR }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = ECU }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Central America ###
shared_focus = {
	id = POTEF304
	icon = redeem_aztlan
	relative_position_id = POTEF301
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF301 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF304 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF304"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				PAN = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 853 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				set_temp_variable = { percent_change = 5 }
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = GUA }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = BLZ }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = HON }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = ELS }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = NIC }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = COS }
				change_influence_percentage = yes
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = PAN
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = PAN
				relation = military_access
				active = yes
			}
		}
		set_temp_variable = { percent_change = 3 }
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = GUA }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = BLZ }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = HON }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = ELS }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = NIC }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = COS }
		change_influence_percentage = yes
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			PAN = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 7
						}
					}
					prioritize = { 853 }
					add_building_construction = {
						type = naval_base
						level = 4
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = GUA }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = BLZ }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = HON }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = ELS }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = NIC }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = COS }
			change_influence_percentage = yes
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Southern Cone ###
shared_focus = {
	id = POTEF305
	icon = befriend_south_america
	#icon = POTEF305
	relative_position_id = POTEF301
	x = -1
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF301 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF305 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF305"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				URG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 893 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				ARG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 457 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				CHL = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 950 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				set_temp_variable = { percent_change = 5 }
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = PRU }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = BOL }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = PAR }
				change_influence_percentage = yes
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = URG
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = ARG
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = CHL
				relation = docking_rights
				active = yes
			}
		}
		set_temp_variable = { percent_change = 3 }
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = PRU }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = BOL }
		change_influence_percentage = yes
		set_temp_variable = { tag_index = ROOT.id }
		set_temp_variable = { influence_target = PAR }
		change_influence_percentage = yes
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			URG = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 893 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			ARG = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 457 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			CHL = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 950 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = PRU }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = BOL }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = PAR }
			change_influence_percentage = yes
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Brazil ###
shared_focus = {
	id = POTEF306
	icon = align_to_brazil
	#icon = POTEF306
	relative_position_id = POTEF301
	x = 1
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF301 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF306 } }
	available = {
		has_idea = EU_president
		EU_member_is_iberian = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF306"
		hidden_effect = {
			if = { limit = { POTEF_is_iberian = yes }
				BRA = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 891 }
						add_building_construction = {
							type = naval_base
							level = 4
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 888 }
						add_building_construction = {
							type = naval_base
							level = 4
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
		}
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = BRA
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = BRA
				relation = military_access
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_iberian
		effect_tooltip = {
			BRA = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 7
						}
					}
					prioritize = { 891 }
					add_building_construction = {
						type = naval_base
						level = 4
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 7
						}
					}
					prioritize = { 888 }
					add_building_construction = {
						type = naval_base
						level = 4
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### British Doctrine ###
shared_focus = {
	id = POTEF350
	icon = POTEF350
	relative_position_id = POTEF001
	x = 7
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF350 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF350"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = EU_extensive_naval_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = EU_naval_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = EU_extensive_naval_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Safeguard the North Atlantic ###
shared_focus = {
	id = POTEF351
	icon = british_global_defense
	#icon = POTEF351
	relative_position_id = POTEF350
	x = 3
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF356 }
	prerequisite = { focus = POTEF401 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF351 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF351"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				if = {
					limit = {
						WAS = {
							exists = yes
							has_idea = EU_member
						}
					}
					WAS = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 16 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				else_if = { limit = { ENG = { has_idea = EU_member } }
					ENG = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 16 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
			}
			if = { limit = { IRE = { has_idea = EU_member } }
				IRE = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 27 }
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
					}
				}
			}
		}
		#basic effect
		if = {
			limit = {
				WAS = {
					exists = yes
					has_idea = EU_member
				}
			}
			WAS = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 16 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		else_if = { limit = { ENG = { has_idea = EU_member } }
			ENG = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 16 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { IRE = { has_idea = EU_member } }
			IRE = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 27 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = {
				limit = {
					WAS = {
						exists = yes
						has_idea = EU_member
					}
				}
				WAS = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 16 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			else_if = { limit = { ENG = { has_idea = EU_member } }
				ENG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 16 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { IRE = { has_idea = EU_member } }
				IRE = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 27 }
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Commonwealth Legacy ###
shared_focus = {
	id = POTEF352
	icon = united_anglosphere
	#icon = POTEF352
	relative_position_id = POTEF351
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF358 focus = POTEF359 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF352 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF352"
		set_temp_variable = { percent_change = 5 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = CAN }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = AST }
				change_influence_percentage = yes
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = NZL }
				change_influence_percentage = yes
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_opinion_modifier = { target = CAN modifier = commonwealth_legacy }
			reverse_add_opinion_modifier = { target = CAN modifier = commonwealth_legacy }
			add_opinion_modifier = { target = AST modifier = commonwealth_legacy }
			reverse_add_opinion_modifier = { target = AST modifier = commonwealth_legacy }
			add_opinion_modifier = { target = NZL modifier = commonwealth_legacy }
			reverse_add_opinion_modifier = { target = NZL modifier = commonwealth_legacy }
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = CAN }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = AST }
			change_influence_percentage = yes
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = NZL }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Canada ###
shared_focus = {
	id = POTEF353
	icon = align_to_canada
	#icon = POTEF353
	relative_position_id = POTEF352
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF352 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF353 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF353"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = CAN }
				change_influence_percentage = yes
			}
		}
		#basic effect
		CAN = { add_ideas = EDU_major_non_EU_ally }
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = CAN }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Australia ###
shared_focus = {
	id = POTEF354
	icon = align_to_australia
	#icon = POTEF354
	relative_position_id = POTEF352
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF352 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF354 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF354"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = AST }
				change_influence_percentage = yes
			}
		}
		#basic effect
		AST = {
			add_ideas = EDU_major_non_EU_ally
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = AST }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### New Zealand ###
shared_focus = {
	id = POTEF355
	icon = align_to_new_zealand
	#icon = POTEF355
	relative_position_id = POTEF352
	x = -1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF352 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF355 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF355"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = NZL }
				change_influence_percentage = yes
			}
		}
		#basic effect
		NZL = {
			add_ideas = EDU_major_non_EU_ally
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = NZL }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Safeguard the North Sea ###
shared_focus = {
	id = POTEF356
	icon = british_global_defense
	#icon = POTEF356
	relative_position_id = POTEF350
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF350 focus = POTEF401 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF356 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF356"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				if = { limit = { ENG = { has_idea = EU_member } }
					ENG = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 10 14 13 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					SCO = {
						exists = yes
						has_idea = EU_member
					}
				}
				SCO = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 8 437 9 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			else_if = { limit = { ENG = { has_idea = EU_member } }
				ENG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 8 437 9 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { ENG = { has_idea = EU_member } }
			ENG = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 10 14 13 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				SCO = {
					exists = yes
					has_idea = EU_member
				}
			}
			SCO = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 8 437 9 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		else_if = { limit = { ENG = { has_idea = EU_member } }
			ENG = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 8 437 9 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { ENG = { has_idea = EU_member } }
				ENG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 10 14 13 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					SCO = {
						exists = yes
						has_idea = EU_member
					}
				}
				SCO = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 8 437 9 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			else_if = { limit = { ENG = { has_idea = EU_member } }
				ENG = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 8 437 9 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Malaya Legacy ###
shared_focus = {
	id = POTEF357
	icon = align_to_malaysia
	#icon = POTEF357
	relative_position_id = POTEF350
	x = 1
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF356 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF357 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF357"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				every_country = {
					limit = { has_idea = EU_member }
					diplomatic_relation = {
						country = MAY
						relation = military_access
						active = yes
					}
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = MAY
				relation = docking_rights
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				diplomatic_relation = {
					country = MAY
					relation = military_access
					active = yes
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Malaysia ###
shared_focus = {
	id = POTEF358
	icon = align_to_malaysia
	#icon = POTEF358
	relative_position_id = POTEF357
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF357 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF358 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF358"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = MAY }
				change_influence_percentage = yes
			}
		}
		#basic effect
		MAY = {
			random_controlled_state = {
				limit = {
					any_province_building_level = {
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
						building = naval_base
						level < 9
					}
				}
				prioritize = { 529 528 }
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
						limit_to_naval_base = yes
					}
				}
			}
			random_controlled_state = {
				limit = {
					any_province_building_level = {
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
						building = naval_base
						level < 9
					}
				}
				prioritize = { 525 }
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
						limit_to_naval_base = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = MAY }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Singapore ###
shared_focus = {
	id = POTEF359
	icon = SIN_total_defense
	#icon = POTEF359
	relative_position_id = POTEF357
	x = 2
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF357 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF359 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF359"
		set_temp_variable = { percent_change = 10 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { tag_index = ROOT.id }
				set_temp_variable = { influence_target = SIN }
				change_influence_percentage = yes
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			diplomatic_relation = {
				country = SIN
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = SIN
				relation = military_access
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = SIN }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Guarantee Hong Kong ###
shared_focus = {
	id = POTEF360
	icon = hong_kong
	#icon = POTEF360
	relative_position_id = POTEF350
	x = 0
	y = 5
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF350 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF360 } }
	available = {
		has_idea = EU_president
		EU_member_is_british = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF360"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_british = yes }
				#bonus effect
				set_temp_variable = { percent_change = -5 }
				set_temp_variable = { tag_index = CHI.id }
				set_temp_variable = { influence_target = HKG }
				change_influence_percentage = yes
				every_country = {
					limit = { has_idea = EU_member }
					add_opinion_modifier = { target = HKG modifier = historical_friends_HKG }
					reverse_add_opinion_modifier = { target = HKG modifier = historical_friends_HKG }
				}
			}
		}
		#basic effect
		set_temp_variable = { percent_change = -3 }
		set_temp_variable = { tag_index = CHI.id }
		set_temp_variable = { influence_target = HKG }
		change_influence_percentage = yes
		every_country = {
			limit = { has_idea = EU_member }
			give_guarantee = HKG
			add_opinion_modifier = { target = HKG modifier = declaration_of_friendship }
			reverse_add_opinion_modifier = { target = HKG modifier = declaration_of_friendship }
			add_opinion_modifier = { target = CHI modifier = breach_of_Sino_British_Joint_Declaration }
			reverse_add_opinion_modifier = { target = CHI modifier = breach_of_Sino_British_Joint_Declaration }
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_british
		effect_tooltip = {
			#mockup bonus effect for tooltip
			set_temp_variable = { percent_change = -5 }
			set_temp_variable = { tag_index = CHI.id }
			set_temp_variable = { influence_target = HKG }
			change_influence_percentage = yes
			every_country = {
				limit = { has_idea = EU_member }
				add_opinion_modifier = { target = HKG modifier = historical_friends_HKG }
				reverse_add_opinion_modifier = { target = HKG modifier = historical_friends_HKG }
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Nordic Doctrine ###
shared_focus = {
	id = POTEF400
	#icon = align_to_norway
	icon = POTEF400
	relative_position_id = POTEF001
	x = 9
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF400 } }
	available = {
		has_idea = EU_president
		EU_member_is_nordic = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF400"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_nordic = yes }
				#bonus effect
				add_ideas = EU_extensive_nordic_doctrine
			}
		}
		#basic effect
		add_ideas = EU_nordic_doctrine
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_nordic
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = EU_extensive_nordic_doctrine
				remove_ideas = EU_nordic_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Safeguard the Arctic ###
shared_focus = {
	id = POTEF401
	icon = demand_territory3
	#icon = POTEF401
	relative_position_id = POTEF400
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF400 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF401 } }
	available = {
		has_idea = EU_president
		EU_member_is_nordic = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF401"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_nordic = yes }
				#bonus effect
				if = { limit = { DEN = { has_idea = EU_member } }
					DEN = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 2 1 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { NOR = { has_idea = EU_member } }
					NOR = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 31 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { ICE = { has_idea = EU_member } }
					ICE = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 7 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { SWE = { has_idea = EU_member } }
					SWE = {
						random_controlled_state = {
							limit = {
								air_base < 7
							}
							prioritize = { 442 }
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { FIN = { has_idea = EU_member } }
					FIN = {
						random_controlled_state = {
							limit = {
								air_base < 7
							}
							prioritize = { 100 }
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { DEN = { has_idea = EU_member } }
			DEN = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 2 1 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { NOR = { has_idea = EU_member } }
			NOR = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 31 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { ICE = { has_idea = EU_member } }
			ICE = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 7 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { SWE = { has_idea = EU_member } }
			SWE = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 442 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { FIN = { has_idea = EU_member } }
			FIN = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 100 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_nordic
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { DEN = { has_idea = EU_member } }
				DEN = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 2 1 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { NOR = { has_idea = EU_member } }
				NOR = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 31 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { ICE = { has_idea = EU_member } }
				ICE = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 7 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { SWE = { has_idea = EU_member } }
				SWE = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 442 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { FIN = { has_idea = EU_member } }
				FIN = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 100 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	 }
	ai_will_do = {
		factor = 1
	}
}
### Mediterranean Doctrine ###
shared_focus = {
	id = POTEF450
	#icon = europe
	icon = POTEF450
	relative_position_id = POTEF001
	x = 11
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF450 } }
	available = {
		has_idea = EU_president
		EU_member_is_mediterranean = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF450"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_mediterranean = yes }
				#bonus effect
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_extensive_amphibious_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_amphibious_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_mediterranean
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_extensive_amphibious_doctrine
				remove_ideas = POTEF_amphibious_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Northern Africa ###
shared_focus = {
	id = POTEF451
	#icon = africa2
	icon = POTEF451
	relative_position_id = POTEF450
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF450 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF451 } }
	available = {
		has_idea = EU_president
		EU_member_is_mediterranean = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF451"
		hidden_effect = {
			#POTEF bonus
			if = {
				limit = {
					POTEF_is_mediterranean = yes
				}
				#bonus effect
				MOR = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 374 377 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				EGY = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 214 216 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
				ALG = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 387 386 385 384 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				TUN = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 388 389 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				LBA = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 391 919 395 396 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				SUD = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 221 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		#basic effect
		LBA = {
			annex_country = {
				target = GNA
				transfer_troops = no
			}
			annex_country = {
				target = GNC
				transfer_troops = no
			}
			annex_country = {
				target = HOR
				transfer_troops = no
			}
		}
		every_country = {
			limit = {
				has_idea = EU_member
			}
			diplomatic_relation = {
				country = MOR
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = EGY
				relation = docking_rights
				active = yes
			}
			diplomatic_relation = {
				country = ALG
				relation = military_access
				active = yes
			}
			diplomatic_relation = {
				country = TUN
				relation = military_access
				active = yes
			}
			diplomatic_relation = {
				country = LBA
				relation = military_access
				active = yes
			}
			diplomatic_relation = {
				country = SUD
				relation = military_access
				active = yes
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_mediterranean
		effect_tooltip = {
			#mockup bonus effect for tooltip
			MOR = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 374 377 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			EGY = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 214 216 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
			ALG = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 387 386 385 384 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			TUN = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 388 389 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			LBA = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 391 919 395 396 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			SUD = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 221 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Unite Cyprus ###
shared_focus = {
	id = POTEF452
	icon = align_to_cyprus
	#icon = POTEF452
	relative_position_id = POTEF450
	x = 1
	y = 2
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION }
	prerequisite = { focus = POTEF450 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF452 } }
	available = {
		has_idea = EU_president
		EU_member_is_mediterranean = yes
		CYP = { has_idea = EU_member }
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF452"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_mediterranean = yes }
				#bonus effect
				if = { limit = { CYP = { has_idea = EU_member } }
					CYP = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 9
								}
							}
							prioritize = { 145 146 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
						random_controlled_state = {
							limit = {
								air_base < 9
							}
							prioritize = { 812 145 146 }
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
						random_controlled_state = {
							limit = {
								radar_station < 5
							}
							prioritize = { 812 145 146 }
							add_building_construction = {
								type = radar_station
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { CYP = { has_idea = EU_member } }
			CYP = {
				annex_country = {
					target = NCY
					transfer_troops = no
				}
				transfer_state = 812
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_mediterranean
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { CYP = { has_idea = EU_member } }
				CYP = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 9
							}
						}
						prioritize = { 145 146 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
					random_controlled_state = {
						limit = {
							air_base < 9
						}
						prioritize = { 812 145 146 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					random_controlled_state = {
						limit = {
							radar_station < 5
						}
						prioritize = { 812 145 146 }
						add_building_construction = {
							type = radar_station
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Balkan Doctrine ###
shared_focus = {
	id = POTEF500
	#icon = align_to_serbia
	icon = POTEF500
	relative_position_id = POTEF001
	x = 13
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF500 } }
	available = {
		has_idea = EU_president
		EU_member_is_balkan = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF500"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_balkan = yes }
				#bonus effect
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_counter_insurgency_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_partisan_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_balkan
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_counter_insurgency_doctrine
				remove_ideas = POTEF_partisan_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Balkan Infrastructure ###
shared_focus = {
	id = POTEF501
	icon = align_to_serbia
	#icon = POTEF501
	relative_position_id = POTEF500
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF500 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF501 } }
	available = {
		has_idea = EU_president
		EU_member_is_balkan = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF501"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_balkan = yes }
				#bonus effect
				if = { limit = { SLV = { has_idea = EU_member } }
					SLV = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 124 125 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { CRO = { has_idea = EU_member } }
					CRO = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 126 127 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { BOS = { has_idea = EU_member } }
					BOS = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 128 129 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { MNT = { has_idea = EU_member } }
					MNT = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 134 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { SER = { has_idea = EU_member } }
					SER = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 130 131 132 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { KOS = { has_idea = EU_member } }
					KOS = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 133 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { ALB = { has_idea = EU_member } }
					ALB = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 137 138 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { FYR = { has_idea = EU_member } }
					FYR = {
						random_controlled_state = {
							limit = {
								infrastructure < 3
							}
							prioritize = { 135 136 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { SLV = { has_idea = EU_member } }
			SLV = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 124 125 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { CRO = { has_idea = EU_member } }
			CRO = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 126 127 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { BOS = { has_idea = EU_member } }
			BOS = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 128 129 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { MNT = { has_idea = EU_member } }
			MNT = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 134 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { SER = { has_idea = EU_member } }
			SER = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 130 131 132 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { KOS = { has_idea = EU_member } }
			KOS = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 133 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { ALB = { has_idea = EU_member } }
			ALB = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 137 138 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { FYR = { has_idea = EU_member } }
			FYR = {
				random_controlled_state = {
					limit = {
						infrastructure < 4
					}
					prioritize = { 135 136 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_balkan
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { SLV = { has_idea = EU_member } }
				SLV = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 124 125 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { CRO = { has_idea = EU_member } }
				CRO = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 126 127 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { BOS = { has_idea = EU_member } }
				BOS = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 128 129 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { MNT = { has_idea = EU_member } }
				MNT = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 134 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { SER = { has_idea = EU_member } }
				SER = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 130 131 132 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { KOS = { has_idea = EU_member } }
				KOS = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 133 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { ALB = { has_idea = EU_member } }
				ALB = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 137 138 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { FYR = { has_idea = EU_member } }
				FYR = {
					random_controlled_state = {
						limit = {
							infrastructure < 3
						}
						prioritize = { 135 136 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Contest the Silk Road ###
shared_focus = {
	id = POTEF502
	icon = enemy_of_china
	#icon = POTEF502
	relative_position_id = POTEF501
	x = 1
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF451 }
	prerequisite = { focus = POTEF501 }
	prerequisite = { focus = POTEF551 }
	prerequisite = { focus = POTEF601 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF502 } }
	available = {
		has_idea = EU_president
		EU_member_is_balkan = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF502"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_balkan = yes }
				#bonus effect
				every_country = {
					limit = { has_idea = EU_member }
					add_opinion_modifier = { target = KAZ modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = KAZ modifier = contest_silk_road }
					add_opinion_modifier = { target = KYR modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = KYR modifier = contest_silk_road }
					add_opinion_modifier = { target = TAJ modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = TAJ modifier = contest_silk_road }
					add_opinion_modifier = { target = UZB modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = UZB modifier = contest_silk_road }
					add_opinion_modifier = { target = TRK modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = TRK modifier = contest_silk_road }
					add_opinion_modifier = { target = PER modifier = contest_silk_road }
					reverse_add_opinion_modifier = { target = PER modifier = contest_silk_road }
				}
			}
			set_temp_variable = { percent_change = -2 }
			set_temp_variable = { tag_index = CHI.id }
			set_temp_variable = { influence_target = KAZ }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = KYR }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = TAJ }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = UZB }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = TRK }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = PER }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = TUR }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = GRE }
			change_influence_percentage = yes
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_balkan
		custom_effect_tooltip = focus_POTEF502_effect_tt
	}
	ai_will_do = {
		factor = 1
	}
}
### Competitor China ###
shared_focus = {
	id = POTEF503
	icon = one_china_policy
	#icon = POTEF503
	relative_position_id = POTEF360
	x = 1
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF502 focus = POTEF360 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF503 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF503"
		every_country = {
			limit = { has_idea = EU_member }
			set_temp_variable = { percent_change = -5 }
			set_temp_variable = { tag_index = CHI.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Operation Arrow ###
shared_focus = {
	id = POTEF504
	icon = war_in_asia
	#icon = POTEF504
	relative_position_id = POTEF503
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF503 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF504 } }
	available = { has_idea = EU_president }

	will_lead_to_war_with = CHI
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF504"
		create_wargoal = {
			type = puppet_wargoal_focus
			target = CHI
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Asian Allies ###
shared_focus = {
	id = POTEF505
	icon = korean_peninsula
	#icon = POTEF505
	relative_position_id = POTEF503
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF503 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF505 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF505"
		every_country = {
			limit = { has_idea = EU_member }
			add_opinion_modifier = { target = JAP modifier = declaration_of_friendship }
			reverse_add_opinion_modifier = { target = JAP modifier = declaration_of_friendship }
			add_opinion_modifier = { target = KOR modifier = declaration_of_friendship }
			reverse_add_opinion_modifier = { target = KOR modifier = declaration_of_friendship }
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Republic of Korea ###
shared_focus = {
	id = POTEF506
	icon = align_to_south_korea
	#icon = POTEF506
	relative_position_id = POTEF505
	x = -1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF505 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF506 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF506"
		KOR = { add_ideas = EDU_major_non_EU_ally }
		every_country = {
			limit = { has_idea = EU_member }
			set_temp_variable = { percent_change = 3 }
			set_temp_variable = { tag_index = KOR.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Japan ###
shared_focus = {
	id = POTEF507
	icon = align_to_japan
	#icon = POTEF507
	relative_position_id = POTEF505
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF505 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF507 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF507"
		JAP = { add_ideas = EDU_major_non_EU_ally }
		every_country = {
			limit = { has_idea = EU_member }
			set_temp_variable = { percent_change = 3 }
			set_temp_variable = { tag_index = JAP.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Black Sea Doctrine ###
shared_focus = {
	id = POTEF550
	#icon = align_to_ukraine
	icon = POTEF550
	relative_position_id = POTEF001
	x = 15
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF550 } }
	available = {
		has_idea = EU_president
		EU_member_is_black_sea = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF550"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_black_sea = yes }
				#bonus effect
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_extensive_anti_air_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_anti_air_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_black_sea
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_extensive_anti_air_doctrine
				remove_ideas = POTEF_anti_air_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Safeguard the Black Sea ###
shared_focus = {
	id = POTEF551
	icon = revive_the_black_sea_fleet
	#icon = POTEF551
	relative_position_id = POTEF550
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF550 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF551 } }
	available = {
		has_idea = EU_president
		EU_member_is_black_sea = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF551"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_black_sea = yes }
				#bonus effect
				if = {
					limit = {
						UKR = {
							has_idea = EU_member
						}
					}
					UKR = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 694 695 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { ROM = { has_idea = EU_member } }
					ROM = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 284 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { BUL = { has_idea = EU_member } }
					BUL = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 154 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = { limit = { MLV = { has_idea = EU_member } }
					MLV = {
						random_controlled_state = {
							limit = {
								air_base < 7
							}
							prioritize = { 148 147 }
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { TUR = { has_idea = EU_member } }
					TUR = {
						random_controlled_state = {
							limit = {
								air_base < 7
							}
							prioritize = { 163 160 }
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { UKR = { has_idea = EU_member } }
			UKR = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 694 695 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { ROM = { has_idea = EU_member } }
			ROM = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 284 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { BUL = { has_idea = EU_member } }
			BUL = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 154 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = { limit = { MLV = { has_idea = EU_member } }
			MLV = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 148 147 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { TUR = { has_idea = EU_member } }
			TUR = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 163 160 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_black_sea
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { UKR = { has_idea = EU_member } }
				UKR = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 694 695 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { ROM = { has_idea = EU_member } }
				ROM = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 284 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { BUL = { has_idea = EU_member } }
				BUL = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 154 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = { limit = { MLV = { has_idea = EU_member } }
				MLV = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 148 147 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { TUR = { has_idea = EU_member } }
				TUR = {
					random_controlled_state = {
						limit = {
							air_base < 7
						}
						prioritize = { 163 160 }
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Reintegrate the Breakaway Republics ###
shared_focus = {
	id = POTEF552
	icon = align_to_abkhazia
	#icon = POTEF552
	relative_position_id = POTEF551
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION }
	prerequisite = { focus = POTEF551 }
	prerequisite = { focus = POTEF601 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF552 } }
	available = {
		has_idea = EU_president
		EU_member_is_black_sea = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF552"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_black_sea = yes }
				#bonus effect
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_opinion_modifier = { target = SOV modifier = CSCE_peace_talks }
					reverse_add_opinion_modifier = { target = SOV modifier = CSCE_peace_talks }
				}
			}
		}
		#basic effect
		if = { limit = { MLV = { has_idea = EU_member } }
			MLV = {
				annex_country = {
					target = PMR
					transfer_troops = no
				}
			}
		}
		if = { limit = { UKR = { has_idea = EU_member } }
			UKR = {
				annex_country = {
					target = NOV
					transfer_troops = no
				}
			}
		}
		if = { limit = { GEO = { has_idea = EU_member } }
			GEO = {
				annex_country = {
					target = ABK
					transfer_troops = no
				}
				annex_country = {
					target = SOO
					transfer_troops = no
				}
			}
		}
		if = {
			limit = {
				ARM = {
					has_idea = EU_member
					AZE = {
						NOT = { has_idea = EU_member }
					}
				}
			}
			ARM = {
				annex_country = {
					target = NKR
					transfer_troops = no
				}
			}
		}
		if = {
			limit = {
				AZE = {
					has_idea = EU_member
					ARM = {
						NOT = { has_idea = EU_member }
					}
				}
			}
			AZE = {
				annex_country = {
					target = NKR
					transfer_troops = no
				}
			}
		}
		every_country = {
			limit = {
				has_idea = EU_member
			}
			reverse_add_opinion_modifier = { target = SOV modifier = EU_annexed_SOV_minion }
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_black_sea
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = {
					has_idea = EU_member
				}
				add_opinion_modifier = { target = SOV modifier = CSCE_peace_talks }
				reverse_add_opinion_modifier = { target = SOV modifier = CSCE_peace_talks }
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Rival Russia ###
shared_focus = {
	id = POTEF553
	icon = attack_russia
	#icon = POTEF553
	relative_position_id = POTEF552
	x = 2
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF552 focus = POTEF652 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF553 } }
	available = { has_idea = EU_president }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF553"
		every_country = {
			limit = {
				has_idea = EU_member
			}
			SOV = {
				set_country_flag = embargo@PREV
				add_opinion_modifier = { target = PREV modifier = embargo }
				reverse_add_opinion_modifier = { target = PREV modifier = embargo }
				add_opinion_modifier = { target = PREV modifier = embargo_opinion }
				reverse_add_opinion_modifier = { target = PREV modifier = embargo_opinion }
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Operation Charlemagne ###
shared_focus = {
	id = POTEF554
	icon = war_against_russia
	#icon = POTEF554
	relative_position_id = POTEF553
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_TFV_AUTONOMY }
	prerequisite = { focus = POTEF553 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF554 } }
	available = {
		has_idea = EU_president
		custom_trigger_tooltip = {
			tooltip = tooltip_focus_POTEF203_trigger
			has_global_flag = EDU
		}
	}

	will_lead_to_war_with = SOV
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF554"
		create_wargoal = {
			type = puppet_wargoal_focus
			target = SOV
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Caucasus Doctrine ###
shared_focus = {
	id = POTEF600
	#icon = align_to_georgia
	icon = POTEF600
	relative_position_id = POTEF001
	x = 17
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF600 } }
	available = {
		has_idea = EU_president
		EU_member_is_caucasus = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF600"
		hidden_effect = {
			#POTEF bonus
			if = {
				limit = {
					POTEF_is_caucasus = yes
			}
				#bonus effect
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_extensive_defense_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = {
				has_idea = EU_member
			}
			add_ideas = POTEF_defense_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_caucasus
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = {
					has_idea = EU_member
				}
				add_ideas = POTEF_extensive_defense_doctrine
				remove_ideas = POTEF_defense_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### European Access ###
shared_focus = {
	id = POTEF601
	icon = europe_ship
	#icon = POTEF601
	relative_position_id = POTEF600
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF600 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF601 } }
	available = {
		has_idea = EU_president
		EU_member_is_caucasus = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF601"
		hidden_effect = {
			#POTEF bonus
			if = {
				limit = {
					POTEF_is_caucasus = yes
			}
				#bonus effect
				if = {
					limit = {
						GEO = {
							has_idea = EU_member
						}
					}
					GEO = {
						random_controlled_state = {
							limit = {
								infrastructure < 4
							}
							prioritize = { 708 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						ARM = {
							has_idea = EU_member
						}
					}
					ARM = {
						random_controlled_state = {
							limit = {
								infrastructure < 4
							}
							prioritize = { 709 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
				if = {
					limit = {
						AZE = {
							has_idea = EU_member
						}
					}
					AZE = {
						random_controlled_state = {
							limit = {
								infrastructure < 4
							}
							prioritize = { 712 }
							add_building_construction = {
								type = infrastructure
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = {
			limit = {
				GEO = {
					has_idea = EU_member
				}
			}
			GEO = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 466 707 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				ARM = {
					has_idea = EU_member
				}
			}
			ARM = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 709 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = {
			limit = {
				AZE = {
					has_idea = EU_member
				}
			}
			AZE = {
				random_controlled_state = {
					limit = {
						air_base < 9
					}
					prioritize = { 713 712 }
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_caucasus
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = {
				limit = {
					GEO = {
						has_idea = EU_member
					}
				}
				GEO = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 708 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					ARM = {
						has_idea = EU_member
					}
				}
				ARM = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 709 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					AZE = {
						has_idea = EU_member
					}
				}
				AZE = {
					random_controlled_state = {
						limit = {
							infrastructure < 4
						}
						prioritize = { 712 }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Visegrad Doctrine ###
shared_focus = {
	id = POTEF650
	#icon = align_to_czechia
	icon = POTEF650
	relative_position_id = POTEF001
	x = 19
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF650 } }
	available = {
		has_idea = EU_president
		EU_member_is_visegrad = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF650"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_visegrad = yes }
				#bonus effect
				every_country = {
					limit = { has_idea = EU_member }
					add_ideas = POTEF_extensive_artillery_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_artillery_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_visegrad
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = { has_idea = EU_member }
				add_ideas = POTEF_extensive_artillery_doctrine
				remove_ideas = POTEF_artillery_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### European Air Defense Network ###
shared_focus = {
	id = POTEF651
	icon = air_defense
	#icon = POTEF651
	relative_position_id = POTEF650
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF650 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF651 } }
	available = {
		has_idea = EU_president
		EU_member_is_visegrad = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF651"
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_visegrad = yes }
				#bonus effect
				if = { limit = { POL = { has_idea = EU_member } }
					POL = {
						random_controlled_state = {
							limit = {
								anti_air_building < 3
							}
							prioritize = { 116 }
							add_building_construction = {
								type = anti_air_building
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { SLO = { has_idea = EU_member } }
					SLO = {
						random_controlled_state = {
							limit = {
								anti_air_building < 3
							}
							prioritize = { 120 }
							add_building_construction = {
								type = anti_air_building
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { HUN = { has_idea = EU_member } }
					HUN = {
						random_controlled_state = {
							limit = {
								anti_air_building < 3
							}
							prioritize = { 122 }
							add_building_construction = {
								type = anti_air_building
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { BLR = { has_idea = EU_member } }
					BLR = {
						random_controlled_state = {
							limit = {
								anti_air_building < 3
							}
							prioritize = { 703 704 }
							add_building_construction = {
								type = anti_air_building
								level = 2
								instant_build = yes
							}
						}
					}
				}
				if = { limit = { CZE = { has_idea = EU_member } }
					CZE = {
						random_controlled_state = {
							limit = {
								radar_station < 3
							}
							prioritize = { 118 }
							add_building_construction = {
								type = radar_station
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}
		#basic effect
		if = { limit = { POL = { has_idea = EU_member } }
			POL = {
				random_controlled_state = {
					limit = {
						anti_air_building < 5
					}
					prioritize = { 116 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { SLO = { has_idea = EU_member } }
			SLO = {
				random_controlled_state = {
					limit = {
						anti_air_building < 5
					}
					prioritize = { 120 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { HUN = { has_idea = EU_member } }
			HUN = {
				random_controlled_state = {
					limit = {
						anti_air_building < 5
					}
					prioritize = { 122 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { BLR = { has_idea = EU_member } }
			BLR = {
				random_controlled_state = {
					limit = {
						anti_air_building < 5
					}
					prioritize = { 703 704 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}
		if = { limit = { CZE = { has_idea = EU_member } }
			CZE = {
				random_controlled_state = {
					limit = {
						radar_station < 5
					}
					prioritize = { 118 }
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_visegrad
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { POL = { has_idea = EU_member } }
				POL = {
					random_controlled_state = {
						limit = {
							anti_air_building < 3
						}
						prioritize = { 116 }
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { SLO = { has_idea = EU_member } }
				SLO = {
					random_controlled_state = {
						limit = {
							anti_air_building < 3
						}
						prioritize = { 120 }
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { HUN = { has_idea = EU_member } }
				HUN = {
					random_controlled_state = {
						limit = {
							anti_air_building < 3
						}
						prioritize = { 122 }
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { BLR = { has_idea = EU_member } }
				BLR = {
					random_controlled_state = {
						limit = {
							anti_air_building < 3
						}
						prioritize = { 703 704 }
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = { limit = { CZE = { has_idea = EU_member } }
				CZE = {
					random_controlled_state = {
						limit = {
							radar_station < 3
						}
						prioritize = { 118 }
						add_building_construction = {
							type = radar_station
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Eastern Firewall ###
shared_focus = {
	id = POTEF652
	icon = eastern_european_defense
	#icon = POTEF652
	relative_position_id = POTEF651
	x = 1
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_INFLUENCE }
	prerequisite = { focus = POTEF651 }
	prerequisite = { focus = POTEF701 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF652 } }
	available = {
		has_idea = EU_president
		EU_member_is_visegrad = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF652"
		set_temp_variable = { percent_change = -5 }
		hidden_effect = {
			#POTEF bonus
			if = { limit = { POTEF_is_visegrad = yes }
				#bonus effect
				if = { limit = { EST = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = EST }
					change_influence_percentage = yes
				}
				if = { limit = { LAT = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = LAT }
					change_influence_percentage = yes
				}
				if = { limit = { LIT = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = LIT }
					change_influence_percentage = yes
				}
				if = { limit = { POL = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = POL }
					change_influence_percentage = yes
				}
				if = { limit = { SLO = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = SLO }
					change_influence_percentage = yes
				}
				if = { limit = { CZE = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = CZE }
					change_influence_percentage = yes
				}
				if = { limit = { HUN = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = HUN }
					change_influence_percentage = yes
				}
				if = { limit = { BLR = { has_idea = EU_member } }
					set_temp_variable = { tag_index = SOV.id }
					set_temp_variable = { influence_target = BLR }
					change_influence_percentage = yes
				}
			}
		}
		#basic effect
		if = { limit = { EST = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = EST }
			change_influence_percentage = yes
		}
		if = { limit = { LAT = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = LAT }
			change_influence_percentage = yes
		}
		if = { limit = { LIT = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = LIT }
			change_influence_percentage = yes
		}
		if = { limit = { POL = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = POL }
			change_influence_percentage = yes
		}
		if = { limit = { SLO = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = SLO }
			change_influence_percentage = yes
		}
		if = { limit = { CZE = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = CZE }
			change_influence_percentage = yes
		}
		if = { limit = { HUN = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = HUN }
			change_influence_percentage = yes
		}
		if = { limit = { BLR = { has_idea = EU_member } }
			set_temp_variable = { tag_index = SOV.id }
			set_temp_variable = { influence_target = BLR }
			change_influence_percentage = yes
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_visegrad
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = { limit = { EST = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = EST }
				change_influence_percentage = yes
			}
			if = { limit = { LAT = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = LAT }
				change_influence_percentage = yes
			}
			if = { limit = { LIT = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = LIT }
				change_influence_percentage = yes
			}
			if = { limit = { POL = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = POL }
				change_influence_percentage = yes
			}
			if = { limit = { SLO = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = SLO }
				change_influence_percentage = yes
			}
			if = { limit = { CZE = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = CZE }
				change_influence_percentage = yes
			}
			if = { limit = { HUN = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = HUN }
				change_influence_percentage = yes
			}
			if = { limit = { BLR = { has_idea = EU_member } }
				set_temp_variable = { tag_index = SOV.id }
				set_temp_variable = { influence_target = BLR }
				change_influence_percentage = yes
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Baltic Doctrine ###
shared_focus = {
	id = POTEF700
	#icon = align_to_baltic_states
	icon = POTEF700
	relative_position_id = POTEF001
	x = 21
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF001 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF700 } }
	available = {
		has_idea = EU_president
		EU_member_is_baltic = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF700"
		hidden_effect = {
			#POTEF bonus
			if = {
				limit = {
					POTEF_is_baltic = yes
				}
				#bonus effect
				every_country = {
					limit = {
						has_idea = EU_member
					}
					add_ideas = POTEF_extensive_special_forces_doctrine
				}
			}
		}
		#basic effect
		every_country = {
			limit = { has_idea = EU_member }
			add_ideas = POTEF_special_forces_doctrine
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_baltic
		effect_tooltip = {
			#mockup bonus effect for tooltip
			every_country = {
				limit = {
					has_idea = EU_member
				}
				add_ideas = POTEF_extensive_special_forces_doctrine
				remove_ideas = POTEF_special_forces_doctrine
			}
		}
	}
	ai_will_do = {
		factor = 1
	}
}
### Safeguard the Baltic Sea ###
shared_focus = {
	id = POTEF701
	icon = baltic_states
	#icon = POTEF701
	relative_position_id = POTEF700
	x = 0
	y = 1
	cost = 10
	search_filters = { FOCUS_FILTER_MILITARY_LAWS }
	prerequisite = { focus = POTEF700 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF701 } }
	available = {
		has_idea = EU_president
		EU_member_is_baltic = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF701"
		hidden_effect = {
			#POTEF bonus
			if = {
				limit = {
					POTEF_is_baltic = yes
				}
				#bonus effect
				if = {
					limit = {
						EST = {
							has_idea = EU_member
						}
					}
					EST = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 105 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						LAT = {
							has_idea = EU_member
						}
					}
					LAT = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 107 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						LIT = {
							has_idea = EU_member
						}
					}
					LIT = {
						random_controlled_state = {
							limit = {
								any_province_building_level = {
									province = {
										all_provinces = yes
										limit_to_coastal = yes
										limit_to_naval_base = yes
									}
									building = naval_base
									level < 7
								}
							}
							prioritize = { 109 }
							add_building_construction = {
								type = naval_base
								level = 2
								instant_build = yes
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
							}
						}
					}
				}
			}
		}
		#basic effect
		if = {
			limit = {
				EST = {
					has_idea = EU_member
				}
			}
			EST = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 105 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				LAT = {
					has_idea = EU_member
				}
			}
			LAT = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 107 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		if = {
			limit = {
				LIT = {
					has_idea = EU_member
				}
			}
			LIT = {
				random_controlled_state = {
					limit = {
						any_province_building_level = {
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
							building = naval_base
							level < 9
						}
					}
					prioritize = { 109 }
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
					}
				}
			}
		}
		custom_effect_tooltip = tooltip_POTEF_bonus_effect
		custom_effect_tooltip = tooltip_POTEF_is_baltic
		effect_tooltip = {
			#mockup bonus effect for tooltip
			if = {
				limit = {
					EST = {
						has_idea = EU_member
					}
				}
				EST = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 105 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					LAT = {
						has_idea = EU_member
					}
				}
				LAT = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 107 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					LIT = {
						has_idea = EU_member
					}
				}
				LIT = {
					random_controlled_state = {
						limit = {
							any_province_building_level = {
								province = {
									all_provinces = yes
									limit_to_coastal = yes
									limit_to_naval_base = yes
								}
								building = naval_base
								level < 7
							}
						}
						prioritize = { 109 }
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_coastal = yes
								limit_to_naval_base = yes
							}
						}
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 1
	}
}

### Pax Europaea ###
shared_focus = {
	id = POTEF800
	icon = align_to_europe
	#icon = POTEF800
	relative_position_id = POTEF504
	x = -2
	y = 3
	cost = 10
	search_filters = { FOCUS_FILTER_POLITICAL }
	prerequisite = { focus = POTEF204 focus = POTEF206 focus = POTEF207 focus = POTEF504 }
	bypass = { any_of_scopes = { array = global.EU_member has_completed_focus = POTEF800 } }
	available = { has_idea = EU_president }


	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus POTEF800"
		every_country = {
			limit = {
				has_idea = EU_member
			}
			add_ideas = POTEF_pax_europaea
		}
	}
	ai_will_do = {
		factor = 1
	}
}
